
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
 <channel>
   <title>distributed-system on Qicz&#39;s Thoughts HUB</title>
   <link>https://izcqi.com/tags/distributed-system/</link>
   <description>Recent content in distributed-system on Qicz&#39;s Thoughts HUB</description>
   <generator>Hugo -- gohugo.io</generator>
   <managingEditor>zcq#zhucongqi.cn (Qicz)</managingEditor>
   <webMaster>zcq#zhucongqi.cn (Qicz)</webMaster>
   <copyright>&amp;copy; 2012 - </copyright>
   <lastBuildDate>Mon, 02 Dec 2019 21:17:29 +0800</lastBuildDate>
   
       <atom:link href="https://izcqi.com/tags/distributed-system/index.xml" rel="self" type="application/rss+xml" />
   
   
     <item>
       <title>è®°2020å¹´ç¬¬ä¸€é•¿è·‘</title>
       <link>https://izcqi.com/posts/2020/08/01/the-first-long-distance-race-of-2020/</link>
       <pubDate>Sat, 01 Aug 2020 17:58:16 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2020/08/01/the-first-long-distance-race-of-2020/</guid>
       <description>

&lt;p&gt;éå¸¸ç‰¹åˆ«çš„ä¸€æ¬¡é•¿è·‘â€”â€”2020å¹´ç¬¬ä¸€ä¸ª10kmã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº›æ—¶é—´ï¼Œç”šè‡³è¯´å°±æ²¡æœ‰è¿›è¡Œè¿‡è¿™æ ·çš„è¿åŠ¨ï¼Œè¿™çœŸå¦‚çªæ¥çš„é•¿è·‘ï¼Œè®©æˆ‘æ€è€ƒè®¸å¤šã€‚ç°åœ¨å›æƒ³ï¼Œåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­çš„æ„Ÿå—ï¼Œä¾æ®å›å‘³æ— ç©·ã€‚å¯æƒœï¼Œæ‰‹æœºåŸå› æœªèƒ½è®°å½•å®Œæ•´æ•°æ®è®°å½•ã€‚ä»¥ä¸‹æ˜¯æ–‡å­—è®°å½•ï¼š&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬0km&#34;&gt;ç¬¬0km&lt;/h3&gt;

&lt;p&gt;èµ·è·‘æ—¶ï¼Œå…ˆæ•´äº†ä¸€ä¸ªå†°çš„çº¢ç‰›ã€‚åˆšèµ·æ­¥ï¼Œæ„Ÿè§‰æ˜¯â€è½»â€œã€‚åœ¨éå¸¸æ¸…éå¸¸ç¼“çš„çŠ¶æ€ä¸‹ï¼Œå¼€å§‹äº†ã€‚é¢„è®¡ï¼Œåœ¨è·‘åˆ°300-500mçš„æ—¶å€™ï¼Œæ„Ÿè§‰å°±ä¸Šæ¥äº†ï¼ŒæŠŠé€Ÿåº¦æäº†ä¸€ç‚¹ï¼Œæ®åŒè¡Œä¼™ä¼´çš„æ•°æ®ï¼Œåº”è¯¥è¿›å…¥äº†6åˆ†å·¦å³ã€‚ä½†ä¹‹åçš„æ„Ÿå—å°±ä¸ä¸€æ ·äº†ï¼Œèº«ä½“æœ‰ç‚¹éš¾ä»¥é€‚åº”äº†ï¼Œæ„Ÿè§‰è¿™ä¸å¤´æ®µæ—¶é—´è‡ªå·±çš„è½»æ¾5kmæ„Ÿè§‰éå¸¸ä¸åŒã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ä¸Šæ¬¡çš„5kmï¼Œè‡ªå·±æ˜¯ä¸€è¾¹è·‘ï¼Œä¸€è¾¹æ€è€ƒã€‚è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œé¡ºåˆ©çš„â€ä¸€å¿ƒå¤šç”¨â€œã€‚å¯¹5kmçš„å®Œæˆï¼Œæ²¡æœ‰å¤ªå¤šæ„Ÿå—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä»è£…å¤‡æ¥è¯´ï¼Œæˆ‘é€‰æ‹©äº†ä¸€åŒçœŸçš„éå¸¸ä¸å¤ªåˆé€‚çš„é‹ï¼Œé‹åº•æœ‰äº›ç¡¬ï¼Œç¨å¾®æ‡‚ä¸€ç‚¹è·ç¦»ï¼Œè„šå°±å·²ç»æœ‰æ˜ç»†çš„ä¸é€‚ã€‚ä»å¿ƒé‡Œæ„Ÿå—æ¥è¯´ï¼Œæˆ‘å°è¯•å»æ€è€ƒé—®é¢˜ï¼Œå¯æ˜¯æ— æ³•è¿›å…¥çŠ¶æ€ã€‚å¯ä»¥ä¹Ÿæ­£å› ä¸ºè¿™æ ·ï¼Œæˆ‘æ‰å¯ä»¥æ›´åŠ æŠ•å…¥çš„æ€è€ƒï¼Œè¿™æ¬¡è·‘æ­¥çš„æ„Ÿå—ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬1km&#34;&gt;ç¬¬1km&lt;/h3&gt;

&lt;p&gt;åˆ°äº†1kmçš„æ—¶å€™ï¼Œå¿ƒé‡Œçš„ç—›è‹¦çš„ï¼Œå› ä¸ºèº«ä½“å¹¶æ²¡æœ‰é€‚åº”ï¼ŒåšæŒè·‘äº†â€å¾ˆä¹…â€œï¼Œæ„Ÿå—è¿‡äº†â€3kmâ€œç”šè‡³æ›´å¤šé‚£ä¹ˆä¹…ğŸ¤¦â€â™‚ï¸ã€‚ä½†å½“å‘Šè¯‰æˆ‘ï¼Œè¿™ä»…ä»…æ˜¯å®Œæˆäº†ç¬¬ä¸€ä¸ª1kmæ—¶ï¼Œå¿ƒé‡Œåˆ«æå¤šä¹ˆçš„å´©æºƒäº†ï¼Œè¿™å¯æ˜¯è¿˜æœ‰9kmï¼Œä¸è¿‡å†æƒ³æƒ³ï¼Œæˆ–è®¸åœ¨åšæŒä¸€ä¸‹ï¼Œæˆ‘çš„èº«ä½“é€‚åº”äº†ï¼Œå°±å¥½äº†ã€‚å°è¯•ç€æé€Ÿï¼Œå¹¶è°ƒæ•´å’Œæ„Ÿå—èº«ä½“çš„é€‚åº”å˜åŒ–ã€‚æ…¢æ…¢çš„å¼€å§‹é€‚åº”äº†ã€‚&lt;/p&gt;

&lt;p&gt;å¿ƒé‡Œæ­¤åˆ»æƒ³çš„ï¼Œ ç›®æ ‡10kmï¼Œæˆ‘å¯ä»¥ï¼&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬2km&#34;&gt;ç¬¬2km&lt;/h3&gt;

&lt;p&gt;ç¬¬2kmæ—¶ï¼Œå†…å¿ƒæ²¡æœ‰å¤ªå¤šå˜åŒ–ã€‚å½“èº«è¾¹æ— æ•°çš„â€ä¸“ä¸šâ€œè¿åŠ¨è€…ä¸€æ‰¹ä¸€æ‰¹çš„ä»èº«è¾¹ç»è¿‡æ—¶ï¼Œæˆ‘å†åŠ æŠŠæ²¹ï¼Œå†²å†²ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬3km&#34;&gt;ç¬¬3km&lt;/h3&gt;

&lt;p&gt;â€è¿™å•¥æ—¶å€™æ˜¯æœ€åçš„æœ€åâ€œï¼Œåœ¨ç¬¬3kmçš„æ—¶å€™ï¼Œèº«ä½“è¿˜æœªé€‚åº”ï¼Œåå€’è„šçš„ä¸é€‚è¶Šæ¥è¶Šæ˜æ˜¾äº†ï¼Œå¿ƒæƒ³åèœäº†ï¼Œè¿™é‹è¦å½±å“æˆ‘äº†ã€‚è¿™åœ¨èº«ä½“ä¹Ÿä¼šé€‚åº”çš„æƒ…å†µä¸‹ï¼Œå¿ƒé‡Œçš„æ³¢åŠ¨æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚&lt;/p&gt;

&lt;p&gt;ç»§ç»­å‰è¿›äº†ä¸€ä¼šï¼Œçœ‹ç€è·¯æ ‡æŒ‡ç¤ºï¼Œè¿™æ˜¯ç¬¬3kmçš„å¼€å§‹ï¼Œè¿˜æœ‰7kmï¼Œæˆ‘ç¦»ç›®æ ‡åˆè¿‘äº†ä¸€ç‚¹ï¼Œè¿˜æ²¡æœ‰åˆ°èº«ä½“é€‚åº”ç‚¹ï¼Œæˆ‘æ˜¯ä¸æ˜¯å†åšæŒä¸€ä¸‹ï¼Œèº«ä½“é€‚åº”äº†ï¼Œå°±å¥½äº†å‘¢ï¼Ÿç»§ç»­å§ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬4km&#34;&gt;ç¬¬4km&lt;/h3&gt;

&lt;p&gt;ç»§ç»­è¿›è¡Œç€ï¼Œç»ˆäºæ¥åˆ°äº†èº«ä½“é€‚åº”ç‚¹ï¼Œå°½ç®¡è¿™è¿‡ç¨‹ä¸­ï¼Œæœ‹å‹çš„è¿åŠ¨æ‰‹è¡¨ï¼Œå·²ç»å¥½å‡ æ¬¡æç¤ºæˆ‘å¿ƒç‡è¿‡é«˜ï¼ˆæœ€é«˜194ï¼‰ï¼Œæˆ‘å°†é€Ÿåº¦é€‚å½“è°ƒæ•´ä¹‹åï¼Œç»§ç»­è¿›è¡Œã€‚é‡åˆ°æœ‰å¾®å¾®çš„ä¸Šå¡çš„åœ°æ–¹ï¼Œæˆ‘ä¹Ÿä¼šé€‚å½“çš„è°ƒæ•´ä¸ºå¿«èµ°çš„æ–¹å¼ã€‚ç„¶åç»§ç»­è¿›è¡Œç€ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ç¬¬4kmå³å°†ç»“æŸï¼Œç¬¬5kmå³å°†å¼€å§‹çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€æ®µä¸Šå¡æ›´åŠ æ˜æ˜¾çš„åœ°æ–¹ï¼Œæ­¤åˆ»èº«ä½“è¿˜æ˜¯æœ‰ç‚¹â€æ‹’ç»â€œï¼Œä¸€åº¦æç¤ºæˆ‘å¿ƒç‡å¤ªé«˜ã€‚â€å®‰å…¨è€ƒè™‘ï¼Œæˆ‘å†æ¬¡æ”¾ç¼“äº†â€œğŸ˜ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬5km&#34;&gt;ç¬¬5km&lt;/h3&gt;

&lt;p&gt;ç¬¬5kmå¼€å§‹çš„æ—¶å€™ï¼Œå¿ƒæƒ³ï¼šâ€å“Ÿï¼Œé©¬ä¸Šè¿›å…¥ç›®æ ‡çš„ä¸€åŠäº†ï¼Œè™½ç„¶åˆšå¼€å§‹æœ‰å„ç§ä¸é€‚ï¼Œè¿˜æ˜¯åšæŒä¸‹æ¥ï¼Œå†åšæŒåšæŒå°±å¯ä»¥å®Œæˆäº†ã€‚â€œä¸€å£æ°”ï¼Œè·‘åˆ°äº†ç¬¬6kmã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬6km&#34;&gt;ç¬¬6km&lt;/h3&gt;

&lt;p&gt;ç¦»ç›®æ ‡è¶Šæ¥è¶Šè¿‘äº†ï¼Œä½†æ˜¯å¿ƒé‡Œçš„çŠ¶æ€ä¼¼ä¹åˆæœ‰äº†æ–°çš„å˜åŒ–ã€‚å¥½åƒå°±æ˜¯ä¸ºäº†è¿™10kmäº†ã€‚ä¸€ç›´ç›¯ç€è¿˜æœ‰å¤šå°‘ç»“æŸï¼Œè¿˜æœ‰å¤šä¹…å¯ä»¥çœ‹åˆ°ç»ˆç‚¹ã€‚å°±è¿™æ ·ä¸€è¾¹æ€é‡ç€ï¼Œä¸€è¾¹ç»§ç»­å¾€å‰ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬7km&#34;&gt;ç¬¬7km&lt;/h3&gt;

&lt;p&gt;å“Ÿï¼Œè¿˜æœ‰3kmï¼Œè¿˜è®°å¾—ç¬¬ä¸€åœˆçš„æ—¶å€™ï¼Œè·‘åˆ°ç¬¬3kmæ—¶çš„çŠ¶æ€ï¼šâ€œå•¥æ—¶å€™æ‰æ˜¯ç»“æŸâ€ã€‚æ­¤åˆ»æƒ³çš„å´æ˜¯ï¼Œè¿™ä¸€è·¯éƒ½æ˜¯æˆ‘è·‘è¿‡çš„ï¼Œæˆ‘é‡åˆ°è¿‡çš„ï¼Œæˆ‘åœ¨æ‰¾åˆ°ç†Ÿæ‚‰çš„é‡ç‚¹æ¥è¿‘çš„æ„Ÿè§‰ã€‚æƒ³ç€3kmå¾ˆå¿«çš„ã€‚åŸæœ¬ä»¥ä¸ºç›´æ¥ç¦»é‡ç‚¹å·²ç»å¾ˆè¿‘äº†ï¼Œç»“æœå½“æˆ‘å‘ç°ä¸€ä¸ªç†Ÿæ‚‰çš„é™Œç”Ÿçš„åœ°æ–¹çš„æ—¶å€™ï¼Œæ‰å‘ç°ï¼ŒåŸæ¥è¿˜æ—©ç€å‘¢&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬8km&#34;&gt;ç¬¬8km&lt;/h3&gt;

&lt;p&gt;åˆ°äº†ç¬¬8kmï¼Œæ²¡æœ‰äº†ä¹‹å‰çš„æƒ³æ³•ï¼Œæƒ³ç€æœ€åäº†ï¼Œä¸è®ºå¦‚ä½•ä¸€å®šè¦åšæŒè·‘ä¸‹æ¥ã€‚åˆ°äº†æœ‰å¡çš„åœ°æ–¹ï¼ŒçŸ¥é“ç°åœ¨æˆ‘ä¹Ÿè§‰å¾—æ˜¯æœ€çˆ½çš„åœ°æ–¹ï¼Œæˆ‘å¯ä»¥é¢ ç€è·‘ï¼Œå¯æƒœé‹æ˜¯çœŸä¸è¡Œï¼Œè„šä¸èˆ’æœã€‚ç»§ç»­ç€&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬9km&#34;&gt;ç¬¬9km&lt;/h3&gt;

&lt;p&gt;ç¦»ç›®æ ‡è¶Šæ¥è¶Šè¿‘äº†ã€‚ æ­¤åˆ»ï¼Œå·²ç»æ²¡æœ‰å¤ªå¤šçš„æƒ³æ³•ï¼Œå°±æƒ³ç€æˆ‘å¾€å‰ï¼Œä¸€ä¼šå°±åˆ°äº†é‡ç‚¹äº†ï¼Œæˆ‘å¯ä»¥ä¼‘æ¯ä¸€ä¸‹äº†ã€‚ æ­¤åˆ»ï¼Œé™¤äº†é‹å·²ç»å…¨éƒ¨æ¹¿é€äº†ã€‚ç¬¬ä¸€æ¬¡è¿™ç§å‡ºæ±—ï¼Œå¿ƒé‡Œæƒ³ç€è¿˜æ˜¯å¾ˆç¾çš„ã€‚æƒ³ç€æ‰åšæŒå°±ç»“æŸäº†ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç¬¬10km&#34;&gt;ç¬¬10km&lt;/h3&gt;

&lt;p&gt;è¿›å…¥åˆ°äº†ç¬¬10kmï¼Œæƒ³ç€è¿™åˆ°äº†æœ€åä¸€åˆ»äº†ï¼Œè™½ç„¶èº«ä½“å·²ç»éå¸¸ç´¯äº†ï¼Œä½†æ˜¯çœ‹åˆ°è¿˜æœ‰çŸ­çŸ­çš„è·ç¦»ï¼Œå¿ƒé‡Œè¿˜æ˜¯å¾ˆç¾çš„ï¼Œä»åˆšå¼€å§‹è·‘2kmï¼Œå°±è§‰å¾—ä¸èˆ’æœï¼Œåˆ°ç°åœ¨10kmç›®æ ‡çš„å®Œæˆã€‚æˆ‘åšæŒä¸‹æ¥äº†ã€‚ä½†åˆ°è¾¾ç»ˆç‚¹çš„æ—¶å€™ï¼Œå¯ä»¥æ­‡ä¸‹æ¥äº†ï¼Œæ„Ÿè§‰å…¨èº«éƒ½æ¾å¿«äº†ã€‚å¿ƒé‡Œç¾æäº†&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;ä»ç¬¬0kmåˆ°ç¬¬10km&#34;&gt;ä»ç¬¬0kmåˆ°ç¬¬10km&lt;/h3&gt;

&lt;p&gt;å…¶å®å›°éš¾éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±è®¤æ€‚äº†ï¼›åªè¦ä½ åšæŒï¼Œå†åšæŒä¸€ä¸‹ï¼Œæœ€åä½ å¯ä»¥å®Œæˆä½ çš„ç›®æ ‡ã€‚æŒ‘æˆ˜ï¼Œè‡ªå·±å¯ä»¥å’Œå€¼å¾—æŒ‘æˆ˜çš„ï¼Œæˆ˜èƒœä¹‹åï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªè·Ÿå¼ºçš„è‡ªå·±ã€‚ç›®æ ‡æ„Ÿï¼Œä¿ƒä½¿ä½ å¥‹åŠ›ä¸€æã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ä½™ä¸‹çš„ç›®æ ‡ï¼Œå¹´åº•å‰å®Œæˆä¸€æ¬¡30kmã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</description>
     </item>
   
     <item>
       <title>Kong Quick Start &amp; Core Concepts (cn) </title>
       <link>https://izcqi.com/posts/2020/07/28/kong-quick-start-and-core-concepts-cn/</link>
       <pubDate>Tue, 28 Jul 2020 22:23:39 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2020/07/28/kong-quick-start-and-core-concepts-cn/</guid>
       <description>

&lt;blockquote&gt;
&lt;p&gt;è¯´æ˜ï¼šä½œè€…Qiczå°†æœ‰å¯èƒ½éšæ—¶çš„ä¿®è®¢æœ¬æ–‡çš„å†…å®¹ï¼Œä¸ºäº†ä¿è¯å†…å®¹çš„ä¸€è‡´æ€§å’Œä¸¥è°¨æ€§ï¼Œä½œè€…Qiczä¿ç•™æœ¬æ–‡çš„æ‰€æœ‰æƒåˆ©ã€‚æœªç»ä½œè€…Qiczæœ¬äººåŒæ„ï¼Œä¸å¾—è½¬è½½æˆ–è€…ä»¥å…¶ä»–æ–¹å¼ä½¿ç”¨è¿™äº›å†…å®¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;ä»æŠ€æœ¯çš„è§’åº¦æ¥è¯´-kongæ˜¯ä»€ä¹ˆ-å› ä¸ºkongä¹Ÿæœ‰é‡‘åˆšæ„æ€-https-docs-konghq-com-2-1-x-getting-started-introduction&#34;&gt;ä»æŠ€æœ¯çš„è§’åº¦æ¥è¯´ï¼ŒKongæ˜¯ä»€ä¹ˆï¼ˆå› ä¸ºKongä¹Ÿæœ‰é‡‘åˆšæ„æ€ï¼‰? (&lt;a href=&#34;https://docs.konghq.com/2.1.x/getting-started/introduction/&#34;&gt;https://docs.konghq.com/2.1.x/getting-started/introduction/&lt;/a&gt;)&lt;/h3&gt;

&lt;p&gt;Kongæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨Nginxä¸­çš„åŸºäºLua - Nginxæ¨¡å—å®ç°çš„Luaåº”ç”¨ç¨‹åºã€‚Kongä¸OpenRestyä¸€èµ·å‘å¸ƒçš„ï¼Œä»¥æ­¤æ›¿ä»£åœ¨Nginxä¸­è¿˜éœ€ç¼–è¯‘Lua - Nginxæ¨¡å—ï¼ŒOpenRestyå·²ç»åŒ…å«äº†lua- Nginxæ¨¡å—ã€‚OpenRestyä¸æ˜¯Nginxçš„ä¸€ä¸ªåˆ†æ”¯ï¼Œè€Œæ˜¯ä¸€ç»„æ‰©å±•å…¶åŠŸèƒ½çš„æ¨¡å—ã€‚&lt;/p&gt;

&lt;p&gt;Kongæ˜¯ä¸€ä¸ªåŸºäºäº‘çš„ã€å¿«é€Ÿçš„ã€å¯ä¼¸ç¼©çš„åˆ†å¸ƒå¼å¾®æœåŠ¡æŠ½è±¡å±‚(ä¹Ÿç§°ä¸ºAPIç½‘å…³æˆ–APIä¸­é—´ä»¶)ã€‚2015å¹´ä½œä¸ºå¼€æºé¡¹ç›®å‘å¸ƒï¼Œå…¶æ ¸å¿ƒä»·å€¼æ˜¯é«˜æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚&lt;/p&gt;

&lt;h4 id=&#34;ä¸ºä½•é€‰æ‹©kong&#34;&gt;ä¸ºä½•é€‰æ‹©Kongï¼Ÿ&lt;/h4&gt;

&lt;p&gt;å¦‚æœæ‚¨æ­£åœ¨ä¸ºwebã€ç§»åŠ¨æˆ–ç‰©è”ç½‘æ„å»ºæœåŠ¡ï¼Œé‚£ä»¬æ‚¨å¯èƒ½è¿˜éœ€è¦é€šç”¨åŠŸèƒ½æ¥è¿è¡Œæ‚¨çš„å®é™…è½¯ä»¶ã€‚Kongå¯ä»¥å……å½“å¾®æœåŠ¡è¯·æ±‚çš„ç½‘å…³(æˆ–ä¾§å¡)ï¼ŒåŒæ—¶é€šè¿‡æ’ä»¶æä¾›è´Ÿè½½å¹³è¡¡ã€æ—¥å¿—è®°å½•ã€èº«ä»½éªŒè¯ã€é€Ÿç‡é™åˆ¶ã€è½¬æ¢ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/image-20200728111142106.png#mid&#34; alt=&#34;Different architecture compare&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Kongçš„æ„å»ºéµå¾ªä»¥ä¸‹ä¸»è¦åŸåˆ™ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é«˜æ€§èƒ½&lt;/strong&gt;ï¼šäºšæ¯«ç§’çº§å¤„ç†å»¶è¿Ÿï¼Œå¯æ”¯æŒå…³é”®ä»»åŠ¡ç”¨ä¾‹å’Œé«˜ååé‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯æ‰©å±•æ€§&lt;/strong&gt;ï¼šå¸¦æœ‰å¯æ’æ‹”çš„ä½“ç³»ç»“æ„ï¼Œå¯é€šè¿‡Kongçš„Plugin SDKæ‰©å±•Luaæˆ–GoLangä¸­çš„Kongã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ç§»æ¤æ€§&lt;/strong&gt;ï¼šè¦åœ¨æ¯ä¸ªå¹³å°ï¼Œæ¯ä¸ªäº‘ä¸Šè¿è¡Œï¼Œå¹¶é€šè¿‡æˆ‘ä»¬çš„ç°ä»£Ingress Controlleræœ¬åœ°æ”¯æŒKubernetesã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;features&#34;&gt;Features&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Cloud-Native&lt;/strong&gt;ï¼šä¸å¹³å°æ— å…³ï¼ŒKongå¯ä»¥åœ¨ä»»ä½•å¹³å°ä¸Šè¿è¡Œ-ä»è£¸æœºåˆ°å®¹å™¨-å¹¶ä¸”å¯ä»¥åœ¨æœ¬æœºä¸Šçš„æ¯ä¸ªäº‘ä¸Šè¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Kubernetes-Native&lt;/strong&gt;ï¼šä½¿ç”¨å®˜æ–¹çš„Ingress Controlleré€šè¿‡æœ¬åœ°Kubernetes CRDå£°æ˜æ€§åœ°é…ç½®Kongï¼Œä»¥è·¯ç”±å’Œè¿æ¥æ‰€æœ‰L4 + L7é€šä¿¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€è´Ÿè½½å¹³è¡¡&lt;/strong&gt;ï¼šåœ¨å¤šä¸ªä¸Šæ¸¸æœåŠ¡ä¹‹é—´å¹³è¡¡æµé‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸºäºå“ˆå¸Œçš„è´Ÿè½½å¹³è¡¡&lt;/strong&gt;ï¼šå…·æœ‰ä¸€è‡´çš„å“ˆå¸Œ/ç²˜æ€§ä¼šè¯çš„è´Ÿè½½å¹³è¡¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–­è·¯å™¨&lt;/strong&gt;ï¼šæ™ºèƒ½è·Ÿè¸ªä¸å¥åº·çš„ä¸Šæ¸¸æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿è¡ŒçŠ¶å†µæ£€æŸ¥ï¼š&lt;/strong&gt;ä¸»åŠ¨å’Œè¢«åŠ¨ç›‘è§†ä¸Šæ¸¸æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœåŠ¡å‘ç°&lt;/strong&gt;ï¼šåœ¨ç¬¬ä¸‰æ–¹DNSè§£æå™¨ï¼ˆä¾‹å¦‚Consulï¼‰ä¸­è§£æSRVè®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— æœåŠ¡å™¨&lt;/strong&gt;ï¼šç›´æ¥ä»Kongè°ƒç”¨å’Œä¿æŠ¤AWS Lambdaæˆ–OpenWhiskåŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WebSockets&lt;/strong&gt;ï¼šé€šè¿‡WebSocketsä¸æ‚¨çš„ä¸Šæ¸¸æœåŠ¡è¿›è¡Œé€šä¿¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gRPC&lt;/strong&gt;ï¼šä¸gRPCæœåŠ¡è¿›è¡Œé€šä¿¡ï¼Œå¹¶é€šè¿‡æ—¥å¿—è®°å½•å’Œå¯è§‚å¯Ÿæ€§æ’ä»¶è§‚å¯Ÿæµé‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OAuth2.0&lt;/strong&gt;ï¼šè½»æ¾å°†OAuth2.0èº«ä»½éªŒè¯æ·»åŠ åˆ°æ‚¨çš„APIã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®°å½•&lt;/strong&gt;ï¼šé€šè¿‡HTTPï¼ŒTCPï¼ŒUDPæˆ–ç£ç›˜&lt;strong&gt;è®°å½•&lt;/strong&gt;å¯¹ç³»ç»Ÿçš„è¯·æ±‚å’Œå“åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨æ€§&lt;/strong&gt;ï¼šACLï¼Œåƒµå°¸ç¨‹åºæ£€æµ‹ï¼Œå…è®¸/æ‹’ç»IPç­‰&amp;hellip;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Syslog&lt;/strong&gt;:  ç³»ç»Ÿæ—¥å¿—è®°å½•.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SSL&lt;/strong&gt;ï¼šä¸ºåŸºç¡€æœåŠ¡æˆ–APIè®¾ç½®ç‰¹å®šçš„SSLè¯ä¹¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›‘è§†&lt;/strong&gt;ï¼šå®æ—¶ç›‘è§†æä¾›å…³é”®çš„è´Ÿè½½å’Œæ€§èƒ½æœåŠ¡å™¨æŒ‡æ ‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è½¬å‘ä»£ç†&lt;/strong&gt;ï¼šä½¿Kongè¿æ¥åˆ°é€æ˜çš„ä¸­ä»‹HTTPä»£ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¤è¯&lt;/strong&gt;ï¼šHMACï¼ŒJWTï¼ŒBasicç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€Ÿç‡é™åˆ¶&lt;/strong&gt;ï¼šåŸºäºè®¸å¤šå˜é‡çš„é˜»æ­¢å’Œé™åˆ¶è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è½¬æ¢&lt;/strong&gt;ï¼šæ·»åŠ ï¼Œåˆ é™¤æˆ–å¤„ç†HTTPè¯·æ±‚å’Œå“åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å­˜&lt;/strong&gt;ï¼šåœ¨ä»£ç†å±‚ç¼“å­˜å¹¶æä¾›å“åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CLI&lt;/strong&gt;ï¼š&lt;strong&gt;ä»å‘½ä»¤è¡Œ&lt;/strong&gt;æ§åˆ¶Kongç¾¤é›†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;REST API&lt;/strong&gt;ï¼šKongå¯ä»¥ä½¿ç”¨å…¶RESTful APIè¿›è¡Œæ“ä½œï¼Œä»¥å®ç°æœ€å¤§çš„çµæ´»æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœ°ç†å¤åˆ¶&lt;/strong&gt;ï¼šè·¨ä¸åŒåŒºåŸŸçš„é…ç½®å§‹ç»ˆæ˜¯æœ€æ–°çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•…éšœæ£€æµ‹å’Œæ¢å¤&lt;/strong&gt;ï¼šå¦‚æœæ‚¨çš„CassandraèŠ‚ç‚¹ä¹‹ä¸€å‘ç”Ÿ&lt;strong&gt;æ•…éšœï¼Œåˆ™&lt;/strong&gt; Kongä¸ä¼šå—åˆ°å½±å“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é›†ç¾¤&lt;/strong&gt;ï¼šæ‰€æœ‰KongèŠ‚ç‚¹è‡ªåŠ¨åŠ å…¥é›†ç¾¤ï¼Œå¹¶åœ¨å„ä¸ªèŠ‚ç‚¹ä¹‹é—´æ›´æ–°å…¶é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ä¼¸ç¼©æ€§&lt;/strong&gt;ï¼šKongæœ¬è´¨ä¸Šåˆ†å¸ƒï¼Œåªéœ€æ·»åŠ èŠ‚ç‚¹å³å¯æ°´å¹³&lt;strong&gt;æ‰©å±•&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½&lt;/strong&gt;ï¼šKongé€šè¿‡æ‰©å±•å’Œä½¿ç”¨NGINXä½œä¸ºæ ¸å¿ƒè½»æ¾å¤„ç†è´Ÿè½½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ’ä»¶&lt;/strong&gt;ï¼šå¯æ‰©å±•çš„ä½“ç³»ç»“æ„ï¼Œç”¨äºå‘Kongå’ŒAPIæ·»åŠ åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/image-20200727154809091.png#mid&#34; alt=&#34;Kong layer&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;concepts&#34;&gt;Concepts&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Services&lt;/li&gt;
&lt;li&gt;Routes&lt;/li&gt;
&lt;li&gt;Upstreams&lt;/li&gt;
&lt;li&gt;Targets&lt;/li&gt;
&lt;li&gt;Tags&lt;/li&gt;
&lt;li&gt;Consumers&lt;/li&gt;
&lt;li&gt;Plugins&lt;/li&gt;
&lt;li&gt;Others

&lt;ul&gt;
&lt;li&gt;Certificate Object&lt;/li&gt;
&lt;li&gt;CA Certificate Object&lt;/li&gt;
&lt;li&gt;SNI Object&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;plugins&#34;&gt;Plugins&lt;/h3&gt;

&lt;h4 id=&#34;proxy-cache-plugin-https-docs-konghq-com-hub-kong-inc-proxy-cache&#34;&gt;proxy-cache plugin (&lt;a href=&#34;https://docs.konghq.com/hub/kong-inc/proxy-cache/&#34;&gt;https://docs.konghq.com/hub/kong-inc/proxy-cache/&lt;/a&gt;)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;ä¸»è¦å‚æ•°

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;config.content_type&lt;/code&gt; ç¼“å­˜æŸæŒ‡å®šçš„&lt;code&gt;content_type&lt;/code&gt;ç±»å‹çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config.cache_ttl&lt;/code&gt; ç¼“å­˜å­˜æ´»æ—¶é—´ï¼Œé»˜è®¤ &lt;code&gt;300ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config.strategy&lt;/code&gt;  ç¼“å­˜ç­–ç•¥ï¼Œç¤¾åŒºç‰ˆæœ¬åªæ”¯æŒ&lt;code&gt;memory&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config.request_method&lt;/code&gt;  é»˜è®¤å–å€¼ &lt;code&gt;[&amp;quot;GET&amp;quot;,&amp;quot;HEAD&amp;quot;]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config.response_code&lt;/code&gt;  é»˜è®¤å–å€¼ &lt;code&gt;200, 301, 404&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¼“å­˜çŠ¶æ€

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Miss&lt;/code&gt;: åœ¨ç¼“å­˜ä¸­æ²¡æœ‰æ‰¾åˆ°æ•°æ®ï¼Œå‘ä¸Šæ¸¸æœåŠ¡è¯·æ±‚ä»¥è·å–æ•°æ®ï¼Œå¹¶ç¼“å­˜è¿”å›æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Hit&lt;/code&gt;: è¯·æ±‚ä¸­ç¼“å­˜ä¸­å‘½ä¸­æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Refresh&lt;/code&gt;: ç”±äºåœ¨Cache-Controlè¡Œä¸ºæˆ–è¾¾åˆ°å…¶ç¡¬ç¼–ç cache_ttlé˜ˆå€¼ï¼Œå› æ­¤åœ¨ç¼“å­˜ä¸­æ‰¾åˆ°äº†èµ„æºï¼Œä½†æ— æ³•æ»¡è¶³è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Bypass&lt;/code&gt;: æ ¹æ®æ’ä»¶é…ç½®ï¼Œç¼“å­˜æ— æ³•æ»¡è¶³è¯¥è¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;rote-limiting-plugin-https-docs-konghq-com-hub-kong-inc-rate-limiting&#34;&gt;Rote Limiting plugin (&lt;a href=&#34;https://docs.konghq.com/hub/kong-inc/rate-limiting/&#34;&gt;https://docs.konghq.com/hub/kong-inc/rate-limiting/&lt;/a&gt;)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸»è¦å‚æ•°&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;config.policy&lt;/code&gt;ç”¨äºæ£€ç´¢å’Œå¢åŠ é™åˆ¶çš„é€Ÿç‡é™åˆ¶ç­–ç•¥ã€‚å¯ç”¨å€¼ä¸º&lt;code&gt;local&lt;/code&gt;ï¼ˆè®¡æ•°å™¨å°†å­˜å‚¨åœ¨æœ¬åœ°å†…å­˜ä¸­çš„èŠ‚ç‚¹ä¸Šï¼‰ï¼Œ&lt;code&gt;cluster&lt;/code&gt;ï¼ˆè®¡æ•°å™¨å­˜å‚¨åœ¨æ•°æ®å­˜å‚¨åŒºä¸­å¹¶åœ¨èŠ‚ç‚¹ä¸Šå…±äº«ï¼‰å’Œ&lt;code&gt;redis&lt;/code&gt;ï¼ˆè®¡æ•°å™¨å­˜å‚¨åœ¨RedisæœåŠ¡å™¨ä¸Šå¹¶åœ¨èŠ‚ç‚¹ä¹‹é—´å…±äº«ï¼‰ã€‚åœ¨æ— DBæ¨¡å¼ä¸‹ï¼Œå¿…é¡»è‡³å°‘æŒ‡å®š&lt;code&gt;local&lt;/code&gt;æˆ–ä¹‹ä¸€&lt;code&gt;redis&lt;/code&gt;ã€‚è¯·å‚é˜…&lt;a href=&#34;https://docs.konghq.com/hub/kong-inc/rate-limiting/#implementation-considerations&#34;&gt;å®æ–½æ³¨æ„äº‹é¡¹ï¼Œ&lt;/a&gt;ä»¥äº†è§£æœ‰å…³åº”ä½¿ç”¨å“ªç§ç­–ç•¥çš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;config.policy=redis&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ &lt;code&gt;config.redis*&lt;/code&gt; =&amp;gt;&lt;code&gt;redis_host|redis_password|redis_database|redis_timeout&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;config.&lt;/code&gt; &lt;code&gt;second|minute|hour|day|month|year&lt;/code&gt; é…ç½®å¯¹åº”å•ä½æ—¶é—´å†…çš„è¯·æ±‚é™åˆ¶æ•°&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;key-auth-plugin-https-docs-konghq-com-hub-kong-inc-key-auth&#34;&gt;Key Auth plugin (&lt;a href=&#34;https://docs.konghq.com/hub/kong-inc/key-auth/&#34;&gt;https://docs.konghq.com/hub/kong-inc/key-auth/&lt;/a&gt;)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;ä¸»è¦å‚æ•°

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;config.key_names&lt;/code&gt; é»˜è®¤åç§° &lt;code&gt;apikey&lt;/code&gt;ï¼Œå¯ä»¥é…ç½®ä¿®æ”¹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ­¥éª¤

&lt;ul&gt;
&lt;li&gt;åˆ›å»º a Consumer&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ª  Key&lt;/li&gt;
&lt;li&gt;ç„¶åä½¿ç”¨ Key&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;load-balancing-plugin-https-docs-konghq-com-getting-started-guide-2-1-x-load-balancing&#34;&gt;Load Balancing plugin (&lt;a href=&#34;https://docs.konghq.com/getting-started-guide/2.1.x/load-balancing/&#34;&gt;https://docs.konghq.com/getting-started-guide/2.1.x/load-balancing/&lt;/a&gt;)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Concepts

&lt;ul&gt;
&lt;li&gt;Upstreams&lt;/li&gt;
&lt;li&gt;Targets&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;è‡ªå®šä¹‰nginxæ¨¡æ¿å¹¶åµŒå…¥kong-https-docs-konghq-com-2-1-x-configuration&#34;&gt;è‡ªå®šä¹‰Nginxæ¨¡æ¿å¹¶åµŒå…¥Kong (&lt;a href=&#34;https://docs.konghq.com/2.1.x/configuration/&#34;&gt;https://docs.konghq.com/2.1.x/configuration/&lt;/a&gt;)&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;$ kong start -c kong.conf --nginx-conf custom_nginx.template&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;æœ¯è¯­&#34;&gt;æœ¯è¯­&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;client&lt;/code&gt;:  å‘Kongçš„ä»£ç†æ¥å£å‘èµ·è¯·æ±‚çš„ä¸‹æ¸¸å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;upstream service&lt;/code&gt;:  Kongä»£ç†çš„ä¸Šæ¸¸æœåŠ¡ï¼Œä¹Ÿå°±æ˜¯å…·ä½“çš„ä¸šåŠ¡æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Service&lt;/code&gt;:  Kongå¯¹ä¸Šæ¸¸æœåŠ¡åœ¨Kongå†…éƒ¨çš„æŠ½è±¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Route&lt;/code&gt;:  clientè¿›å…¥Kongçš„å…¥å£ï¼Œå®šä¹‰å¯¹åº”çš„åŒ¹é…è§„åˆ™ï¼Œå¹¶å°†åŒ¹é…çš„è·¯ç”±åˆ°å¯¹åº”çš„ä¸Šæ¸¸æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Plugin&lt;/code&gt;:  Kongâ€œæ’ä»¶â€ï¼Œå®ƒä»¬æ˜¯åœ¨ä»£ç†ç”Ÿå‘½å‘¨æœŸä¸­è¿è¡Œçš„ä¸šåŠ¡é€»è¾‘ã€‚å¯ä»¥é€šè¿‡Admin APIé…ç½®æ’ä»¶-å…¨å±€ï¼ˆæ‰€æœ‰ä¼ å…¥æµé‡ï¼‰æˆ–ç‰¹å®šçš„è·¯ç”±å’ŒæœåŠ¡ä¸Šã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ports&#34;&gt;Ports&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;proxyï¼šé»˜è®¤httpç«¯å£&lt;code&gt;8000&lt;/code&gt;ï¼Œhttpsç«¯å£&lt;code&gt;8443&lt;/code&gt; ï¼Œä¸‹æ¸¸çš„æœåŠ¡ç»è¿‡æ­¤æ¥å£è¿›å…¥Kongã€‚&lt;/li&gt;
&lt;li&gt;adminï¼šé»˜è®¤httpç«¯å£&lt;code&gt;8001&lt;/code&gt;ï¼Œhttpsç«¯å£&lt;code&gt;8444&lt;/code&gt; ï¼Œå¯¹Kongçš„åŠ¨æ€é…ç½®çš„RestfulApi&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;å‡å¯é€šè¿‡ &lt;code&gt;/etc/kong/kong.conf&lt;/code&gt;è¿›è¡Œä¿®æ”¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;è·¯ç”±åŠå…¶åŒ¹é…&#34;&gt;è·¯ç”±åŠå…¶åŒ¹é…&lt;/h3&gt;

&lt;p&gt;Kongæ”¯æŒHTTP / HTTPSï¼ŒTCL / TLSå’ŒGRPC / GRPCSåè®®çš„æœ¬æœºä»£ç†ï¼›å¦‚å‰æ‰€è¿°ï¼Œè¿™äº›åè®®ä¸­çš„æ¯ä¸€ä¸ªéƒ½æ¥å—ä¸€ç»„ä¸åŒçš„è·¯ç”±å±æ€§ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;http&lt;/code&gt;: &lt;code&gt;methods&lt;/code&gt;, &lt;code&gt;hosts&lt;/code&gt;, &lt;code&gt;headers&lt;/code&gt;, &lt;code&gt;paths&lt;/code&gt; (and &lt;code&gt;snis&lt;/code&gt;, if &lt;code&gt;https&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tcp&lt;/code&gt;: &lt;code&gt;sources&lt;/code&gt;, &lt;code&gt;destinations&lt;/code&gt; (and &lt;code&gt;snis&lt;/code&gt;, if &lt;code&gt;tls&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grpc&lt;/code&gt;: &lt;code&gt;hosts&lt;/code&gt;, &lt;code&gt;headers&lt;/code&gt;, &lt;code&gt;paths&lt;/code&gt; (and &lt;code&gt;snis&lt;/code&gt;, if &lt;code&gt;grpcs&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;è¯·æ³¨æ„ï¼Œè¿™ä¸‰ä¸ªå­—æ®µéƒ½æ˜¯&lt;strong&gt;å¯é€‰&lt;/strong&gt;å­—æ®µï¼Œä½†å¿…é¡»è‡³å°‘æŒ‡å®š&lt;strong&gt;å…¶ä¸­ä¸€ä¸ª&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸€ä¸ªå¯ä»¥è¢«åŒ¹é…çš„è¯·æ±‚ï¼Œéœ€æ»¡è¶³:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è¯¥è¯·æ±‚&lt;strong&gt;å¿…é¡»&lt;/strong&gt;åŒ…å«&lt;strong&gt;æ‰€æœ‰&lt;/strong&gt;å·²é…ç½®çš„å­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;è¯·æ±‚ä¸­å­—æ®µçš„å€¼&lt;strong&gt;å¿…é¡»&lt;/strong&gt;è‡³å°‘ä¸é…ç½®çš„å€¼ä¹‹ä¸€åŒ¹é…ï¼ˆè™½ç„¶å­—æ®µé…ç½®æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼Œä½†è¯·æ±‚ä»…éœ€è¦å°†å…¶ä¸­ä¸€ä¸ªå€¼è§†ä¸ºåŒ¹é…é¡¹ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸¾ä¾‹è¯´æ˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;example.com&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;foo-service.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/foo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/bar&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;methods&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸æ­¤è·¯ç”±åŒ¹é…çš„ä¸€äº›å¯èƒ½è¯·æ±‚å¦‚ä¸‹æ‰€ç¤º:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /foo &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /bar &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; foo-service.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /foo/hello/world &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰€æœ‰è¿™ä¸‰ä¸ªè¯·æ±‚éƒ½æ»¡è¶³â€œè·¯ç”±å®šä¹‰â€ä¸­è®¾ç½®çš„æ‰€æœ‰æ¡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œä»¥ä¸‹è¯·æ±‚å°†&lt;strong&gt;ä¸&lt;/strong&gt;ç¬¦åˆé…ç½®çš„æ¡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;è·¯å¾„æœªåŒ¹é…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;POST&lt;/span&gt; /foo &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯·æ±‚æ–¹æ³•æœªåŒ¹é…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /foo &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; foo.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;URLæœªåŒ¹é…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‰€æœ‰è¿™ä¸‰ä¸ªè¯·æ±‚ä»…æ»¡è¶³ä¸¤ä¸ªå·²é…ç½®çš„æ¡ä»¶ã€‚ç¬¬ä¸€ä¸ªè¯·æ±‚çš„è·¯å¾„ä¸ä»»ä½•å·²é…ç½®çš„éƒ½ä¸åŒ¹é…ï¼Œ&lt;code&gt;paths&lt;/code&gt;ç¬¬äºŒä¸ªè¯·æ±‚çš„HTTPæ–¹æ³•ä¸ç¬¬ä¸‰ä¸ªè¯·æ±‚çš„Hostæ ‡å¤´ç›¸åŒã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬äº†è§£äº†è·¯ç”±å±æ€§å¦‚ä½•ååŒå·¥ä½œï¼Œè®©æˆ‘ä»¬åˆ†åˆ«æ¢è®¨æ¯ä¸ªå±æ€§ã€‚&lt;/p&gt;

&lt;h4 id=&#34;preserve-host-å±æ€§&#34;&gt;&lt;code&gt;preserve_host&lt;/code&gt; å±æ€§&lt;/h4&gt;

&lt;p&gt;ä»£ç†æ—¶ï¼ŒKongçš„é»˜è®¤è¡Œä¸ºæ˜¯å°†ä¸Šæ¸¸è¯·æ±‚çš„Hostæ ‡å¤´è®¾ç½®ä¸ºServiceçš„ä¸­æŒ‡å®šçš„ä¸»æœºå&lt;code&gt;host&lt;/code&gt;ã€‚è¯¥&lt;code&gt;preserve_host&lt;/code&gt;å­—æ®µæ¥å—ä¸€ä¸ªå¸ƒå°”å‹æ ‡å¿—ï¼ŒæŒ‡ç¤ºKongä¸è¿™æ ·åšã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼Œå½“&lt;code&gt;preserve_host&lt;/code&gt;å±æ€§æœªæ›´æ”¹ä¸”è·¯ç”±é…ç½®å¦‚ä¸‹æ—¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®¢æˆ·å¯¹Kongçš„å¯èƒ½è¯·æ±‚å¯èƒ½æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; service.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kongå°†ä»Serviceçš„&lt;code&gt;host&lt;/code&gt;å±æ€§ä¸­æå–Hostæ ‡å¤´å€¼ï¼Œå¹¶å°†å‘é€ä»¥ä¸‹ä¸Šæ¸¸è¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &amp;lt;my-service-host.com&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œé€šè¿‡æ˜¾å¼é…ç½®Route &lt;code&gt;preserve_host=true&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;preserve_host&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;,
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¹¶å‡è®¾æ¥è‡ªå®¢æˆ·ç«¯çš„ç›¸åŒè¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; service.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kongå°†ä¿ç•™å®¢æˆ·ç«¯è¯·æ±‚ä¸Šçš„ä¸»æœºï¼Œå¹¶æ”¹ä¸ºå‘é€ä»¥ä¸‹ä¸Šæ¸¸è¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; service.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;æ‰©å±•request-headers-except-host&#34;&gt;æ‰©å±•Request headers (except Host)&lt;/h4&gt;

&lt;p&gt;ä»Kong 1.3.0å¼€å§‹ï¼Œå¯ä»¥é€šè¿‡ä»¥å¤–çš„å…¶ä»–æŠ¥å¤´æ¥è·¯ç”±è¯·æ±‚&lt;code&gt;Host&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºæ­¤ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;headers&lt;/code&gt;æ¥é…ç½®æ‰©å±•çš„ä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰©å±•äº†&lt;code&gt;version&lt;/code&gt;ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;headers&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; { &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;v1&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;v2&amp;#34;&lt;/span&gt;] },
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»™å®šå¸¦æœ‰æ‰©å±•headerçš„è¯·æ±‚ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
version&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; v1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚ä¸‹çš„è¯·æ±‚ä¹Ÿå°†è¢«è·¯ç”±åˆ°æœåŠ¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
version&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; v2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚ä¸‹çš„è¯·æ±‚ä¸ä¼šè·¯ç”±åˆ°æœåŠ¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
version&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; v3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼š&lt;code&gt;headers&lt;/code&gt;é”®æ˜¯é€»è¾‘&lt;code&gt;AND&lt;/code&gt;å…³ç³»ï¼Œå…¶å€¼æ˜¯é€»è¾‘&lt;code&gt;OR&lt;/code&gt;å…³ç³»ã€‚&lt;/p&gt;

&lt;h4 id=&#34;è¯·æ±‚è·¯å¾„paths&#34;&gt;è¯·æ±‚è·¯å¾„paths&lt;/h4&gt;

&lt;p&gt;è·¯ç”±åŒ¹é…çš„å¦ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡è¯·æ±‚è·¯å¾„ã€‚ä¸ºäº†æ»¡è¶³æ­¤è·¯ç”±æ¡ä»¶ï¼Œå®¢æˆ·ç«¯è¯·æ±‚çš„è·¯å¾„&lt;strong&gt;å¿…é¡»&lt;/strong&gt;ä»¥&lt;code&gt;paths&lt;/code&gt;å±æ€§å€¼ä¹‹ä¸€ä¸ºå‰ç¼€ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹é…ç½®çš„è·¯ç”±ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;{
    &amp;#34;paths&amp;#34;: [&amp;#34;/service&amp;#34;, &amp;#34;/hello/world&amp;#34;]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»¥ä¸‹è¯·æ±‚å°†è¢«åŒ¹é…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /service &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /service/resource?param=value &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /hello/world/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; anything.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯¹äºè¿™äº›è¯·æ±‚ä¸­çš„æ¯ä¸€ä¸ªï¼ŒKongéƒ½ä¼šæ£€æµ‹åˆ°å…¶URLè·¯å¾„ä»¥ &lt;code&gt;paths&lt;/code&gt;å€¼ä¹‹ä¸€ä¸ºå‰ç¼€ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒKongç„¶åå°†åœ¨ä¸æ›´æ”¹URLè·¯å¾„çš„æƒ…å†µä¸‹å‘ä¸Šæ¸¸ä»£ç†è¯·æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨è·¯å¾„å‰ç¼€ä»£ç†æ—¶ï¼Œ&lt;strong&gt;æœ€é•¿çš„è·¯å¾„å°†é¦–å…ˆè¢«è¯„ä¼°&lt;/strong&gt;ã€‚ä¹Ÿå°±æ˜¯è¿™æ ·çš„ä¸¤ä¸ªè·¯å¾„ï¼š&lt;code&gt;/service&lt;/code&gt;å’Œ&lt;code&gt;/service/resource&lt;/code&gt;ï¼Œå‰è€…å¹¶ä¸ä¼šâ€œè¦†ç›–â€åè€…ã€‚&lt;/p&gt;

&lt;h4 id=&#34;åœ¨-paths-ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼&#34;&gt;åœ¨&lt;code&gt;paths&lt;/code&gt;ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼&lt;/h4&gt;

&lt;p&gt;Kong &lt;code&gt;paths&lt;/code&gt;é€šè¿‡&lt;a href=&#34;http://pcre.org/&#34;&gt;PCRE&lt;/a&gt;ï¼ˆPerlå…¼å®¹æ­£åˆ™è¡¨è¾¾å¼ï¼‰æ”¯æŒè·¯ç”±å­—æ®µçš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…ã€‚æ‚¨å¯ä»¥åŒæ—¶å°†è·¯å¾„ä½œä¸ºå‰ç¼€å’Œæ­£åˆ™è¡¨è¾¾å¼åˆ†é…ç»™è·¯ç”±ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚ä¸‹çš„&lt;code&gt;paths&lt;/code&gt;é…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/users/\d+/profile&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/following&amp;#34;&lt;/span&gt;]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸‹åˆ—çš„è¯·æ±‚å°†è¢«åŒ¹é…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /following &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /users/123/profile &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰€æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨&lt;code&gt;a&lt;/code&gt;PCREæ ‡å¿—ï¼ˆ&lt;code&gt;PCRE_ANCHORED&lt;/code&gt;ï¼‰è¿›è¡Œè¯„ä¼°ï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬å°†è¢«çº¦æŸä¸ºåœ¨è·¯å¾„çš„ç¬¬ä¸€ä¸ªåŒ¹é…ç‚¹ï¼ˆæ ¹&lt;code&gt;/&lt;/code&gt;å­—ç¬¦ï¼‰åŒ¹é…ã€‚&lt;/p&gt;

&lt;h4 id=&#34;strip-path-å±æ€§&#34;&gt;&lt;code&gt;strip_path&lt;/code&gt; å±æ€§&lt;/h4&gt;

&lt;p&gt;åœ¨é…ç½®è·¯ç”±æ—¶ï¼ŒæŒ‡å®šäº†å¯¹åº”çš„è·¯å¾„å‰ç¼€ï¼Œä½†åˆä¸å¸Œæœ›å…¶åŒ…æ‹¬åœ¨ä¸Šæ¸¸è¯·æ±‚ä¸­ã€‚ä¸ºæ­¤ï¼Œå¯&lt;code&gt;strip_path&lt;/code&gt;é€šè¿‡é…ç½®Routeæ¥ä½¿ç”¨booleanå±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/service&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;strip_path&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;,
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯ç”¨æ­¤æ ‡å¿—æŒ‡ç¤ºKongæ‰€åŒ¹é…çš„è·¯ç”±&lt;code&gt;paths&lt;/code&gt;ä¿¡æ¯ï¼Œåœ¨ä»£ç†å¤„ç†æ—¶å®ƒ&lt;strong&gt;ä¸&lt;/strong&gt;åº”è¯¥åŒ…æ‹¬åœ¨ä¸Šæ¸¸è¯·æ±‚çš„URLçš„URLè·¯å¾„çš„åŒ¹é…éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚ä¸‹çš„è¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /service/path/to/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kongå°†å‘é€ä»¥ä¸‹ä¸Šæ¸¸è¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /path/to/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åŒæ ·ï¼Œå¦‚æœåœ¨å·²&lt;code&gt;strip_path&lt;/code&gt;å¯ç”¨çš„Routeä¸Šå®šä¹‰äº†æ­£åˆ™è¡¨è¾¾å¼è·¯å¾„ï¼Œåˆ™å°†å‰¥ç¦»è¯·æ±‚URLåŒ¹é…åºåˆ—çš„å…¨éƒ¨ã€‚ä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/version/\d+/service&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;strip_path&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;,
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»¥ä¸‹HTTPè¯·æ±‚ä¸æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼è·¯å¾„åŒ¹é…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /version/1/service/path/to/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kongå°†åœ¨ä¸Šæ¸¸ä»£ç†ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /path/to/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;åŒ¹é…ä¼˜å…ˆçº§è§„åˆ™&#34;&gt;åŒ¹é…ä¼˜å…ˆçº§è§„åˆ™&lt;/h4&gt;

&lt;p&gt;ä¸€æ¡è·¯çº¿å¯ä»¥åŸºäºå…¶å®šä¹‰åŒ¹é…è§„åˆ™&lt;code&gt;headers&lt;/code&gt;ï¼Œ&lt;code&gt;hosts&lt;/code&gt;ï¼Œ&lt;code&gt;paths&lt;/code&gt;ï¼Œå’Œ&lt;code&gt;methods&lt;/code&gt;ï¼ˆåŠ &lt;code&gt;snis&lt;/code&gt;-ç”¨äºå®‰å…¨çš„è·¯çº¿&lt;code&gt;&amp;quot;https&amp;quot;&lt;/code&gt;ï¼Œ&lt;code&gt;&amp;quot;grpcs&amp;quot;&lt;/code&gt;ï¼Œ&lt;code&gt;&amp;quot;tls&amp;quot;&lt;/code&gt;å­—æ®µï¼‰ã€‚ä¸ºäº†ä½¿Kongå°†ä¼ å…¥è¯·æ±‚åŒ¹é…åˆ°Routeï¼Œå¿…é¡»æ»¡è¶³æ‰€æœ‰ç°æœ‰å­—æ®µã€‚ä½†æ˜¯ï¼ŒKongå…è®¸é€šè¿‡ä½¿ç”¨åŒ…å«ç›¸åŒå€¼çš„å­—æ®µé…ç½®ä¸¤ä¸ªæˆ–æ›´å¤šè·¯ç”±æ¥æä¾›ç›¸å½“å¤§çš„çµæ´»æ€§-å‘ç”Ÿè¿™ç§æƒ…å†µæ—¶ï¼ŒKongå°†åº”ç”¨ä¼˜å…ˆçº§è§„åˆ™ã€‚&lt;/p&gt;

&lt;p&gt;è§„åˆ™æ˜¯ï¼š&lt;strong&gt;åœ¨åŒ¹é…è¯„ä¼°è¯·æ±‚æ—¶ï¼ŒKongé¦–å…ˆä¼šå°è¯•å°†è§„åˆ™æœ€å¤šçš„è·¯çº¿è¿›è¡ŒåŒ¹é…&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼Œæœ‰ä¸¤ä¸ªè·¯ç”±é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;example.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
},
{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;example.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;methods&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;POST&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬äºŒæ¡è·¯çº¿æœ‰ä¸€ä¸ª&lt;code&gt;hosts&lt;/code&gt;å­—æ®µ&lt;strong&gt;å’Œ&lt;/strong&gt;ä¸€ä¸ª&lt;code&gt;methods&lt;/code&gt;å­—æ®µï¼Œå› æ­¤å®ƒå°†é¦–å…ˆç”±Kongè¿›è¡ŒåŒ¹é…è¯„ä¼°ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬é¿å…äº†é’ˆå¯¹ç¬¬äºŒä¸ªè·¯çº¿çš„ç¬¬ä¸€ä¸ªè·¯çº¿â€œå½±å­â€è°ƒç”¨ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚ä¸‹è¯·æ±‚å°†åŒ¹é…ç¬¬ä¸€ä¸ªè·¯çº¿&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚ä¸‹è¯·æ±‚å°†åŒ¹é…ç¬¬äºŒä¸ªè¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;POST&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æŒ‰ç…§æ­¤é€»è¾‘ï¼Œå¦‚æœè¦ä¸ºç¬¬ä¸‰æ¡è·¯çº¿é…ç½®ä¸€ä¸ª&lt;code&gt;hosts&lt;/code&gt;å­—æ®µï¼Œä¸€ä¸ª&lt;code&gt;methods&lt;/code&gt;å­—æ®µå’Œä¸€ä¸ª&lt;code&gt;uris&lt;/code&gt;å­—æ®µï¼Œåˆ™Kongå°†é¦–å…ˆå¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœç»™å®šè¯·æ±‚çš„è§„åˆ™æ•°åœ¨&lt;code&gt;A&lt;/code&gt;å’Œ&lt;code&gt;B&lt;/code&gt;ä¸¤ä¸ªè·¯ç”±ç›¸åŒï¼Œåˆ™ä»¥ä¸‹æ‰€åˆ—è§„åˆ™å°†æŒ‰ç…§åˆ—å‡ºçš„é¡ºåºåŒ¹é…ã€‚å¦‚æœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œ&lt;code&gt;A&lt;/code&gt;å°†ä¼˜å…ˆäº&lt;code&gt;B&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt;ä»…å…·æœ‰â€œæ™®é€šâ€headeré…ç½®ï¼Œ&lt;code&gt;B&lt;/code&gt;å¹¶ä¸”å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªâ€œé€šé…ç¬¦â€headeré…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt; æ¯” &lt;code&gt;B&lt;/code&gt;æœ‰æ›´å¤šçš„é&lt;code&gt;hosts&lt;/code&gt;çš„å±æ€§.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt;å…·æœ‰è‡³å°‘ä¸€ä¸ªâ€œæ­£åˆ™è¡¨è¾¾å¼â€è·¯å¾„ï¼Œ&lt;code&gt;B&lt;/code&gt;è€Œåªæœ‰â€œçº¯â€è·¯å¾„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt;çš„æ›´é•¿è·¯å¾„æ¯”&lt;code&gt;B&lt;/code&gt;æ›´é•¿çš„è·¯å¾„æ›´é•¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A.created_at &amp;lt; B.created_at&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;ä»£ç†è¡Œä¸º-https-docs-konghq-com-2-1-x-proxy-proxying-behavior&#34;&gt;ä»£ç†è¡Œä¸º (&lt;a href=&#34;https://docs.konghq.com/2.1.x/proxy/#proxying-behavior&#34;&gt;https://docs.konghq.com/2.1.x/proxy/#proxying-behavior&lt;/a&gt;)&lt;/h4&gt;

&lt;h4 id=&#34;é…ç½®ä¸€ä¸ªå¤‡ç”¨è·¯ç”±-https-docs-konghq-com-2-1-x-proxy-configuring-a-fallback-route&#34;&gt;é…ç½®ä¸€ä¸ªå¤‡ç”¨è·¯ç”± (&lt;a href=&#34;https://docs.konghq.com/2.1.x/proxy/#configuring-a-fallback-route&#34;&gt;https://docs.konghq.com/2.1.x/proxy/#configuring-a-fallback-route&lt;/a&gt;)&lt;/h4&gt;

&lt;p&gt;å®ç°â€œåå¤‡è·¯ç”±â€ï¼Œå¯ä»¥é¿å…Kongåœ¨HTTPå“åº”&lt;code&gt;404&lt;/code&gt;æ—¶å‡ºç°â€œæ‰¾ä¸åˆ°è·¯ç”±â€ï¼Œæˆ‘ä»¬å¯ä»¥æ•è·æ­¤ç±»è¯·æ±‚å¹¶å°†å…¶ä»£ç†åˆ°ç‰¹æ®Šçš„ä¸Šæ¸¸æœåŠ¡ï¼Œæˆ–å¯¹å…¶åº”ç”¨æ’ä»¶ï¼ˆä¾‹å¦‚ï¼Œè¯¥æ’ä»¶å¯ä»¥ä½¿ç”¨å…¶ä»–çŠ¶æ€ä»£ç æˆ–å“åº”ç»ˆæ­¢è¯·æ±‚ï¼Œè€Œæ— éœ€ä»£ç†è¯·æ±‚ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªåå¤‡è·¯ç”±çš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å½“å‘Kongå‘å‡ºçš„ä»»ä½•HTTPè¯·æ±‚å®é™…ä¸Šéƒ½å°†ä¸æ­¤è·¯ç”±åŒ¹é…ï¼Œå› ä¸ºæ‰€æœ‰URIéƒ½ä»¥æ ¹å­—ç¬¦ä¸ºå‰ç¼€&lt;code&gt;/&lt;/code&gt;ã€‚ä»â€œè¯·æ±‚è·¯å¾„â€éƒ¨åˆ†æˆ‘ä»¬çŸ¥é“ï¼Œæœ€é•¿çš„URLè·¯å¾„é¦–å…ˆç”±Kongè¯„ä¼°ï¼Œå› æ­¤è¯¥&lt;code&gt;/&lt;/code&gt;è·¯å¾„æœ€ç»ˆå°†æœ€ç»ˆç”±Kongè¯„ä¼°ï¼Œå¹¶æœ‰æ•ˆåœ°æä¾›äº†â€œåå¤‡â€è·¯çº¿ï¼Œä»…åœ¨ä¸‡ä¸å¾—å·²æ—¶æ‰è¿›è¡ŒåŒ¹é…ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥å°†æµé‡å‘é€åˆ°ç‰¹æ®ŠæœåŠ¡ï¼Œæˆ–åœ¨æ­¤è·¯çº¿ä¸Šåº”ç”¨æ‚¨å¸Œæœ›çš„ä»»ä½•æ’ä»¶ã€‚&lt;/p&gt;

&lt;h4 id=&#34;websocket-ä»£ç†-https-docs-konghq-com-2-1-x-proxy-proxy-websocket-traffic-todo&#34;&gt;WebSocket ä»£ç† (&lt;a href=&#34;https://docs.konghq.com/2.1.x/proxy/#proxy-websocket-traffic)(TODO&#34;&gt;https://docs.konghq.com/2.1.x/proxy/#proxy-websocket-traffic)(TODO&lt;/a&gt;)&lt;/h4&gt;

&lt;h3 id=&#34;è´Ÿè½½å‡è¡¡-https-docs-konghq-com-2-1-x-loadbalancing&#34;&gt;è´Ÿè½½å‡è¡¡ (&lt;a href=&#34;https://docs.konghq.com/2.1.x/loadbalancing/&#34;&gt;https://docs.konghq.com/2.1.x/loadbalancing/&lt;/a&gt;)&lt;/h3&gt;

&lt;h4 id=&#34;åŸºäºdnsçš„è´Ÿè½½å¹³è¡¡&#34;&gt;åŸºäºDNSçš„è´Ÿè½½å¹³è¡¡&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;åç«¯æœåŠ¡çš„æ³¨å†Œæ˜¯åœ¨Kongä¹‹å¤–è¿›è¡Œçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;ring-balancer&#34;&gt;Ring-balancer&lt;/h4&gt;

&lt;p&gt;ç®—æ³•é€‰æ‹©: &lt;code&gt;consistent-hashing&lt;/code&gt;, &lt;code&gt;least-connections&lt;/code&gt;, &lt;code&gt;round-robin&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&#34;blue-green-å‘å¸ƒ-https-docs-konghq-com-2-1-x-loadbalancing-blue-green-deployments&#34;&gt;Blue-Green å‘å¸ƒ (&lt;a href=&#34;https://docs.konghq.com/2.1.x/loadbalancing/#blue-green-deployments&#34;&gt;https://docs.konghq.com/2.1.x/loadbalancing/#blue-green-deployments&lt;/a&gt;)&lt;/h4&gt;

&lt;p&gt;æ‰©å±•: (&lt;a href=&#34;https://blog.christianposta.com/deploy/blue-green-deployments-a-b-testing-and-canary-releases/&#34;&gt;https://blog.christianposta.com/deploy/blue-green-deployments-a-b-testing-and-canary-releases/&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/image-20200728144535998.png#mid&#34; alt=&#34;Blue-Green Deployment&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ ring-balanceï¼Œå¯ä»¥è½»æ¾åœ°ä¸ºæœåŠ¡ç¼–æ’è“ç»¿è‰²éƒ¨ç½²ã€‚åˆ‡æ¢ç›®æ ‡åŸºç¡€æ¶æ„ä»…éœ€è¦&lt;code&gt;PATCH&lt;/code&gt;å¯¹æœåŠ¡çš„è¯·æ±‚å³å¯æ›´æ”¹å…¶&lt;code&gt;host&lt;/code&gt;ä»·å€¼ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è®¾ç½®â€œBlueâ€ç¯å¢ƒï¼Œè¿è¡Œåœ°å€æœåŠ¡çš„ç‰ˆæœ¬1ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# create an upstream&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name=address.v1.service&amp;#34;&lt;/span&gt;
  
&lt;span style=&#34;color:#6272a4&#34;&gt;# add two targets to the upstream&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v1.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.15:80&amp;#34;&lt;/span&gt;
  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=100&amp;#34;&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v1.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.16:80&amp;#34;&lt;/span&gt;
  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=50&amp;#34;&lt;/span&gt;
  
&lt;span style=&#34;color:#6272a4&#34;&gt;# create a Service targeting the Blue upstream&lt;/span&gt;
$ curl -X POST http://kong:8001/services/ &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name=address-service&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host=address.v1.service&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path=/address&amp;#34;&lt;/span&gt;
  
&lt;span style=&#34;color:#6272a4&#34;&gt;# finally, add a Route as an entry-point into the Service&lt;/span&gt;
$ curl -X POST http://kong:8001/services/address-service/routes/ &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts[]=address.mydomain.com&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;ä¸»æœºå¤´è®¾ç½®ä¸ºçš„è¯·æ±‚&lt;code&gt;address.mydomain.com&lt;/code&gt;å°†ç”±Kongä»£ç†åˆ°ä¸¤ä¸ªå·²å®šä¹‰çš„ç›®æ ‡ï¼›2 / 3çš„è¯·æ±‚å°†å»&lt;code&gt;http://192.168.34.15:80/address&lt;/code&gt;ï¼ˆ&lt;code&gt;weight=100&lt;/code&gt;ï¼‰ï¼Œå’Œ1 / 3å°†å»&lt;code&gt;http://192.168.34.16:80/address&lt;/code&gt;ï¼ˆ&lt;code&gt;weight=50&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åœ¨éƒ¨ç½²åœ°å€æœåŠ¡çš„ç‰ˆæœ¬2ä¹‹å‰ï¼Œè¯·è®¾ç½®â€œGreenâ€ç¯å¢ƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# create a new Green upstream for address service v2&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name=address.v2.service&amp;#34;&lt;/span&gt;
  
&lt;span style=&#34;color:#6272a4&#34;&gt;# add targets to the upstream&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.17:80&amp;#34;&lt;/span&gt;
  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=100&amp;#34;&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.18:80&amp;#34;&lt;/span&gt;
  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=100&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¦æ¿€æ´»Blue/Green å¼€å…³ï¼Œæˆ‘ä»¬ç°åœ¨åªéœ€è¦æ›´æ–°æœåŠ¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;  &lt;span style=&#34;color:#6272a4&#34;&gt;# Switch the Service from Blue to Green upstream, v1 -&amp;gt; v2&lt;/span&gt;
  $ curl -X PATCH http://kong:8001/services/address-service &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;      --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host=address.v2.service&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸»æœºå¤´è®¾ç½®ä¸ºçš„ä¼ å…¥è¯·æ±‚&lt;code&gt;address.mydomain.com&lt;/code&gt;å°†ç”±Kongä»£ç†åˆ°æ–°ç›®æ ‡ï¼›1 / 2çš„è¯·æ±‚å°†å»&lt;code&gt;http://192.168.34.17:80/address&lt;/code&gt;ï¼ˆ&lt;code&gt;weight=100&lt;/code&gt;ï¼‰ï¼Œä»¥åŠå…¶å®ƒ1 / 2å°†å»&lt;code&gt;http://192.168.34.18:80/address&lt;/code&gt;ï¼ˆ&lt;code&gt;weight=100&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;é‡‘ä¸é›€ç‰ˆæœ¬å‘å¸ƒ-https-docs-konghq-com-2-1-x-loadbalancing-canary-releases&#34;&gt;é‡‘ä¸é›€ç‰ˆæœ¬å‘å¸ƒ (&lt;a href=&#34;https://docs.konghq.com/2.1.x/loadbalancing/#canary-releases&#34;&gt;https://docs.konghq.com/2.1.x/loadbalancing/#canary-releases&lt;/a&gt;)&lt;/h4&gt;

&lt;p&gt;æ‰©å±•: (&lt;a href=&#34;http://blog.christianposta.com/deploy/blue-green-deployments-a-b-testing-and-canary-releases/&#34;&gt;http://blog.christianposta.com/deploy/blue-green-deployments-a-b-testing-and-canary-releases/&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ring-balancerï¼Œå¯ä»¥ç²¾ç¡®è°ƒæ•´ç›®æ ‡æƒé‡å®ç°å¹³ç¨³ï¼Œæ§åˆ¶çš„é‡‘ä¸é›€ç‰ˆæœ¬çš„å‘å¸ƒã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªéå¸¸ç®€å•2ä¸ªç›®æ ‡çš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# first target at 1000&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.17:80&amp;#34;&lt;/span&gt;
    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=1000&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#6272a4&#34;&gt;# second target at 0&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.18:80&amp;#34;&lt;/span&gt;
    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=0&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é€šè¿‡é‡å¤è¯·æ±‚ï¼Œä½†æ¯æ¬¡æ›´æ”¹æƒé‡ï¼Œæµé‡å°†ç¼“æ…¢åœ°è·¯ç”±åˆ°å¦ä¸€ä¸ªç›®æ ‡ã€‚ä¾‹å¦‚ï¼Œå°†å…¶è®¾ç½®ä¸º10ï¼…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# first target at 900&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.17:80&amp;#34;&lt;/span&gt;
    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=900&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#6272a4&#34;&gt;# second target at 100&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.18:80&amp;#34;&lt;/span&gt;
    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=100&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é€šè¿‡Kong Admin APIè¿›è¡Œçš„æ›´æ”¹æ˜¯åŠ¨æ€çš„ï¼Œå°†ç«‹å³ç”Ÿæ•ˆã€‚æ— éœ€é‡æ–°åŠ è½½æˆ–é‡å¯ï¼Œä¹Ÿä¸ä¼šä¸¢å¼ƒä»»ä½•è¿›è¡Œä¸­çš„è¯·æ±‚ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å¥åº·æ£€æŸ¥å’Œæ–­è·¯å™¨-https-docs-konghq-com-2-1-x-health-checks-circuit-breakers&#34;&gt;å¥åº·æ£€æŸ¥å’Œæ–­è·¯å™¨ (&lt;a href=&#34;https://docs.konghq.com/2.1.x/health-checks-circuit-breakers/&#34;&gt;https://docs.konghq.com/2.1.x/health-checks-circuit-breakers/&lt;/a&gt;)&lt;/h3&gt;

&lt;h4 id=&#34;upstreamsä¸Šæ¸¸æœåŠ¡&#34;&gt;Upstreamsä¸Šæ¸¸æœåŠ¡&lt;/h4&gt;

&lt;p&gt;é™¤äº†é’ˆå¯¹å•ä¸ªç›®æ ‡çš„è¿è¡ŒçŠ¶å†µæ£€æŸ¥åŠŸèƒ½ä¹‹å¤–ï¼Œä¸Šæ¸¸è¿˜å…·æœ‰è¿è¡ŒçŠ¶å†µæ¦‚å¿µã€‚ä¸Šæ¸¸çš„è¿è¡ŒçŠ¶å†µå–å†³äºå…¶ç›®æ ‡çš„çŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;é€šè¿‡å±æ€§å¯ä»¥é…ç½®ä¸Šæ¸¸çš„è¿è¡ŒçŠ¶å†µ&lt;code&gt;healthchecks.threshold&lt;/code&gt;ã€‚è¿™æ˜¯è¢«è®¤ä¸ºæ˜¯å¥åº·çš„ä¸Šæ¸¸æœ€å°å¯ç”¨ç›®æ ‡â€œæƒé‡â€ï¼ˆå®¹é‡ï¼‰çš„ç™¾åˆ†æ¯”ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‡è®¾é…ç½®äº†çš„ä¸Šæ¸¸&lt;code&gt;healthchecks.threshold=55&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å®ƒæœ‰5ä¸ªç›®æ ‡ï¼Œæ¯ä¸ªç›®æ ‡éƒ½æœ‰&lt;code&gt;weight=100&lt;/code&gt;ï¼Œå› æ­¤ring-balancerçš„æ€»æƒé‡ä¸º500ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å½“æ•…éšœå¼€å§‹å‘ç”Ÿæ—¶ï¼Œç¬¬ä¸€ä¸ªç›®æ ‡çš„æ–­è·¯å™¨è·³é—¸ã€‚ç°åœ¨è®¤ä¸ºå®ƒä¸å¥åº·ã€‚è¿™æ„å‘³ç€åœ¨ring-balancerä¸­ï¼Œç°åœ¨æœ‰20ï¼…çš„å®¹é‡ä¸æ­£å¸¸ï¼ˆ500æƒé‡ä¸­æœ‰100æƒé‡ï¼‰ã€‚è¯¥é˜ˆå€¼ä»é«˜äº55çš„é˜ˆå€¼ï¼Œå› æ­¤å…¶ä½™ç›®æ ‡å°†ä¸ºå¤±è´¥ç›®æ ‡çš„æµé‡æä¾›æœåŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç¬¬äºŒæ¬¡å¤±è´¥å‘ç”Ÿæ—¶ï¼Œå¦ä¸€ä¸ªç›®æ ‡å¤±è´¥ï¼Œå¦å¤–100æƒé‡çš„æœåŠ¡ä½œä¸ºä¸å¥åº·æœåŠ¡è€Œä¸¢å¤±ã€‚ç°åœ¨ï¼Œring-balancerä»¥å…¶å®¹é‡çš„60ï¼…è¿è¡Œï¼Œä½†ä»åœ¨é…ç½®çš„é˜ˆå€¼å†…ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬å‡è®¾è¿™2ä¸ªæ•…éšœæ˜¯ç”±äºç³»ç»Ÿè¿‡è½½è€Œå‘ç”Ÿçš„ï¼Œé‚£ä¹ˆç°åœ¨æˆ‘ä»¬å¯ä»¥å‡è®¾å‰©ä½™çš„60ï¼…ä¹Ÿå°†æ— æ³•åº”ä»˜æ»¡è´Ÿè·ï¼Œå¹¶ä¸”å¾ˆå¿«ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹å°†å‘ç”Ÿæ•…éšœï¼Œä»è€Œå°†æ­£å¸¸å®¹é‡å‡å°‘åˆ°40ï¼…ã€‚æ­¤æ—¶ï¼Œä¸Šæ¸¸å¥åº·çŠ¶å†µå°†å°äºå…¶é˜ˆå€¼ï¼Œå¹¶ä¸”è‡ªèº«å°†è¢«æ ‡è®°ä¸ºä¸å¥åº·ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€æ—¦è¿›å…¥ä¸æ­£å¸¸çŠ¶æ€ï¼Œä¸Šæ¸¸åªä¼šè¿”å›é”™è¯¯ã€‚è¿™å¯ä½¿ç›®æ ‡/æœåŠ¡ä»é‡åˆ°çš„çº§è”æ•…éšœä¸­æ¢å¤ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€æ—¦ç›®æ ‡å¼€å§‹æ¢å¤å¹¶ä¸”ä¸Šæ¸¸çš„å¯ç”¨å®¹é‡å†æ¬¡è¶…è¿‡é˜ˆå€¼ï¼Œåˆ™ring-balancer çš„è¿è¡ŒçŠ¶å†µå°†è‡ªåŠ¨æ›´æ–°ã€‚&lt;/p&gt;

&lt;h4 id=&#34;å¥åº·æ£€æŸ¥ç±»å‹&#34;&gt;å¥åº·æ£€æŸ¥ç±»å‹&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;ä¸»åŠ¨å¥åº·æ£€æŸ¥&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œä¸»åŠ¨å¥åº·æ£€æŸ¥ä¼šä¸»åŠ¨æ¢æµ‹å…¶å¥åº·ç›®æ ‡ã€‚åœ¨ä¸Šæ¸¸å®ä½“ä¸­å¯ç”¨ä¸»åŠ¨å¥åº·æ£€æŸ¥åï¼ŒKongä¼šå®šæœŸå‘ä¸Šæ¸¸çš„æ¯ä¸ªç›®æ ‡å¤„çš„å·²é…ç½®è·¯å¾„å‘å‡ºHTTPæˆ–HTTPSè¯·æ±‚ã€‚è¿™æ ·ï¼ŒKongå¯ä»¥æ ¹æ®æ¢æµ‹ç»“æœè‡ªåŠ¨å¯ç”¨å’Œç¦ç”¨å¹³è¡¡å™¨ä¸­çš„ç›®æ ‡ã€‚&lt;/p&gt;

&lt;p&gt;å¯ä»¥é’ˆå¯¹ç›®æ ‡å¥åº·æˆ–ä¸å¥åº·åˆ†åˆ«é…ç½®ä¸»åŠ¨å¥åº·æ£€æŸ¥çš„å‘¨æœŸã€‚å¦‚æœå°†&lt;code&gt;interval&lt;/code&gt;å…¶ä¸­ä¸€ä¸ªçš„å€¼è®¾ç½®ä¸ºé›¶ï¼Œåˆ™åœ¨ç›¸åº”çš„æƒ…å†µä¸‹å°†ç¦ç”¨æ£€æŸ¥ã€‚å½“ä¸¤è€…å‡ä¸ºé›¶æ—¶ï¼Œå°†å®Œå…¨ç¦ç”¨æ´»åŠ¨çš„å¥åº·æ£€æŸ¥ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è¢«åŠ¨å¥åº·æ£€æŸ¥ï¼ˆæ–­è·¯å™¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¢«åŠ¨å¥åº·æ£€æŸ¥ï¼ˆä¹Ÿç§°ä¸ºæ–­è·¯å™¨ï¼‰æ˜¯æ ¹æ®Kongï¼ˆHTTP / HTTPS / TCPï¼‰ä»£ç†çš„è¯·æ±‚æ‰§è¡Œçš„æ£€æŸ¥ï¼Œä¸ä¼šç”Ÿæˆå…¶ä»–æµé‡ã€‚å½“ç›®æ ‡å˜å¾—æ— å“åº”æ—¶ï¼Œè¢«åŠ¨å¥åº·æ£€æŸ¥å™¨å°†æ£€æµ‹åˆ°è¯¥ç›®æ ‡å¹¶å°†å…¶æ ‡è®°ä¸ºä¸å¥åº·ã€‚ring-balancerå°†å¼€å§‹è·³è¿‡æ­¤ç›®æ ‡ï¼Œå› æ­¤ä¸å†æœ‰æµé‡è·¯ç”±åˆ°è¯¥ç›®æ ‡ã€‚&lt;/p&gt;

&lt;p&gt;è§£å†³ç›®æ ‡é—®é¢˜å¹¶å‡†å¤‡å†æ¬¡æ¥æ”¶æµé‡åï¼ŒKongç®¡ç†å‘˜å¯ä»¥é€šè¿‡Admin APIç«¯ç‚¹æ‰‹åŠ¨é€šçŸ¥è¿è¡ŒçŠ¶å†µæ£€æŸ¥å™¨åº”å†æ¬¡å¯ç”¨ç›®æ ‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;  $ curl -i -X POST http://localhost:8001/upstreams/my_upstream/targets/10.1.2.3:1234/healthy
  HTTP/1.1 &lt;span style=&#34;color:#bd93f9&#34;&gt;204&lt;/span&gt; No Content&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ­¤å‘½ä»¤å°†å¹¿æ’­æ•´ä¸ªç¾¤é›†çš„æ¶ˆæ¯ï¼Œä»¥ä¾¿å°†â€œå¥åº·â€çŠ¶æ€ä¼ æ’­åˆ°æ•´ä¸ª&lt;a href=&#34;https://docs.konghq.com/2.1.x/clustering&#34;&gt;Kongé›†ç¾¤&lt;/a&gt;ã€‚è¿™å°†å¯¼è‡´KongèŠ‚ç‚¹é‡ç½®åœ¨KongèŠ‚ç‚¹çš„æ‰€æœ‰å·¥ä½œç¨‹åºä¸­è¿è¡Œçš„è¿è¡ŒçŠ¶å†µæ£€æŸ¥å™¨çš„è¿è¡ŒçŠ¶å†µè®¡æ•°å™¨ï¼Œä»è€Œå…è®¸ç¯å½¢å¹³è¡¡å™¨å†æ¬¡å°†æµé‡è·¯ç”±åˆ°ç›®æ ‡ã€‚&lt;/p&gt;

&lt;p&gt;è¢«åŠ¨è¿è¡ŒçŠ¶å†µæ£€æŸ¥çš„ä¼˜ç‚¹æ˜¯ä¸ä¼šäº§ç”Ÿé¢å¤–çš„æµé‡ï¼Œä½†æ˜¯å®ƒä»¬æ— æ³•è‡ªåŠ¨å°†ç›®æ ‡å†æ¬¡æ ‡è®°ä¸ºè¿è¡ŒçŠ¶å†µè‰¯å¥½ï¼šâ€œç”µè·¯å·²æ–­å¼€â€ï¼Œç³»ç»Ÿç®¡ç†å‘˜éœ€è¦é‡æ–°å¯ç”¨ç›®æ ‡ã€‚&lt;/p&gt;

&lt;h3 id=&#34;é›†ç¾¤-https-docs-konghq-com-2-1-x-clustering&#34;&gt;é›†ç¾¤  (&lt;a href=&#34;https://docs.konghq.com/2.1.x/clustering/&#34;&gt;https://docs.konghq.com/2.1.x/clustering/&lt;/a&gt;)&lt;/h3&gt;

&lt;p&gt;Kongç¾¤é›†å…è®¸æ‚¨é€šè¿‡æ·»åŠ æ›´å¤šè®¡ç®—æœºæ¥å¤„ç†æ›´å¤šä¼ å…¥è¯·æ±‚æ¥æ°´å¹³æ‰©å±•ç³»ç»Ÿã€‚å®ƒä»¬éƒ½æŒ‡å‘ç›¸åŒçš„æ•°æ®åº“ï¼Œå› æ­¤å®ƒä»¬å°†å…±äº«ç›¸åŒçš„é…ç½®ã€‚æŒ‡å‘&lt;strong&gt;åŒä¸€æ•°æ®å­˜å‚¨çš„&lt;/strong&gt; KongèŠ‚ç‚¹å°†å±äºåŒä¸€Kongé›†ç¾¤ã€‚&lt;/p&gt;

&lt;p&gt;æ‚¨éœ€è¦åœ¨Kongç¾¤é›†å‰é¢å®‰è£…ä¸€ä¸ªè´Ÿè½½å¹³è¡¡å™¨ï¼Œä»¥åœ¨å¯ç”¨èŠ‚ç‚¹ä¹‹é—´åˆ†é…æµé‡ã€‚&lt;/p&gt;

&lt;h4 id=&#34;å¤šèŠ‚ç‚¹kongé›†ç¾¤&#34;&gt;å¤šèŠ‚ç‚¹Kongé›†ç¾¤&lt;/h4&gt;

&lt;p&gt;æ¯&lt;code&gt;db_update_frequency&lt;/code&gt;ç§’é’Ÿï¼Œæ‰€æœ‰è¿è¡Œä¸­çš„KongèŠ‚ç‚¹å°†è½®è¯¢æ•°æ®åº“æ˜¯å¦æœ‰æ›´æ–°ï¼Œå¹¶åœ¨å¿…è¦æ—¶ä»å…¶ç¼“å­˜ä¸­æ¸…é™¤ç›¸å…³å®ä½“ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬ä»&lt;code&gt;A&lt;/code&gt;èŠ‚ç‚¹åˆ é™¤äº†ä¸€ä¸ªæœåŠ¡ï¼Œè¿™ä¸ªå˜åŒ–åœ¨èŠ‚ç‚¹&lt;code&gt;B&lt;/code&gt;è½®è®­æ•°æ®åº“å˜åŒ–å‰ï¼Œä¸ä¼šåœ¨èŠ‚ç‚¹&lt;code&gt;B&lt;/code&gt;ä¸Šç”Ÿæ•ˆã€‚è¯¥è½®è¯¢å¯èƒ½ä¼šåœ¨&lt;code&gt;db_update_frequency&lt;/code&gt;å‡ ç§’é’Ÿåå‘ç”Ÿï¼ˆå°½ç®¡å¯èƒ½ä¼šæ›´å¿«å‘ç”Ÿï¼‰ã€‚&lt;/p&gt;

&lt;h4 id=&#34;å“ªäº›å†…å®¹å°†è¢«ç¼“å­˜&#34;&gt;å“ªäº›å†…å®¹å°†è¢«ç¼“å­˜?&lt;/h4&gt;

&lt;p&gt;æ‰€æœ‰æ ¸å¿ƒå®ä½“ï¼ˆå¦‚æœåŠ¡ï¼Œè·¯ç”±ï¼Œæ’ä»¶ï¼Œä½¿ç”¨è€…ï¼Œå‡­è¯ï¼‰éƒ½ç”±Kongç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå¹¶ä¾èµ–äºå®ƒä»¬é€šè¿‡è¦æ›´æ–°çš„è½®è¯¢æœºåˆ¶çš„å¤±æ•ˆã€‚&lt;/p&gt;

&lt;h4 id=&#34;æ€æ ·é…ç½®æ•°æ®åº“ç¼“å­˜&#34;&gt;æ€æ ·é…ç½®æ•°æ®åº“ç¼“å­˜?&lt;/h4&gt;

&lt;p&gt;æ‚¨å¯ä»¥åœ¨Kongé…ç½®æ–‡ä»¶ä¸­é…ç½®3ä¸ªå±æ€§ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯&lt;code&gt;db_update_frequency&lt;/code&gt;ï¼Œå®ƒç¡®å®šæ‚¨çš„KongèŠ‚ç‚¹åœ¨æ€§èƒ½ä¸ä¸€è‡´æ€§ä¹‹é—´çš„æƒè¡¡ã€‚&lt;/p&gt;

&lt;p&gt;Kongå¸¦æœ‰ä¸ºä¸€è‡´æ€§è€Œè°ƒæ•´çš„é»˜è®¤å€¼ï¼Œä»¥ä¾¿è®©æ‚¨å°è¯•å…¶ç¾¤é›†åŠŸèƒ½åŒæ—¶é¿å…â€œæ„å¤–â€ã€‚åœ¨å‡†å¤‡ç”Ÿäº§è®¾ç½®æ—¶ï¼Œåº”è€ƒè™‘è°ƒæ•´è¿™äº›å€¼ï¼Œä»¥ç¡®ä¿éµå®ˆæ€§èƒ½çº¦æŸã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;db_update_frequency&lt;/code&gt; (é»˜è®¤: 5s)
è¿™ä¸ªå€¼ç¡®å®šæ‚¨çš„KongèŠ‚ç‚¹å°†è½®è¯¢æ•°æ®åº“ä¸­çš„æ— æ•ˆäº‹ä»¶çš„é¢‘ç‡ã€‚è¾ƒä½çš„å€¼è¡¨ç¤ºè½®è¯¢ä½œä¸šå°†æ›´é¢‘ç¹åœ°æ‰§è¡Œï¼Œä½†æ˜¯KongèŠ‚ç‚¹å°†è·Ÿä¸Šæ‚¨åº”ç”¨çš„æ›´æ”¹ã€‚è¾ƒé«˜çš„å€¼è¡¨ç¤ºæ‚¨çš„KongèŠ‚ç‚¹å°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è¿è¡Œè½®è¯¢ä½œä¸šï¼Œå¹¶å°†ä¸“æ³¨äºä»£ç†æ‚¨çš„æµé‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼šæ›´æ”¹æœ€å¤šåœ¨db_update_frequencyç§’å†…åœ¨æ•´ä¸ªç¾¤é›†ä¸­ä¼ æ’­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;db_update_propagation&lt;/code&gt; (é»˜è®¤: 0s)
å¦‚æœæ•°æ®åº“æœ¬èº«æœ€ç»ˆæ˜¯ä¸€è‡´çš„ï¼ˆå³ï¼šCassandraï¼‰ï¼Œåˆ™å¿…é¡»é…ç½®è¯¥å€¼ã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿æ›´æ”¹æœ‰æ—¶é—´åœ¨æ•°æ®åº“èŠ‚ç‚¹ä¹‹é—´ä¼ æ’­ã€‚è®¾ç½®åï¼Œä»è½®è¯¢ä½œä¸šæ¥æ”¶åˆ°æ— æ•ˆäº‹ä»¶çš„KongèŠ‚ç‚¹å°†ä½¿æ¸…é™¤å…¶ç¼“å­˜çš„æ—¶é—´å»¶è¿Ÿ&lt;code&gt;db_update_propagation&lt;/code&gt;ç§’ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦‚æœè¿æ¥åˆ°æœ€ç»ˆä¸€è‡´æ•°æ®åº“çš„KongèŠ‚ç‚¹æ²¡æœ‰å»¶è¿Ÿäº‹ä»¶å¤„ç†ï¼Œåˆ™å®ƒå¯ä»¥æ¸…é™¤å…¶ç¼“å­˜ï¼Œä»…å†æ¬¡ç¼“å­˜æœªæ›´æ–°çš„å€¼ï¼ˆå› ä¸ºæ›´æ”¹å°šæœªåœ¨æ•°æ®åº“ä¸­ä¼ æ’­ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;æ‚¨åº”è¯¥å°†æ­¤å€¼è®¾ç½®ä¸ºæ•°æ®åº“é›†ç¾¤ä¼ æ’­æ›´æ”¹æ‰€èŠ±è´¹çš„æ—¶é—´çš„ä¼°è®¡å€¼ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼šè®¾ç½®æ­¤å€¼åï¼Œæ›´æ”¹å°†åœ¨æ•´ä¸ªdb_update_frequency + db_update_propagationç§’å†…ä¼ æ’­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;db_cache_ttl&lt;/code&gt; (é»˜è®¤: 0s)
Kongå°†ç¼“å­˜æ•°æ®åº“å®ä½“ï¼ˆå‘½ä¸­å’Œæœªå‘½ä¸­ï¼‰çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚æ­¤ç”Ÿå­˜æ—¶é—´å€¼å¯ä½œä¸ºå®‰å…¨æªæ–½ï¼Œä»¥é˜²KongèŠ‚ç‚¹é”™è¿‡å¤±æ•ˆäº‹ä»¶ï¼Œä»è€Œé¿å…å…¶åœ¨é™ˆæ—§æ•°æ®ä¸Šè¿è¡Œå¤ªé•¿æ—¶é—´ã€‚å½“è¾¾åˆ°TTLæ—¶ï¼Œå°†ä»å…¶ç¼“å­˜ä¸­æ¸…é™¤è¯¥å€¼ï¼Œå¹¶å†æ¬¡ç¼“å­˜ä¸‹ä¸€ä¸ªæ•°æ®åº“ç»“æœï¼ˆå…¶å®å°±æ˜¯ä¸Šæ¸¸æœåŠ¡è¿”å›çš„ç»“æœï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œæ²¡æœ‰æ•°æ®åŸºäºæ­¤TTLæ— æ•ˆï¼ˆé»˜è®¤å€¼ä¸º0ï¼‰ã€‚é€šå¸¸è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½é€‰æ‹©ï¼šKongèŠ‚ç‚¹ä¾èµ–äºæ— æ•ˆäº‹ä»¶ï¼Œè¿™äº›äº‹ä»¶åœ¨æ•°æ®åº“å­˜å‚¨çº§åˆ«ï¼ˆCassandra / PosgreSQLï¼‰å¤„ç†ã€‚å¦‚æœæ‚¨æ‹…å¿ƒKongèŠ‚ç‚¹å¯èƒ½å› ä»»ä½•åŸå› é”™è¿‡å¤±æ•ˆäº‹ä»¶ï¼Œåˆ™åº”è®¾ç½®TTLã€‚å¦åˆ™ï¼ŒèŠ‚ç‚¹å¯èƒ½ä¼šåœ¨å…¶ç¼“å­˜ä¸­ä»¥é™ˆæ—§å€¼è¿è¡Œä¸ç¡®å®šçš„æ—¶é—´ï¼Œç›´åˆ°æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜æˆ–é‡æ–°å¯åŠ¨èŠ‚ç‚¹ä¸ºæ­¢ã€‚å³å°±æ˜¯å…è®¸ä¸€å®šæ—¶é—´èŒƒå›´å†…çš„æ•°æ®ä¸ä¸€è‡´æ€§ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨Cassandraæ—¶&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦‚æœå°†Cassandraç”¨ä½œKongæ•°æ®åº“ï¼Œåˆ™&lt;strong&gt;å¿…é¡»&lt;/strong&gt;è®¾ç½®&lt;code&gt;db_update_propagation&lt;/code&gt;ä¸ºéé›¶å€¼ã€‚ç”±äºCassandraæœ€ç»ˆåœ¨æœ¬è´¨ä¸Šæ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤è¿™å°†ç¡®ä¿KongèŠ‚ç‚¹ä¸ä¼šè¿‡æ—©åœ°ä½¿å®ƒä»¬çš„ç¼“å­˜å¤±æ•ˆï¼Œè€Œåªæ˜¯å†æ¬¡è·å–å¹¶æ•è·ä¸æœ€æ–°çš„å®ä½“ã€‚å¦‚æœæ‚¨åœ¨ä½¿ç”¨Cassandraæ—¶æœªé…ç½®æ­¤å€¼ï¼Œåˆ™Kongå°†å‘æ‚¨æ˜¾ç¤ºè­¦å‘Šæ—¥å¿—ã€‚&lt;/p&gt;

&lt;p&gt;æ­¤å¤–ï¼Œæ‚¨å¯èƒ½éœ€è¦é…ç½®&lt;code&gt;cassandra_consistency&lt;/code&gt;ä¸º&lt;code&gt;QUORUM&lt;/code&gt;æˆ–&lt;code&gt;LOCAL_QUORUM&lt;/code&gt;ï¼Œä»¥ç¡®ä¿KongèŠ‚ç‚¹ç¼“å­˜çš„å€¼æ˜¯æ•°æ®åº“ä¸­çš„æœ€æ–°å€¼ã€‚&lt;/p&gt;

&lt;p&gt;å»ºè®®ä¸è¦å°†&lt;code&gt;cassandra_refresh_frequency&lt;/code&gt;é€‰é¡¹è®¾ç½®&lt;code&gt;0&lt;/code&gt;ä¸ºï¼Œå› ä¸ºéœ€è¦é‡å¯Kongæ‰èƒ½å‘ç°å¯¹Cassandraç¾¤é›†æ‹“æ‰‘çš„ä»»ä½•æ›´æ”¹ã€‚&lt;/p&gt;

&lt;h3 id=&#34;é˜²ç«å¢™-https-docs-konghq-com-2-1-x-network-firewall&#34;&gt;é˜²ç«å¢™  (&lt;a href=&#34;https://docs.konghq.com/2.1.x/network/#firewall&#34;&gt;https://docs.konghq.com/2.1.x/network/#firewall&lt;/a&gt;)&lt;/h3&gt;

&lt;h4 id=&#34;é€æ˜ä»£ç†-https-blog-stackpath-com-transparent-proxy&#34;&gt;é€æ˜ä»£ç†  (&lt;a href=&#34;https://blog.stackpath.com/transparent-proxy/&#34;&gt;https://blog.stackpath.com/transparent-proxy/&lt;/a&gt;)&lt;/h4&gt;

&lt;p&gt;ä¾‹å¦‚ä¸€ä¸ªHTTPè¯·æ±‚ç›®çš„åœ°å€&lt;code&gt;10.0.0.1&lt;/code&gt;ç«¯å£&lt;code&gt;80&lt;/code&gt;éœ€è¦èƒ½è·³è½¬åˆ°&lt;code&gt;127.0.0.1&lt;/code&gt;ç«¯å£ä¸º&lt;code&gt;8000&lt;/code&gt;ã€‚è¦å®ç°è¿™æ ·çš„ç½‘ç»œï¼Œæ‚¨éœ€è¦ï¼ˆå¯¹äºLinuxï¼‰å°†&lt;code&gt;transparent&lt;/code&gt;ä¾¦å¬é€‰é¡¹æ·»åŠ åˆ°Kongä»£ç†&lt;code&gt;proxy_listen=8000 transparent&lt;/code&gt;ã€‚è¿™ä½¿Kongå¯ä»¥çœ‹åˆ°è¯·æ±‚ï¼ˆ&lt;code&gt;10.0.0.1:80&lt;/code&gt;ï¼‰çš„åŸå§‹ç›®çš„åœ°ï¼Œå³ä½¿Kongå¹¶æœªå®é™…ç›´æ¥æ”¶å¬å®ƒã€‚æœ‰äº†è¿™äº›ä¿¡æ¯ï¼ŒKongå¯ä»¥æ­£ç¡®åœ°è·¯ç”±è¯·æ±‚ã€‚åœ¨&lt;code&gt;transparent&lt;/code&gt;å¬å–é€‰é¡¹åªèƒ½åœ¨Linuxä¸­ä½¿ç”¨ã€‚macOS / BSDå…è®¸æ²¡æœ‰&lt;code&gt;transparent&lt;/code&gt;ä¾¦å¬é€‰é¡¹çš„é€æ˜ä»£ç†ã€‚ä½¿ç”¨Linuxï¼Œæ‚¨å¯èƒ½è¿˜éœ€è¦ä»¥&lt;code&gt;root&lt;/code&gt;ç”¨æˆ·èº«ä»½å¯åŠ¨Kong æˆ–ä¸ºå¯æ‰§è¡Œæ–‡ä»¶è®¾ç½®æ‰€éœ€çš„åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/image-20200728094209364.png#mid&#34; alt=&#34;Transparent Proxy&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;é€šè¿‡systemdç®¡ç†kong&#34;&gt;é€šè¿‡systemdç®¡ç†Kong&lt;/h3&gt;

&lt;h5 id=&#34;start-kong&#34;&gt;Start Kong&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl start kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;stop-kong&#34;&gt;Stop Kong&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl stop kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;éšç³»ç»Ÿä¸€èµ·å¯åŠ¨&#34;&gt;éšç³»ç»Ÿä¸€èµ·å¯åŠ¨&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;enable&lt;/span&gt; kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;å…³é—­éšç³»ç»Ÿå¯åŠ¨&#34;&gt;å…³é—­éšç³»ç»Ÿå¯åŠ¨&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl disable kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;restart-kong&#34;&gt;Restart Kong&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl restart kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;æŸ¥çœ‹kongçŠ¶æ€&#34;&gt;æŸ¥çœ‹KongçŠ¶æ€&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl status kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;é€šè¿‡åŒ…å«çš„nginxæŒ‡ä»¤çš„æ–‡ä»¶æ¥è‡ªå®šä¹‰kongçš„nginxå®ä¾‹-https-docs-konghq-com-2-1-x-systemd-customize-kongs-nginx-instance-including-files-via-the-injected-nginx-directives&#34;&gt;é€šè¿‡åŒ…å«çš„NginxæŒ‡ä»¤çš„æ–‡ä»¶æ¥è‡ªå®šä¹‰Kongçš„Nginxå®ä¾‹  (&lt;a href=&#34;https://docs.konghq.com/2.1.x/systemd/#customize-kongs-nginx-instance-including-files-via-the-injected-nginx-directives&#34;&gt;https://docs.konghq.com/2.1.x/systemd/#customize-kongs-nginx-instance-including-files-via-the-injected-nginx-directives&lt;/a&gt;)&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åœ¨&lt;code&gt;/etc/systemd/system/kong.service&lt;/code&gt;æ–‡ä»¶ä¸­å®šä¹‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;Environment=KONG_NGINX_HTTP_INCLUDE=/path/to/your/my-server.kong.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;åœ¨&lt;code&gt;/etc/kong/kong.config&lt;/code&gt;ä¸­å®šä¹‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-properties&#34; data-lang=&#34;properties&#34;&gt;nginx_http_include=/path/to/your/my-server.kong.config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;æ’ä»¶çš„æ‰§è¡Œé¡ºåº&#34;&gt;æ’ä»¶çš„æ‰§è¡Œé¡ºåº&lt;/h3&gt;

&lt;p&gt;å†…ç½®æ’ä»¶çš„é¡ºåºä¸º:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Plugin&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Priority&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;pre-function&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;+inf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;zipkin&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100000&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ip-restriction&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;3000&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;bot-detection&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2500&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;cors&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2000&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;session&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1900&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;kubernetes-sidecar-injector&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1006&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;jwt&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1005&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;oauth2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1004&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;key-auth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1003&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ldap-auth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1002&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;basic-auth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1001&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;hmac-auth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1000&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;request-size-limiting&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;951&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;acl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;950&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;rate-limiting&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;901&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;response-ratelimiting&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;900&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;request-transformer&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;801&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;response-transformer&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;800&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;aws-lambda&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;750&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;azure-functions&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;749&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;prometheus&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;13&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;http-log&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;12&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;statsd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;11&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;datadog&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;10&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;file-log&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;9&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;udp-log&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;8&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;tcp-log&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;7&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;loggly&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;6&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;syslog&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;request-termination&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;correlation-id&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;post-function&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;-1000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;é‡è¦çš„é…ç½®&#34;&gt;é‡è¦çš„é…ç½®&lt;/h3&gt;

&lt;h4 id=&#34;upstreams&#34;&gt;Upstreams&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;healthchecks.active.healthy.interval&lt;/code&gt; é»˜è®¤å’Œè®¾ç½®ä¸º &lt;code&gt;0&lt;/code&gt;æ—¶ï¼Œ ä¸ä¼šè¿›è¡Œå¥åº·ç›®æ ‡çš„æ¢æµ‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;healthchecks.active.unhealthy.interval&lt;/code&gt; é»˜è®¤å’Œè®¾ç½®ä¸º &lt;code&gt;0&lt;/code&gt;æ—¶ï¼Œ ä¸ä¼šè¿›è¡Œä¸å¥åº·ç›®æ ‡çš„æ¢æµ‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
     </item>
   
     <item>
       <title>Kong Quick Start &amp; Core Concepts (En) </title>
       <link>https://izcqi.com/posts/2020/07/28/kong-quick-start-and-core-concepts-en/</link>
       <pubDate>Tue, 28 Jul 2020 22:23:39 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2020/07/28/kong-quick-start-and-core-concepts-en/</guid>
       <description>

&lt;blockquote&gt;
&lt;p&gt;Note: Author Qicz may revise the content of this article from time to time. In order to guarantee the consistency and rigor of the content, author Qicz reserves all rights of this article. No reprint or other use of the content is allowed without the permission of Qicz.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;what-is-kong-technically-https-docs-konghq-com-2-1-x-getting-started-introduction&#34;&gt;What is Kong, technically? (&lt;a href=&#34;https://docs.konghq.com/2.1.x/getting-started/introduction/&#34;&gt;https://docs.konghq.com/2.1.x/getting-started/introduction/&lt;/a&gt;)&lt;/h3&gt;

&lt;p&gt;Kong is a Lua application running in Nginx and made possible by the lua-nginx-module. Instead of compiling Nginx with this module, Kong is distributed along with OpenResty, which already includes lua-nginx-module. OpenResty is not a fork of Nginx, but a bundle of modules extending its capabilities.&lt;/p&gt;

&lt;p&gt;Kong is a cloud-native, fast, scalable, and distributed Microservice Abstraction Layer &lt;em&gt;(also known as an API Gateway or API Middleware)&lt;/em&gt;. Made available as an open-source project in 2015, its core values are high performance and extensibility.&lt;/p&gt;

&lt;h4 id=&#34;why-kong&#34;&gt;Why Kong?&lt;/h4&gt;

&lt;p&gt;If you are building for the web, mobile, or IoT (Internet of Things) you will likely end up needing common functionality to run your actual software. Kong can help by acting as a gateway (or a sidecar) for microservices requests while providing load balancing, logging, authentication, rate-limiting, transformations, and more through plugins.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/image-20200728111142106.png#mid&#34; alt=&#34;Different architecture compare&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Kong has been built with the following leading principles:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;High Performance&lt;/strong&gt;: Sub-millisecond processing latency to support mission critical use cases and high throughput.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Extensibility&lt;/strong&gt;: With a pluggable architecture to extend Kong in Lua or GoLang with Kong&amp;rsquo;s Plugin SDK.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Portability&lt;/strong&gt;: To run on every platform, every cloud and to natively support Kubernetes via our modern Ingress Controller.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;features&#34;&gt;Features&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Cloud-Native&lt;/strong&gt;: Platform agnostic, Kong can run on any platform - from bare metal to containers - and it can run on every cloud natively.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Kubernetes-Native&lt;/strong&gt;: Declaratively configure Kong with native Kubernetes CRDs using the official Ingress Controller to route and connect all L4 + L7 traffic.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dynamic Load Balancing&lt;/strong&gt;: Load balance traffic across multiple upstream services.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hash-based Load Balancing&lt;/strong&gt;: Load balance with consistent hashing/sticky sessions.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Circuit-Breaker&lt;/strong&gt;: Intelligent tracking of unhealthy upstream services.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Health Checks:&lt;/strong&gt; Active and passive monitoring of your upstream services.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Service Discovery&lt;/strong&gt;: Resolve SRV records in third-party DNS resolvers like Consul.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Serverless&lt;/strong&gt;: Invoke and secure AWS Lambda or OpenWhisk functions directly from Kong.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WebSockets&lt;/strong&gt;: Communicate to your upstream services via WebSockets.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gRPC&lt;/strong&gt;: Communicate to your gRPC services and observe your traffic with logging and observability plugins&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OAuth2.0&lt;/strong&gt;: Easily add OAuth2.0 authentication to your APIs.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Logging&lt;/strong&gt;: Log requests and responses to your system over HTTP, TCP, UDP, or to disk.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Security&lt;/strong&gt;: ACL, Bot detection, allow/deny IPs, etc&amp;hellip;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Syslog&lt;/strong&gt;: Logging to System log.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SSL&lt;/strong&gt;: Setup a Specific SSL Certificate for an underlying service or API.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Monitoring&lt;/strong&gt;: Live monitoring provides key load and performance server metrics.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Forward Proxy&lt;/strong&gt;: Make Kong connect to intermediary transparent HTTP proxies.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Authentications&lt;/strong&gt;: HMAC, JWT, Basic, and more.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Rate-limiting&lt;/strong&gt;: Block and throttle requests based on many variables.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Transformations&lt;/strong&gt;: Add, remove, or manipulate HTTP requests and responses.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Caching&lt;/strong&gt;: Cache and serve responses at the proxy layer.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CLI&lt;/strong&gt;: Control your Kong cluster from the command line.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;REST API&lt;/strong&gt;: Kong can be operated with its RESTful API for maximum flexibility.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Geo-Replicated&lt;/strong&gt;: Configs are always up-to-date across different regions.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Failure Detection &amp;amp; Recovery&lt;/strong&gt;: Kong is unaffected if one of your Cassandra nodes goes down.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Clustering&lt;/strong&gt;: All Kong nodes auto-join the cluster keeping their config updated across nodes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Scalability&lt;/strong&gt;: Distributed by nature, Kong scales horizontally by simply adding nodes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Performance&lt;/strong&gt;: Kong handles load with ease by scaling and using NGINX at the core.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Plugins&lt;/strong&gt;: Extendable architecture for adding functionality to Kong and APIs.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/image-20200727154809091.png#mid&#34; alt=&#34;Kong layer&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;concepts&#34;&gt;Concepts&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Services&lt;/li&gt;
&lt;li&gt;Routes&lt;/li&gt;
&lt;li&gt;Upstreams&lt;/li&gt;
&lt;li&gt;Targets&lt;/li&gt;
&lt;li&gt;Tags&lt;/li&gt;
&lt;li&gt;Consumers&lt;/li&gt;
&lt;li&gt;Plugins&lt;/li&gt;
&lt;li&gt;Others

&lt;ul&gt;
&lt;li&gt;Certificate Object&lt;/li&gt;
&lt;li&gt;CA Certificate Object&lt;/li&gt;
&lt;li&gt;SNI Object&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;plugins&#34;&gt;Plugins&lt;/h3&gt;

&lt;h4 id=&#34;proxy-cache-plugin-https-docs-konghq-com-hub-kong-inc-proxy-cache&#34;&gt;proxy-cache plugin (&lt;a href=&#34;https://docs.konghq.com/hub/kong-inc/proxy-cache/&#34;&gt;https://docs.konghq.com/hub/kong-inc/proxy-cache/&lt;/a&gt;)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Major parameters

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;config.content_type&lt;/code&gt; caching with content type&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config.cache_ttl&lt;/code&gt; default &lt;code&gt;300seconds&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config.strategy&lt;/code&gt;  &lt;code&gt;memory&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config.request_method&lt;/code&gt;  default &lt;code&gt;[&amp;quot;GET&amp;quot;,&amp;quot;HEAD&amp;quot;]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config.response_code&lt;/code&gt;  default &lt;code&gt;200, 301, 404&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Cache status

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Miss&lt;/code&gt;: The request could be satisfied in cache, but an entry for the resource was not found in cache, and the request was proxied upstream.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Hit&lt;/code&gt;: The request was satisfied and served from cache.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Refresh&lt;/code&gt;: The resource was found in cache, but could not satisfy the request, due to Cache-Control behaviors or reaching its hard-coded cache_ttl threshold.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Bypass&lt;/code&gt;: The request could not be satisfied from cache based on plugin configuration.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;rote-limiting-plugin-https-docs-konghq-com-hub-kong-inc-rate-limiting&#34;&gt;Rote Limiting plugin (&lt;a href=&#34;https://docs.konghq.com/hub/kong-inc/rate-limiting/&#34;&gt;https://docs.konghq.com/hub/kong-inc/rate-limiting/&lt;/a&gt;)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Major parameters&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;config.policy&lt;/code&gt;The rate-limiting policies to use for retrieving and incrementing the limits. Available values are &lt;code&gt;local&lt;/code&gt; (counters will be stored locally in-memory on the node), &lt;code&gt;cluster&lt;/code&gt; (counters are stored in the datastore and shared across the nodes), and &lt;code&gt;redis&lt;/code&gt; (counters are stored on a Redis server and will be shared across the nodes). In the case of DB-less mode, at least one of &lt;code&gt;local&lt;/code&gt; or &lt;code&gt;redis&lt;/code&gt; must be specified. Please refer &lt;a href=&#34;https://docs.konghq.com/hub/kong-inc/rate-limiting/#implementation-considerations&#34;&gt;Implementation Considerations&lt;/a&gt; for details on which policy should be used.&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;config.policy=redis&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;using &lt;code&gt;config.redis*&lt;/code&gt; =&amp;gt;&lt;code&gt;redis_host|redis_password|redis_database|redis_timeout&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;config.&lt;/code&gt; &lt;code&gt;second|minute|hour|day|month|year&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;key-auth-plugin-https-docs-konghq-com-hub-kong-inc-key-auth&#34;&gt;Key Auth plugin (&lt;a href=&#34;https://docs.konghq.com/hub/kong-inc/key-auth/&#34;&gt;https://docs.konghq.com/hub/kong-inc/key-auth/&lt;/a&gt;)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Major parameters

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;config.key_names&lt;/code&gt; default name &lt;code&gt;apikey&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Usage step

&lt;ul&gt;
&lt;li&gt;Create a Consumer&lt;/li&gt;
&lt;li&gt;Create a Key&lt;/li&gt;
&lt;li&gt;Using the Key&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;load-balancing-plugin-https-docs-konghq-com-getting-started-guide-2-1-x-load-balancing&#34;&gt;Load Balancing plugin (&lt;a href=&#34;https://docs.konghq.com/getting-started-guide/2.1.x/load-balancing/&#34;&gt;https://docs.konghq.com/getting-started-guide/2.1.x/load-balancing/&lt;/a&gt;)&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Concepts

&lt;ul&gt;
&lt;li&gt;Upstreams&lt;/li&gt;
&lt;li&gt;Targets&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;custom-nginx-templates-embedding-kong-https-docs-konghq-com-2-1-x-configuration&#34;&gt;Custom Nginx templates &amp;amp; embedding Kong (&lt;a href=&#34;https://docs.konghq.com/2.1.x/configuration/&#34;&gt;https://docs.konghq.com/2.1.x/configuration/&lt;/a&gt;)&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;$ kong start -c kong.conf --nginx-conf custom_nginx.template&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;terminology&#34;&gt;Terminology&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;client&lt;/code&gt;: Refers to the &lt;em&gt;downstream&lt;/em&gt; client making requests to Kongâ€™s proxy port.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;upstream service&lt;/code&gt;: Refers to your own API/service sitting behind Kong, to which client requests/connections are forwarded.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Service&lt;/code&gt;: Service entities, as the name implies, are abstractions of each of your own upstream services. Examples of Services would be a data transformation microservice, a billing API, etc.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Route&lt;/code&gt;: This refers to the Kong Routes entity. Routes are entrypoints into Kong, and defining rules for a request to be matched, and routed to a given Service.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Plugin&lt;/code&gt;: This refers to Kong â€œpluginsâ€, which are pieces of business logic that run in the proxying lifecycle. Plugins can be configured through the Admin API - either globally (all incoming traffic) or on specific Routes and Services.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ports&#34;&gt;Ports&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;proxyï¼š&lt;code&gt;8000&lt;/code&gt;ï¼Œ&lt;code&gt;8443&lt;/code&gt; for https&lt;/li&gt;
&lt;li&gt;adminï¼š&lt;code&gt;8001&lt;/code&gt;ï¼Œ&lt;code&gt;8444&lt;/code&gt; for https&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;routes-and-matching-capabilities&#34;&gt;Routes and matching capabilities&lt;/h3&gt;

&lt;p&gt;Kong supports native proxying of HTTP/HTTPS, TCL/TLS, and GRPC/GRPCS protocols; as mentioned earlier, each of these protocols accept a different set of routing attributes:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;http&lt;/code&gt;: &lt;code&gt;methods&lt;/code&gt;, &lt;code&gt;hosts&lt;/code&gt;, &lt;code&gt;headers&lt;/code&gt;, &lt;code&gt;paths&lt;/code&gt; (and &lt;code&gt;snis&lt;/code&gt;, if &lt;code&gt;https&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tcp&lt;/code&gt;: &lt;code&gt;sources&lt;/code&gt;, &lt;code&gt;destinations&lt;/code&gt; (and &lt;code&gt;snis&lt;/code&gt;, if &lt;code&gt;tls&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grpc&lt;/code&gt;: &lt;code&gt;hosts&lt;/code&gt;, &lt;code&gt;headers&lt;/code&gt;, &lt;code&gt;paths&lt;/code&gt; (and &lt;code&gt;snis&lt;/code&gt;, if &lt;code&gt;grpcs&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;Note that all three of these fields are &lt;strong&gt;optional&lt;/strong&gt;, but at least &lt;strong&gt;one of them&lt;/strong&gt; must be specified.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For a request to match a Route:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The request &lt;strong&gt;must&lt;/strong&gt; include &lt;strong&gt;all&lt;/strong&gt; of the configured fields&lt;/li&gt;
&lt;li&gt;The values of the fields in the request &lt;strong&gt;must&lt;/strong&gt; match at least one of the configured values (While the field configurations accepts one or more values, a request needs only one of the values to be considered a match)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Letâ€™s go through a few examples. Consider a Route configured like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;example.com&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;foo-service.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/foo&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/bar&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;methods&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Some of the possible requests matching this Route would look like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /foo &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /bar &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; foo-service.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /foo/hello/world &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All three of these requests satisfy all the conditions set in the Route definition.&lt;/p&gt;

&lt;p&gt;However, the following requests would &lt;strong&gt;not&lt;/strong&gt; match the configured conditions:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;path not match.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;POST&lt;/span&gt; /foo &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;method not match.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /foo &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; foo.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;url not match.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;All three of these requests satisfy only two of configured conditions. The first requestâ€™s path is not a match for any of the configured &lt;code&gt;paths&lt;/code&gt;, same for the second requestâ€™s HTTP method, and the third requestâ€™s Host header.&lt;/p&gt;

&lt;p&gt;Now that we understand how the routing properties work together, letâ€™s explore each property individually.&lt;/p&gt;

&lt;h4 id=&#34;the-preserve-host-property&#34;&gt;The &lt;code&gt;preserve_host&lt;/code&gt; property&lt;/h4&gt;

&lt;p&gt;When proxying, Kongâ€™s default behavior is to set the upstream requestâ€™s Host header to the hostname specified in the Serviceâ€™s &lt;code&gt;host&lt;/code&gt;. The &lt;code&gt;preserve_host&lt;/code&gt; field accepts a boolean flag instructing Kong not to do so.&lt;/p&gt;

&lt;p&gt;For example, when the &lt;code&gt;preserve_host&lt;/code&gt; property is not changed and a Route is configured like so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A possible request from a client to Kong could be:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; service.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kong would extract the Host header value from the Serviceâ€™s &lt;code&gt;host&lt;/code&gt; property, , and would send the following upstream request:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &amp;lt;my-service-host.com&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, by explicitly configuring a Route with &lt;code&gt;preserve_host=true&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;preserve_host&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;,
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And assuming the same request from the client:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; service.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kong would preserve the Host on the client request and would send the following upstream request instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; service.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;request-headers-except-host&#34;&gt;Request headers (except Host)&lt;/h4&gt;

&lt;p&gt;Since Kong 1.3.0, it is possible to route request by other headers besides &lt;code&gt;Host&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To do this, use the &lt;code&gt;headers&lt;/code&gt; property in your Route:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;headers&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; { &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;v1&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;v2&amp;#34;&lt;/span&gt;] },
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Given a request with a header such as:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
version&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; v1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This request will be routed through to the Service. The same will happen with this one:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
version&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; v2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But this request will not be routed to the Service:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
version&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; v3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: The &lt;code&gt;headers&lt;/code&gt; keys are a logical &lt;code&gt;AND&lt;/code&gt; and their values a logical &lt;code&gt;OR&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&#34;request-path&#34;&gt;Request path&lt;/h4&gt;

&lt;p&gt;Another way for a Route to be matched is via request paths. To satisfy this routing condition, a client requestâ€™s path &lt;strong&gt;must&lt;/strong&gt; be prefixed with one of the values of the &lt;code&gt;paths&lt;/code&gt; attribute.&lt;/p&gt;

&lt;p&gt;For example, with a Route configured like so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;{
    &amp;#34;paths&amp;#34;: [&amp;#34;/service&amp;#34;, &amp;#34;/hello/world&amp;#34;]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The following requests would be matched:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /service &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /service/resource?param=value &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /hello/world/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; anything.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For each of these requests, Kong detects that their URL path is prefixed with one of the Routesâ€™s &lt;code&gt;paths&lt;/code&gt; values. By default, Kong would then proxy the request upstream without changing the URL path.&lt;/p&gt;

&lt;p&gt;When proxying with path prefixes, &lt;strong&gt;the longest paths get evaluated first&lt;/strong&gt;. This allow you to define two Routes with two paths: &lt;code&gt;/service&lt;/code&gt; and &lt;code&gt;/service/resource&lt;/code&gt;, and ensure that the former does not â€œshadowâ€ the latter.&lt;/p&gt;

&lt;h4 id=&#34;using-regexes-in-paths&#34;&gt;Using regexes in paths&lt;/h4&gt;

&lt;p&gt;Kong supports regular expression pattern matching for an Routeâ€™s &lt;code&gt;paths&lt;/code&gt; field via &lt;a href=&#34;http://pcre.org/&#34;&gt;PCRE&lt;/a&gt; (Perl Compatible Regular Expression). You can assign paths as both prefixes and regexes to a Route at the same time.&lt;/p&gt;

&lt;p&gt;For example, if we consider the following Route:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/users/\d+/profile&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/following&amp;#34;&lt;/span&gt;]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The following requests would be matched by this Route:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /following &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /users/123/profile &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The provided regexes are evaluated with the &lt;code&gt;a&lt;/code&gt; PCRE flag (&lt;code&gt;PCRE_ANCHORED&lt;/code&gt;), meaning that they will be constrained to match at the first matching point in the path (the root &lt;code&gt;/&lt;/code&gt; character).&lt;/p&gt;

&lt;h4 id=&#34;the-strip-path-property&#34;&gt;The &lt;code&gt;strip_path&lt;/code&gt; property&lt;/h4&gt;

&lt;p&gt;It may be desirable to specify a path prefix to match a Route, but not include it in the upstream request. To do so, use the &lt;code&gt;strip_path&lt;/code&gt; boolean property by configuring a Route like so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/service&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;strip_path&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;,
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Enabling this flag instructs Kong that when matching this Route, and proceeding with the proxying to a Service, it should &lt;strong&gt;not&lt;/strong&gt; include the matched part of the URL path in the upstream requestâ€™s URL. For example, the following clientâ€™s request to the above Route:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /service/path/to/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Will cause Kong to send the following upstream request:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /path/to/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The same way, if a regex path is defined on a Route that has &lt;code&gt;strip_path&lt;/code&gt; enabled, the entirety of the request URL matching sequence will be stripped. Example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/version/\d+/service&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;strip_path&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;,
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The following HTTP request matching the provided regex path:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /version/1/service/path/to/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Will be proxied upstream by Kong as:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; /path/to/resource &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;matching-priorities&#34;&gt;Matching priorities&lt;/h4&gt;

&lt;p&gt;A Route may define matching rules based on its &lt;code&gt;headers&lt;/code&gt;, &lt;code&gt;hosts&lt;/code&gt;, &lt;code&gt;paths&lt;/code&gt;, and &lt;code&gt;methods&lt;/code&gt; (plus &lt;code&gt;snis&lt;/code&gt; for secure routes - &lt;code&gt;&amp;quot;https&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;quot;grpcs&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;quot;tls&amp;quot;&lt;/code&gt;) fields. For Kong to match an incoming request to a Route, all existing fields must be satisfied. However, Kong allows for quite some flexibility by allowing two or more Routes to be configured with fields containing the same values - when this occurs, Kong applies a priority rule.&lt;/p&gt;

&lt;p&gt;The rule is: &lt;strong&gt;when evaluating a request, Kong will first try to match the Routes with the most rules&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;For example, if two Routes are configured like so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;example.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
},
{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;example.com&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;methods&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;POST&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The second Route has a &lt;code&gt;hosts&lt;/code&gt; field &lt;strong&gt;and&lt;/strong&gt; a &lt;code&gt;methods&lt;/code&gt; field, so it will be evaluated first by Kong. By doing so, we avoid the first Route â€œshadowingâ€ calls intended for the second one.&lt;/p&gt;

&lt;p&gt;Thus, this request will match the first Route&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;GET&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And this request will match the second one:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-http&#34; data-lang=&#34;http&#34;&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;POST&lt;/span&gt; / &lt;span style=&#34;color:#ff79c6&#34;&gt;HTTP&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1.1&lt;/span&gt;
Host&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; example.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Following this logic, if a third Route was to be configured with a &lt;code&gt;hosts&lt;/code&gt; field, a &lt;code&gt;methods&lt;/code&gt; field, and a &lt;code&gt;uris&lt;/code&gt; field, it would be evaluated first by Kong.&lt;/p&gt;

&lt;p&gt;If the rule count for the given request is the same in two Routes &lt;code&gt;A&lt;/code&gt; and &lt;code&gt;B&lt;/code&gt;, then the following tiebreaker rules will be applied in the order they are listed. Route &lt;code&gt;A&lt;/code&gt; will be selected over &lt;code&gt;B&lt;/code&gt; if:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt; has only â€œplainâ€ Host headers and &lt;code&gt;B&lt;/code&gt; has has one or more â€œwildcardâ€ host headers&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt; has more non-Host headers than &lt;code&gt;B&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt; has at least one â€œregexâ€ paths and &lt;code&gt;B&lt;/code&gt; has only â€œplainâ€ paths.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt;â€™s longer path is longer than &lt;code&gt;B&lt;/code&gt;â€™s longer path.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A.created_at &amp;lt; B.created_at&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;proxying-behavior-https-docs-konghq-com-2-1-x-proxy-proxying-behavior&#34;&gt;Proxying behavior (&lt;a href=&#34;https://docs.konghq.com/2.1.x/proxy/#proxying-behavior&#34;&gt;https://docs.konghq.com/2.1.x/proxy/#proxying-behavior&lt;/a&gt;)&lt;/h4&gt;

&lt;h4 id=&#34;configuring-a-fallback-route-https-docs-konghq-com-2-1-x-proxy-configuring-a-fallback-route&#34;&gt;Configuring a fallback Route (&lt;a href=&#34;https://docs.konghq.com/2.1.x/proxy/#configuring-a-fallback-route&#34;&gt;https://docs.konghq.com/2.1.x/proxy/#configuring-a-fallback-route&lt;/a&gt;)&lt;/h4&gt;

&lt;p&gt;As a practical use-case and example of the flexibility offered by Kongâ€™s proxying capabilities, letâ€™s try to implement a â€œfallback Routeâ€, so that in order to avoid Kong responding with an HTTP &lt;code&gt;404&lt;/code&gt;, â€œno route foundâ€, we can catch such requests and proxy them to a special upstream service, or apply a plugin to it (such a plugin could, for example, terminate the request with a different status code or response without proxying the request).&lt;/p&gt;

&lt;p&gt;Here is an example of such a fallback Route:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;{
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;paths&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;],
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can guess, any HTTP request made to Kong would actually match this Route, since all URIs are prefixed by the root character &lt;code&gt;/&lt;/code&gt;. As we know from the Request path section, the longest URL paths are evaluated first by Kong, so the &lt;code&gt;/&lt;/code&gt; path will eventually be evaluated last by Kong, and effectively provide a â€œfallbackâ€ Route, only matched as a last resort. You can then send traffic to a special Service or apply any plugin you wish on this Route.&lt;/p&gt;

&lt;h4 id=&#34;proxy-websocket-traffic-https-docs-konghq-com-2-1-x-proxy-proxy-websocket-traffic-todo&#34;&gt;Proxy WebSocket traffic (&lt;a href=&#34;https://docs.konghq.com/2.1.x/proxy/#proxy-websocket-traffic)(TODO&#34;&gt;https://docs.konghq.com/2.1.x/proxy/#proxy-websocket-traffic)(TODO&lt;/a&gt;)&lt;/h4&gt;

&lt;h3 id=&#34;loadbalancing-reference-https-docs-konghq-com-2-1-x-loadbalancing&#34;&gt;Loadbalancing reference (&lt;a href=&#34;https://docs.konghq.com/2.1.x/loadbalancing/&#34;&gt;https://docs.konghq.com/2.1.x/loadbalancing/&lt;/a&gt;)&lt;/h3&gt;

&lt;h4 id=&#34;dns-based-loadbalancing&#34;&gt;DNS-based loadbalancing&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;the registration of the backend services is done outside of Kong&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;ring-balancer&#34;&gt;Ring-balancer&lt;/h4&gt;

&lt;p&gt;algorithm: &lt;code&gt;consistent-hashing&lt;/code&gt;, &lt;code&gt;least-connections&lt;/code&gt;, &lt;code&gt;round-robin&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&#34;blue-green-deployments-https-docs-konghq-com-2-1-x-loadbalancing-blue-green-deployments&#34;&gt;Blue-Green Deployments (&lt;a href=&#34;https://docs.konghq.com/2.1.x/loadbalancing/#blue-green-deployments&#34;&gt;https://docs.konghq.com/2.1.x/loadbalancing/#blue-green-deployments&lt;/a&gt;)&lt;/h4&gt;

&lt;p&gt;Extension: (&lt;a href=&#34;https://blog.christianposta.com/deploy/blue-green-deployments-a-b-testing-and-canary-releases/&#34;&gt;https://blog.christianposta.com/deploy/blue-green-deployments-a-b-testing-and-canary-releases/&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/image-20200728144535998.png#mid&#34; alt=&#34;Blue-Green Deployment&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Using the ring-balancer a blue-green deployment can be easily orchestrated for a Service. Switching target infrastructure only requires a &lt;code&gt;PATCH&lt;/code&gt; request on a Service, to change its &lt;code&gt;host&lt;/code&gt; value.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Set up the â€œBlueâ€ environment, running version 1 of the address service:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# create an upstream&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name=address.v1.service&amp;#34;&lt;/span&gt;
  
&lt;span style=&#34;color:#6272a4&#34;&gt;# add two targets to the upstream&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v1.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.15:80&amp;#34;&lt;/span&gt;
  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=100&amp;#34;&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v1.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.16:80&amp;#34;&lt;/span&gt;
  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=50&amp;#34;&lt;/span&gt;
  
&lt;span style=&#34;color:#6272a4&#34;&gt;# create a Service targeting the Blue upstream&lt;/span&gt;
$ curl -X POST http://kong:8001/services/ &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name=address-service&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host=address.v1.service&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;path=/address&amp;#34;&lt;/span&gt;
  
&lt;span style=&#34;color:#6272a4&#34;&gt;# finally, add a Route as an entry-point into the Service&lt;/span&gt;
$ curl -X POST http://kong:8001/services/address-service/routes/ &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;hosts[]=address.mydomain.com&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;Requests with host header set to &lt;code&gt;address.mydomain.com&lt;/code&gt; will now be proxied by Kong to the two defined targets; &lt;sup&gt;2&lt;/sup&gt;&amp;frasl;&lt;sub&gt;3&lt;/sub&gt; of the requests will go to &lt;code&gt;http://192.168.34.15:80/address&lt;/code&gt; (&lt;code&gt;weight=100&lt;/code&gt;), and &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;3&lt;/sub&gt; will go to &lt;code&gt;http://192.168.34.16:80/address&lt;/code&gt; (&lt;code&gt;weight=50&lt;/code&gt;).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Before deploying version 2 of the address service, set up the â€œGreenâ€ environment:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# create a new Green upstream for address service v2&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name=address.v2.service&amp;#34;&lt;/span&gt;
  
&lt;span style=&#34;color:#6272a4&#34;&gt;# add targets to the upstream&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.17:80&amp;#34;&lt;/span&gt;
  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=100&amp;#34;&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.18:80&amp;#34;&lt;/span&gt;
  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=100&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To activate the Blue/Green switch, we now only need to update the Service:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;  &lt;span style=&#34;color:#6272a4&#34;&gt;# Switch the Service from Blue to Green upstream, v1 -&amp;gt; v2&lt;/span&gt;
  $ curl -X PATCH http://kong:8001/services/address-service &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;      --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;host=address.v2.service&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Incoming requests with host header set to &lt;code&gt;address.mydomain.com&lt;/code&gt; will now be proxied by Kong to the new targets; &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;2&lt;/sub&gt; of the requests will go to &lt;code&gt;http://192.168.34.17:80/address&lt;/code&gt; (&lt;code&gt;weight=100&lt;/code&gt;), and the other &lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;2&lt;/sub&gt; will go to &lt;code&gt;http://192.168.34.18:80/address&lt;/code&gt; (&lt;code&gt;weight=100&lt;/code&gt;).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;canary-releases-https-docs-konghq-com-2-1-x-loadbalancing-canary-releases&#34;&gt;Canary Releases (&lt;a href=&#34;https://docs.konghq.com/2.1.x/loadbalancing/#canary-releases&#34;&gt;https://docs.konghq.com/2.1.x/loadbalancing/#canary-releases&lt;/a&gt;)&lt;/h4&gt;

&lt;p&gt;Extension: (&lt;a href=&#34;http://blog.christianposta.com/deploy/blue-green-deployments-a-b-testing-and-canary-releases/&#34;&gt;http://blog.christianposta.com/deploy/blue-green-deployments-a-b-testing-and-canary-releases/&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Using the ring-balancer, target weights can be adjusted granularly, allowing for a smooth, controlled canary release.&lt;/p&gt;

&lt;p&gt;Using a very simple 2 target example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# first target at 1000&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.17:80&amp;#34;&lt;/span&gt;
    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=1000&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#6272a4&#34;&gt;# second target at 0&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.18:80&amp;#34;&lt;/span&gt;
    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=0&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By repeating the requests, but altering the weights each time, traffic will slowly be routed towards the other target. For example, set it at 10%:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# first target at 900&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.17:80&amp;#34;&lt;/span&gt;
    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=900&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#6272a4&#34;&gt;# second target at 100&lt;/span&gt;
$ curl -X POST http://kong:8001/upstreams/address.v2.service/targets &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;target=192.168.34.18:80&amp;#34;&lt;/span&gt;
    --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;weight=100&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The changes through the Kong Admin API are dynamic and will take effect immediately. No reload or restart is required, and no in progress requests will be dropped.&lt;/p&gt;

&lt;h3 id=&#34;health-checks-and-circuit-breakers-reference-https-docs-konghq-com-2-1-x-health-checks-circuit-breakers&#34;&gt;Health Checks and Circuit Breakers Reference (&lt;a href=&#34;https://docs.konghq.com/2.1.x/health-checks-circuit-breakers/&#34;&gt;https://docs.konghq.com/2.1.x/health-checks-circuit-breakers/&lt;/a&gt;)&lt;/h3&gt;

&lt;h4 id=&#34;upstreams&#34;&gt;Upstreams&lt;/h4&gt;

&lt;p&gt;Along with health check functionality on individual targets, Upstreams also have a notion of health. The health of an Upstream is determined based on the status of its Targets.&lt;/p&gt;

&lt;p&gt;Configuration of the Upstreamâ€™s health is done though the property &lt;code&gt;healthchecks.threshold&lt;/code&gt;. This is a percentage of minimum available target â€œweightâ€ (capacity) for the Upstream to be considered healthy.&lt;/p&gt;

&lt;p&gt;Here is a simple example:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Assume an Upstream configured with &lt;code&gt;healthchecks.threshold=55&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;It has 5 targets, each with &lt;code&gt;weight=100&lt;/code&gt;, so the total weight in the ring-balancer is 500.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When failures start to occur, the circuit-breaker for the first target trips. It is now considered unhealthy. This means that in the ring-balancer, 20% of the capacity is now unhealthy (100 weight out of 500). This is still above the threshold of 55, so the remaining targets will serve the traffic of the failed one.&lt;/p&gt;

&lt;p&gt;When a second failure occurs, another target fails, and another 100 weight is lost as unhealthy. Now the ring-balancer operates at 60% of its capacity, but still within the configured threshold.&lt;/p&gt;

&lt;p&gt;If we assume that the 2 failures occured due to a system overload, we can now assume that the remaining 60% will also not be able to cope with the full load and soon a third node will fail, reducing healthy capacity to 40%. At this point, the Upstream health will be less than its threshold, and it will be marked as unhealthy itself.&lt;/p&gt;

&lt;p&gt;Once it enters an unhealthy state, the Upstream will only return errors. This lets the targets/services recover from the cascading failure they were experiencing.&lt;/p&gt;

&lt;p&gt;Once the Targets start recovering and the Upstreamâ€™s available capacity passes the threshold again, the health status of the ring-balancer will automatically be updated.&lt;/p&gt;

&lt;h4 id=&#34;types-of-health-checks&#34;&gt;Types of health checks&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Active health checks&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Active health checks, as the name implies, actively probe targets for their health. When active health checks are enabled in an upstream entity, Kong will periodically issue HTTP or HTTPS requests to a configured path at each target of the upstream. This allows Kong to automatically enable and disable targets in the balancer based on the probe results.&lt;/p&gt;

&lt;p&gt;The periodicity of active health checks can be configured separately for when a target is healthy or unhealthy. If the &lt;code&gt;interval&lt;/code&gt; value for either is set to zero, the checking is disabled at the corresponding scenario. When both are zero, active health checks are disabled altogether.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Passive health checks (circuit breakers)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Passive health checks, also known as circuit breakers, are checks performed based on the requests being proxied by Kong (HTTP/HTTPS/TCP), with no additional traffic being generated. When a target becomes unresponsive, the passive health checker will detect that and mark the target as unhealthy. The ring-balancer will start skipping this target, so no more traffic will be routed to it.&lt;/p&gt;

&lt;p&gt;Once the problem with a target is solved and it is ready to receive traffic again, the Kong administrator can manually inform the health checker that the target should be enabled again, via an Admin API endpoint:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;  $ curl -i -X POST http://localhost:8001/upstreams/my_upstream/targets/10.1.2.3:1234/healthy
  HTTP/1.1 &lt;span style=&#34;color:#bd93f9&#34;&gt;204&lt;/span&gt; No Content&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This command will broadcast a cluster-wide message so that the â€œhealthyâ€ status is propagated to the whole &lt;a href=&#34;https://docs.konghq.com/2.1.x/clustering&#34;&gt;Kong cluster&lt;/a&gt;. This will cause Kong nodes to reset the health counters of the health checkers running in all workers of the Kong node, allowing the ring-balancer to route traffic to the target again.&lt;/p&gt;

&lt;p&gt;Passive health checks have the advantage of not producing extra traffic, but they are unable to automatically mark a target as healthy again: the â€œcircuit is brokenâ€, and the target needs to be re-enabled again by the system administrator.&lt;/p&gt;

&lt;h3 id=&#34;clustering-reference-https-docs-konghq-com-2-1-x-clustering&#34;&gt;Clustering Reference  (&lt;a href=&#34;https://docs.konghq.com/2.1.x/clustering/&#34;&gt;https://docs.konghq.com/2.1.x/clustering/&lt;/a&gt;)&lt;/h3&gt;

&lt;p&gt;A Kong cluster allows you to scale the system horizontally by adding more machines to handle more incoming requests. They will all share the same configuration since they point to the same database. Kong nodes pointing to the &lt;strong&gt;same datastore&lt;/strong&gt; will be part of the same Kong cluster.&lt;/p&gt;

&lt;p&gt;You need a load-balancer in front of your Kong cluster to distribute traffic across your available nodes.&lt;/p&gt;

&lt;h4 id=&#34;multiple-nodes-kong-clusters&#34;&gt;Multiple nodes Kong clusters&lt;/h4&gt;

&lt;p&gt;Every &lt;code&gt;db_update_frequency&lt;/code&gt; seconds, all running Kong nodes will poll the database for any update, and will purge the relevant entities from their cache if necessary.&lt;/p&gt;

&lt;p&gt;If we delete a Service from node &lt;code&gt;A&lt;/code&gt;, this change will not be effective in node &lt;code&gt;B&lt;/code&gt; until node &lt;code&gt;B&lt;/code&gt;s next database poll, which will occur up to &lt;code&gt;db_update_frequency&lt;/code&gt; seconds later (though it could happen sooner).&lt;/p&gt;

&lt;h4 id=&#34;what-is-being-cached&#34;&gt;What is being cached?&lt;/h4&gt;

&lt;p&gt;All of the core entities such as Services, Routes, Plugins, Consumers, Credentials are cached in memory by Kong and depend on their invalidation via the polling mechanism to be updated.&lt;/p&gt;

&lt;h4 id=&#34;how-to-configure-database-caching&#34;&gt;How to configure database caching?&lt;/h4&gt;

&lt;p&gt;You can configure 3 properties in the Kong configuration file, the most important one being db_update_frequency, which determine where your Kong nodes stand on the performance vs consistency trade off.&lt;/p&gt;

&lt;p&gt;Kong comes with default values tuned for consistency, in order to let you experiment with its clustering capabilities while avoiding â€œsurprisesâ€. As you prepare a production setup, you should consider tuning those values to ensure that your performance constraints are respected.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;db_update_frequency&lt;/code&gt; (default: 5s)
This value determines the frequency at which your Kong nodes will be polling the database for invalidation events. A lower value will mean that the polling job will be executed more frequently, but that your Kong nodes will keep up with changes you apply. A higher value will mean that your Kong nodes will spend less time running the polling jobs, and will focus on proxying your traffic.&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;Note: changes propagate through the cluster in up to db_update_frequency seconds.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;db_update_propagation&lt;/code&gt; (default: 0s)
If your database itself is eventually consistent (ie: Cassandra), you must configure this value. It is to ensure that the change has time to propagate across your database nodes. When set, Kong nodes receiving invalidation events from their polling jobs will delay the purging of their cache for db_update_propagation seconds.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If a Kong node connected to an eventual consistent database was not delaying the event handling, it could purge its cache, only to cache the non-updated value again (because the change hasnâ€™t propagated through the database yet)!&lt;/p&gt;

&lt;p&gt;You should set this value to an estimate of the amount of time your database cluster takes to propagate changes.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Note: when this value is set, changes propagate through the cluster in up to db_update_frequency + db_update_propagation seconds.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;db_cache_ttl&lt;/code&gt; (default: 0s)
The time (in seconds) for which Kong will cache database entities (both hits and misses). This Time-To-Live value acts as a safeguard in case a Kong node misses an invalidation event, to avoid it from running on stale data for too long. When the TTL is reached, the value will be purged from its cache, and the next database result will be cached again.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;By default no data is invalidated based on this TTL (the default value is 0). This is usually fine: Kong nodes rely on invalidation events, which are handled at the db store level (Cassandra/PosgreSQL). If you are concerned that a Kong node might miss invalidation event for any reason, you should set a TTL. Otherwise the node might run with a stale value in its cache for an undefined amount of time, until the cache is manually purged, or the node is restarted.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;When using Cassandra&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you use Cassandra as your Kong database, you &lt;strong&gt;must&lt;/strong&gt; set &lt;code&gt;db_update_propagation&lt;/code&gt; to a non-zero value. Since Cassandra is eventually consistent by nature, this will ensure that Kong nodes do not prematurely invalidate their cache, only to fetch and catch a not up-to-date entity again. Kong will present you a warning logs if you did not configure this value when using Cassandra.&lt;/p&gt;

&lt;p&gt;Additionally, you might want to configure &lt;code&gt;cassandra_consistency&lt;/code&gt; to a value like &lt;code&gt;QUORUM&lt;/code&gt; or &lt;code&gt;LOCAL_QUORUM&lt;/code&gt;, to ensure that values being cached by your Kong nodes are up-to-date values from your database.&lt;/p&gt;

&lt;p&gt;Setting the &lt;code&gt;cassandra_refresh_frequency&lt;/code&gt; option to &lt;code&gt;0&lt;/code&gt; is not advised, as a Kong restart will be required to discover any changes to the Cassandra cluster topology.&lt;/p&gt;

&lt;h3 id=&#34;network-firewall-https-docs-konghq-com-2-1-x-network-firewall&#34;&gt;Network Firewall  (&lt;a href=&#34;https://docs.konghq.com/2.1.x/network/#firewall&#34;&gt;https://docs.konghq.com/2.1.x/network/#firewall&lt;/a&gt;)&lt;/h3&gt;

&lt;h4 id=&#34;transparent-proxying-https-blog-stackpath-com-transparent-proxy&#34;&gt;Transparent Proxying (&lt;a href=&#34;https://blog.stackpath.com/transparent-proxy/&#34;&gt;https://blog.stackpath.com/transparent-proxy/&lt;/a&gt;)&lt;/h4&gt;

&lt;p&gt;For example a HTTP request with a destination address of &lt;code&gt;10.0.0.1&lt;/code&gt;, and a destination port of &lt;code&gt;80&lt;/code&gt; can be redirected to &lt;code&gt;127.0.0.1&lt;/code&gt; at port &lt;code&gt;8000&lt;/code&gt;. To make this work, you need (with Linux) to add the &lt;code&gt;transparent&lt;/code&gt; listen option to Kong proxy, &lt;code&gt;proxy_listen=8000 transparent&lt;/code&gt;. This allows Kong to see the original destination for the request (&lt;code&gt;10.0.0.1:80&lt;/code&gt;) even when Kong didnâ€™t actually listen to it directly. With this information, Kong can route the request correctly. The &lt;code&gt;transparent&lt;/code&gt; listen option should only be used with Linux. macOS/BSDs allow transparent proxying without &lt;code&gt;transparent&lt;/code&gt; listen option. With Linux you may also need to start Kong as a &lt;code&gt;root&lt;/code&gt; user or set the needed capabilities for the executable.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/image-20200728094209364.png#mid&#34; alt=&#34;Transparent Proxy&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;control-kong-through-systemd&#34;&gt;Control Kong through systemd&lt;/h3&gt;

&lt;h5 id=&#34;start-kong&#34;&gt;Start Kong&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl start kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;stop-kong&#34;&gt;Stop Kong&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl stop kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;start-kong-automatically-at-system-boot&#34;&gt;Start Kong automatically at system boot&lt;/h5&gt;

&lt;p&gt;To enable Kong to automatically start at system boot:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;enable&lt;/span&gt; kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To disable Kong from automatically starting at system boot:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl disable kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;restart-kong&#34;&gt;Restart Kong&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl restart kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;query-kong-status&#34;&gt;Query Kong status&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sudo systemctl status kong&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id=&#34;customize-kong-s-nginx-instance-including-files-via-the-injected-nginx-directives-https-docs-konghq-com-2-1-x-systemd-customize-kongs-nginx-instance-including-files-via-the-injected-nginx-directives&#34;&gt;Customize Kongâ€™s Nginx instance including files via the injected Nginx directives  (&lt;a href=&#34;https://docs.konghq.com/2.1.x/systemd/#customize-kongs-nginx-instance-including-files-via-the-injected-nginx-directives&#34;&gt;https://docs.konghq.com/2.1.x/systemd/#customize-kongs-nginx-instance-including-files-via-the-injected-nginx-directives&lt;/a&gt;)&lt;/h5&gt;

&lt;h3 id=&#34;plugins-execution-order&#34;&gt;Plugins execution order&lt;/h3&gt;

&lt;p&gt;The current order of execution for the bundled plugins is:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Plugin&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Priority&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;pre-function&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;+inf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;zipkin&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100000&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ip-restriction&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;3000&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;bot-detection&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2500&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;cors&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2000&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;session&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1900&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;kubernetes-sidecar-injector&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1006&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;jwt&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1005&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;oauth2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1004&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;key-auth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1003&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ldap-auth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1002&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;basic-auth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1001&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;hmac-auth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1000&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;request-size-limiting&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;951&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;acl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;950&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;rate-limiting&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;901&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;response-ratelimiting&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;900&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;request-transformer&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;801&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;response-transformer&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;800&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;aws-lambda&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;750&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;azure-functions&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;749&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;prometheus&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;13&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;http-log&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;12&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;statsd&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;11&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;datadog&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;10&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;file-log&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;9&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;udp-log&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;8&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;tcp-log&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;7&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;loggly&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;6&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;syslog&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;request-termination&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;correlation-id&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;post-function&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;-1000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;importment-settings&#34;&gt;Importment Settings&lt;/h3&gt;

&lt;h4 id=&#34;upstreams-1&#34;&gt;Upstreams&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;healthchecks.active.healthy.interval&lt;/code&gt; default and set to &lt;code&gt;0&lt;/code&gt; that active probes for &lt;code&gt;healthy targets&lt;/code&gt; should not be performed.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;healthchecks.active.unhealthy.interval&lt;/code&gt; default and set to  &lt;code&gt;0&lt;/code&gt; that active probes for &lt;code&gt;unhealthy targets&lt;/code&gt; should not be performed.&lt;/li&gt;
&lt;/ul&gt;
</description>
     </item>
   
     <item>
       <title>é˜…è¯»è‡´ä»¥è½»æ¾ï¼Œé˜…è¯»èŠä»¥è”šç„¶</title>
       <link>https://izcqi.com/posts/2020/06/27/reading-relax/</link>
       <pubDate>Sat, 27 Jun 2020 09:38:21 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2020/06/27/reading-relax/</guid>
       <description>&lt;p&gt;é˜…è¯»çš„æ„ä¹‰æ˜¯æ— é™çš„ï¼Œè¿‘æ¥è®¤è¯†ä¸€æ–°æœ‹å‹ï¼Œä»–æ¸¸å†å…¨å›½å„åœ°ï¼Œè€Œæ¯æ¬¡çš„æ¸¸å†éƒ½ä¼šåšè¶³äº†åŠŸå¤«ï¼Œä¼šå¯¹ç›®çš„åœ°äº†è§£éå¸¸ï¼Œå¤šä»¥å†å²ä¸ºä¸»ã€‚æ—¶é—´ä¹…äº†ï¼Œå°±ç§¯ç´¯å„ç§å†å²å²äº‹ï¼Œæ¯æ¯èŠåˆ°æ­¤ç±»è¯é¢˜ï¼Œéƒ½è‚ƒç„¶èµ·æ•¬ï¼Œæ„Ÿå¹ä¸­åæ–‡æ˜ä¹‹æ‚ è¿œã€‚&lt;/p&gt;

&lt;p&gt;å› ä»Šä¹‹ç–«æƒ…ï¼Œå¿ƒæƒ…éš¾å…æ³¢æµ®ï¼Œæ­¤æ—¶å”¯æœ‰é˜…è¯»èŠä»¥è”šç„¶ã€‚&lt;/p&gt;

&lt;p&gt;çš„ç¡®ï¼Œå¾ˆä¹…æ²¡æœ‰é™å¿ƒé˜…è¯»äº†ï¼Œè¿‘æ¥é˜…è¯»äº†åŸºæœ¬æ–‡å­¦è‘—ä½œï¼Œä¹Ÿæ‰¾åˆ°äº†å¯¹åº”çš„ç”µå½±ï¼Œæ·±å…¥çš„é€æäº†ä¸€æŠŠã€‚&lt;/p&gt;

&lt;p&gt;é˜…è¯»æ˜¯ä¸€ä¸ªå¾ˆç¾çš„äº‹ï¼Œé˜…è¯»å¯ä»¥è®©å¿ƒå¹³é™ä¸‹æ¥ã€‚æ˜¨å¤©è¿˜çœ‹åˆ°ä¸€åˆ™æ–°é—»ï¼Œä¸€ä½æ¹–åŒ—çš„å†œæ°‘å·¥å¤§å”ï¼Œåœ¨ä¸œèæ‰“å·¥17å¹´ï¼Œå´åœ¨ä¸œèå›¾ä¹¦é¦†é˜…è¯»äº†12å¹´ä¹‹ä¹…ï¼Œå› ä»Šå¹´çš„ç–«æƒ…æƒ…å†µï¼ŒåŸæ¥çš„å·¥ä½œå•ä½ä¸èƒ½åœ¨å·¥ä½œï¼Œè®¡åˆ’ç¦»åˆ«ä¸œèï¼Œåœ¨ç¦»åˆ«ä¹‹é™…ï¼Œè¿˜å†™äº†ä¸€æ„Ÿè°¢ä¿¡ã€‚ä»å­—é‡Œè¡Œé—´ï¼Œèƒ½å¤Ÿæ„Ÿå—åˆ°ï¼Œè¿™12å¹´çš„é˜…è¯»ï¼Œå¯¹ä»–çš„å¸®åŠ©ä¹‹å¤§ï¼Œä»–å°å­¦æ–‡åŒ–ï¼Œä½†æ˜¯é€‰æ‹©äº†ä»¥è¿™ç§æ–¹å¼æ¥æå‡è‡ªå·±ï¼Œè€Œæ—¶é—´çš„ç§¯ç´¯ä¹Ÿæ•ˆæœæ˜æ˜¾ã€‚&lt;strong&gt;é˜…è¯»ä¸åªæ˜¯ä¸€ç§æå‡çš„æ–¹å¼ï¼Œæ›´æ˜¯ä¸€ç§ä¼‘é—²çš„æ–¹å¼ã€‚&lt;/strong&gt;é˜…è¯»èŠä»¥è”šç„¶ã€‚&lt;/p&gt;
</description>
     </item>
   
     <item>
       <title>SpringåŠ¨æ€æ•°æ®æºåŸç†</title>
       <link>https://izcqi.com/posts/2020/05/31/principle-dynamic-data-source/</link>
       <pubDate>Sun, 31 May 2020 08:54:25 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2020/05/31/principle-dynamic-data-source/</guid>
       <description>&lt;p&gt;æåˆ°Springçš„åŠ¨æ€æ•°æ®æºé‡ç‚¹åœ¨äºå¯¹&lt;code&gt;AbstractRoutingDataSource&lt;/code&gt;å®ç°åŠå·¥ä½œåŸç†çš„è®¤çŸ¥ã€‚&lt;/p&gt;

&lt;p&gt;å…ˆä»Springçš„DataSourceå¼€å§‹è¯´èµ·ï¼Œè€Œè¯´åˆ°DataSourceï¼Œç”¨æœ€åŸå§‹çš„jdbcæ¥è¯´æ˜å¯èƒ½ä¼šæ›´å®¹æ˜“ç†è§£äº†ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä½¿ç”¨jdbcæ—¶ï¼Œè¦è¿›è¡Œä¸€ä¸ªsqlæ“ä½œï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·çš„ä¸€ä¸ªé“¾è·¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;Statement&lt;/code&gt; &amp;lt;- &lt;code&gt;Connection&lt;/code&gt; &amp;lt;- &lt;code&gt;DataSource&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯æ ¹æºä¸Šå°±æ˜¯è·å–ä¸€ä¸ª&lt;code&gt;DataSource&lt;/code&gt;ï¼Œè¿™å°±æ˜¯å…³è”åˆ°ä¸€ä¸ªå…·ä½“æºçš„å¯¹è±¡ã€‚é‚£ä¹ˆåˆ‡æ¢æºï¼Œä»åŸç†ä¸Šæ¥è®²å°±æ˜¯åˆ‡æ¢è¿™ä¸ª&lt;code&gt;DataSource&lt;/code&gt;å¯¹è±¡äº†ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆï¼Œä¸‹ä¸€æ­¥ï¼Œæ¥çœ‹çœ‹è¿™ä¸ª&lt;code&gt;AbstractRoutingDataSource&lt;/code&gt;çš„å·¥ä½œåŸç†æ˜¯ä¸æ˜¯å°±æ˜¯è¿™æ ·çš„å‘¢ï¼Ÿè¿™é‡Œæ‘˜å–å®ƒçš„éƒ¨åˆ†å®ç°æºç :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;@Nullable
private Map&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;Object, Object&amp;gt; targetDataSources;

@Nullable
private Object defaultTargetDataSource;
...
@Override
public void afterPropertiesSet() {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;targetDataSources&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;) {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Property &amp;#39;targetDataSources&amp;#39; is required&amp;#34;&lt;/span&gt;);
  }
  &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;resolvedDataSources&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; HashMap&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&amp;gt;&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;targetDataSources&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;size&lt;/span&gt;());
  &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;targetDataSources&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;forEach&lt;/span&gt;((key, value) &lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt; {
    Object lookupKey &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; resolveSpecifiedLookupKey(key);
    DataSource dataSource &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; resolveSpecifiedDataSource(value);
    &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;resolvedDataSources&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;put&lt;/span&gt;(lookupKey, dataSource);
  });
  &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;defaultTargetDataSource&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;) {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;resolvedDefaultDataSource&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; resolveSpecifiedDataSource(&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;defaultTargetDataSource&lt;/span&gt;);
  }
}
...
@Override
public Connection getConnection() throws SQLException {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; determineTargetDataSource().&lt;span style=&#34;color:#50fa7b&#34;&gt;getConnection&lt;/span&gt;();
}

@Override
public Connection getConnection(String username, String password) throws SQLException {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; determineTargetDataSource().&lt;span style=&#34;color:#50fa7b&#34;&gt;getConnection&lt;/span&gt;(username, password);
}
...
&lt;span style=&#34;color:#6272a4&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * Retrieve the current target DataSource. Determines the
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * {@link #determineCurrentLookupKey() current lookup key}, performs
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * a lookup in the {@link #setTargetDataSources targetDataSources} map,
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * falls back to the specified
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * {@link #setDefaultTargetDataSource default target DataSource} if necessary.
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * @see #determineCurrentLookupKey()
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; */&lt;/span&gt;
protected DataSource determineTargetDataSource() {
  Assert.&lt;span style=&#34;color:#50fa7b&#34;&gt;notNull&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;resolvedDataSources&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;DataSource router not initialized&amp;#34;&lt;/span&gt;);
  Object lookupKey &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; determineCurrentLookupKey();
  DataSource dataSource &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;resolvedDataSources&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;get&lt;/span&gt;(lookupKey);
  &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (dataSource &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;lenientFallback&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; lookupKey &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;)) {
    dataSource &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;resolvedDefaultDataSource&lt;/span&gt;;
  }
  &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (dataSource &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;) {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; IllegalStateException(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Cannot determine target DataSource for lookup key [&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; lookupKey &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;]&amp;#34;&lt;/span&gt;);
  }
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; dataSource;
}

&lt;span style=&#34;color:#6272a4&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;	 * Determine the current lookup key. This will typically be
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;	 * implemented to check a thread-bound transaction context.
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;	 * &amp;lt;p&amp;gt;Allows for arbitrary keys. The returned key needs
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;	 * to match the stored lookup key type, as resolved by the
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;	 * {@link #resolveSpecifiedLookupKey} method.
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;	 */&lt;/span&gt;
@Nullable
protected abstract Object determineCurrentLookupKey();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç°åœ¨æ¥è¿›è¡Œä¸€ä¸€çš„è§£è¯»ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;afterPropertiesSet&lt;/code&gt;æ˜¯å•¥ï¼Ÿè¿™å°±ä¸ç»†è¯´äº†ã€‚çœ‹æºç å°±æ˜¯è§£æ&lt;code&gt;targetDataSources&lt;/code&gt;ç„¶åæ”¾åˆ°&lt;code&gt;resolvedDataSources&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;getConnection&lt;/code&gt;è·å–ä¸€ä¸ª&lt;code&gt;Connection&lt;/code&gt;å¯¹è±¡ï¼Œè¿™é‡Œå’Œjdbcå°±æ˜¯ä¸€ä¸ªç©æ„äº†ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;determineTargetDataSource&lt;/code&gt;ç¡®å®šç›®æ ‡çš„&lt;code&gt;DataSource&lt;/code&gt;ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­æœ‰è¿™æ ·ä¸€è¡Œ&lt;code&gt;Object lookupKey = determineCurrentLookupKey();&lt;/code&gt;ï¼Œè€Œè¿™ä¸ªå°±æ˜¯è°ƒç”¨äº†ä¸€ä¸ª&lt;code&gt;determineCurrentLookupKey&lt;/code&gt;æ–¹æ³•ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;determineCurrentLookupKey&lt;/code&gt;ï¼Œä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå½“å‰å¤„ç†çš„æºçš„&lt;code&gt;id&lt;/code&gt;æˆ–è€…è¯´&lt;code&gt;key&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;ä»æºç ä¸­çœ‹å‡ºï¼Œ&lt;code&gt;AbstractRoutingDataSource&lt;/code&gt;çš„å·¥ä½œåŸç†ï¼Œå¤§è‡´å°±æ˜¯ï¼Œä»ä¸€ä¸ª&lt;code&gt;Map&lt;/code&gt;çš„æºé›†åˆä¸­ï¼Œå¯ä»¥ä¸€ä¸ªå½“å‰å¤„ç†çš„æº&lt;code&gt;Key&lt;/code&gt;æ¥åˆ‡æ¢é€‰æ‹©å¯¹åº”çš„&lt;code&gt;DataSource&lt;/code&gt;ï¼Œä»è€Œå®Œæˆå¯¹åº”æºçš„åˆ‡æ¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸‹é¢ï¼Œä»å…·ä½“å®ç°ä¸Šæ¥åšè§£æï¼Œé¦–å…ˆçœ‹çœ‹&lt;code&gt;AbstractRoutingDataSource&lt;/code&gt;çš„å®šä¹‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public abstract class AbstractRoutingDataSource extends AbstractDataSource implements InitializingBean&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡classï¼Œé‚£ä¹ˆè¦ç”¨ä»–ï¼Œå¿…ç„¶è¦å®ç°ä¸€ä¸ªå®ä¾‹classï¼Œå¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public class DynamicDataSource extends AbstractRoutingDataSource&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é‚£ä¹ˆé‡ç‚¹å°±æ˜¯å¯¹æŠ½è±¡æ–¹æ³•&lt;code&gt;determineCurrentLookupKey&lt;/code&gt;çš„å¤„ç†å’Œæº&lt;code&gt;Map&lt;/code&gt;çš„æ„å»ºå’Œæ“ä½œäº†ã€‚&lt;/p&gt;

&lt;p&gt;è¦çŸ¥é“ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”ç”¨éƒ½æ˜¯å·¥ä½œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒçš„ï¼Œé‚£ä¹ˆå¯¹æºçš„åˆ‡æ¢å°±å˜æˆäº†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„åˆ‡æ¢ï¼Œè€Œè¦ä¿å­˜å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„åˆ‡æ¢å®‰å…¨ï¼Œæˆ‘ä»¬è‡ªç„¶è€Œç„¶æƒ³åˆ°äº†&lt;code&gt;ThreadLocal&lt;/code&gt;ã€‚æ˜¯çš„ï¼Œæˆ‘ä»¬å°±æ˜¯å€ŸåŠ©å®ƒï¼Œæ¥å®ç°å’Œå®Œæˆåœ¨ä¸åŒæºçš„&lt;code&gt;CurrentLookupKey&lt;/code&gt;çš„ç®¡ç†ã€‚&lt;/p&gt;

&lt;p&gt;å…ˆçœ‹çœ‹&lt;code&gt;ThreadLocal&lt;/code&gt;çš„å¤„ç†:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public class DynamicDataSourceContextHolder {
    private DynamicDataSourceContextHolder() {
    }
  
    private static final ThreadLocal&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;String&amp;gt; dynamicDataSourceContextHolder &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; ThreadLocal&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;();

    public static void setCurrentDataSource(String dataSourceKey) {
        dynamicDataSourceContextHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;set&lt;/span&gt;(dataSourceKey);
    }

    public static String getCurrentDataSource() {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; dynamicDataSourceContextHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;get&lt;/span&gt;();
    }

    public static void clearCurrentDataSource() {
        dynamicDataSourceContextHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;remove&lt;/span&gt;();
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨&lt;code&gt;ThreadLocal&lt;/code&gt;æ¥ç®¡ç†keyï¼Œè¿™é‡Œçš„keyæ˜¯&lt;code&gt;String&lt;/code&gt;ç±»å‹çš„ã€‚åœ¨åˆ‡æ¢æ—¶ï¼Œè°ƒç”¨&lt;code&gt;setCurrentDataSource&lt;/code&gt;ï¼Œä½¿ç”¨å®Œæˆåœ¨è°ƒç”¨&lt;code&gt;clearCurrentDataSource&lt;/code&gt;ï¼Œä½¿ç”¨&lt;code&gt;getCurrentDataSource&lt;/code&gt;æ¥è·å–å½“å‰è®¾ç½®çš„keyã€‚&lt;/p&gt;

&lt;p&gt;æ¥ç€çœ‹åœ¨&lt;code&gt;DynamicDataSource&lt;/code&gt;ä¸­çš„å¤„ç†:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;@Override
protected Object determineCurrentLookupKey() {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; DynamicDataSourceContextHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;getCurrentDataSource&lt;/span&gt;();
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ ·æ•´ä¸ªéƒ½ä¸²èµ·æ¥äº†ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å®ç°ç»§æ‰¿&lt;code&gt;AbstractRoutingDataSource&lt;/code&gt;çš„ç±»&lt;code&gt;DynamicDataSource&lt;/code&gt;ï¼Œå®ç°&lt;code&gt;determineCurrentLookupKey&lt;/code&gt;æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä»&lt;code&gt;ThreadLocal&lt;/code&gt;ä¸­æ‹¿åˆ°å½“å‰çº¿ç¨‹å¤„ç†çš„æºçš„keyä¿¡æ¯ï¼Œåœ¨&lt;code&gt;AbstractRoutingDataSource&lt;/code&gt;çš„&lt;code&gt;determineTargetDataSource&lt;/code&gt;ä¸­æ ¹æ®è¿™ä¸ªkeyæ‹¿åˆ°åœ¨æº&lt;code&gt;Map&lt;/code&gt;ä¸­å·²ç»é…ç½®å¥½çš„æº&lt;code&gt;DataSource&lt;/code&gt;ï¼Œæ‹¿åˆ°äº†&lt;code&gt;DataSource&lt;/code&gt;ï¼Œå†è¦æ‹¿åˆ°&lt;code&gt;Connection&lt;/code&gt;è¿˜ä¼šè¿œå—ï¼Ÿ^_^&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å‰©ä¸‹çš„å°±æ˜¯æ„é€ ä¸€ä¸ªæœ‰æº&lt;code&gt;Map&lt;/code&gt;ç®¡ç†(putï¼Œget)çš„&lt;code&gt;DynamicDataSource&lt;/code&gt;å¹¶æ³¨å…¥åˆ°&lt;code&gt;IOC&lt;/code&gt;ï¼Œå°±okå’¯ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åï¼Œå¯ä»¥åœ¨&lt;code&gt;DynamicDataSource&lt;/code&gt;åŠ å…¥ä¸€ä¸ªé”€æ¯&lt;code&gt;DataSource&lt;/code&gt;çš„æ–¹æ³•ï¼Œé¿å…åº”ç”¨å…³é—­åï¼Œä»ç„¶å ç”¨èµ„æºã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;@PreDestroy
public void closeDataSources(){
  &lt;span style=&#34;color:#6272a4&#34;&gt;// ä»Map&amp;lt;Object, Object&amp;gt; targetDataSourceséå†è·å–å¯¹åº”çš„DataSourceå¹¶å…³é—­
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
     </item>
   
     <item>
       <title>æ•ˆç‡å·¥å…·æ¸…å•List of Efficiency Tools</title>
       <link>https://izcqi.com/posts/2020/05/03/list-of-efficiency-tools/</link>
       <pubDate>Sun, 03 May 2020 10:03:52 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2020/05/03/list-of-efficiency-tools/</guid>
       <description>

&lt;blockquote&gt;
&lt;p&gt;æ­¤æ¸…å•å°†è¿›è¡Œä¸å®šæœŸçš„ä¿®è®¢&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ•´ç†æ­¤æ¸…å•ï¼Œç›®çš„æ˜¯ä¸ºäº†å‚è€ƒå¸‚åœºçš„å„ç±»å·¥å…·ï¼Œå¹¶åº”ç”¨åˆ°ç”Ÿæ´»ã€å·¥ä½œä¸­ï¼Œä»è€Œæä¾›å„ç§æ•ˆç‡ã€‚&lt;/p&gt;

&lt;h3 id=&#34;todo-listç±»&#34;&gt;TODO Listç±»&lt;/h3&gt;

&lt;h5 id=&#34;å¥‡å¦™æ¸…å•wunderlist&#34;&gt;- å¥‡å¦™æ¸…å•Wunderlist&lt;/h5&gt;

&lt;p&gt;å¾ˆæ—©å‰ï¼Œå°±æ¥è§¦å’Œä½¿ç”¨äº†å®ƒã€‚å®ƒå¯ä»¥éå¸¸å¥½çš„ç®¡ç†å¥½è‡ªå·±çš„å¾…åŠã€‚æ“ä½œç•Œé¢ä¹Ÿæ¯”è¾ƒç®€çº¦ï¼Œæ”¯æŒPCã€Macã€ç§»åŠ¨ç«¯ï¼Œæ–¹ä¾¿éšæ—¶çš„å…³æ³¨å’Œç®¡ç†è‡ªå·±çš„å¾…åŠã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/list-of-efficiency-tools.assets/image-20200503101327924.png#mid&#34; alt=&#34;å¥‡å¦™æ¸…å•Wunderlist&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;microsoft-to-do&#34;&gt;- Microsoft To Do&lt;/h5&gt;

&lt;p&gt;æ—©å…ˆï¼Œæœ‰å»å°è¯•è¿‡ï¼Œå®ƒä¹Ÿæ˜¯å¥‡å¦™è¢«å¾®è½¯æ”¶è´­ä¹‹åçš„äº§ç‰©ï¼Œç›¸æ¯”å¥‡å¦™æ¥è¯´ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µï¼ŒæŠŠä¼—å¤šçš„æ¸…å•å½’ç±»åˆ°ä¸€ä¸ªåˆ†ç»„ï¼Œè¿™ç®—æ˜¯ä¸å¥‡å¦™å”¯ä¸€çš„å·®å¼‚ã€‚å…¶ä¸­çš„åŒºåˆ«ã€å·®å¼‚ï¼Œå°±æˆ‘çš„åº”ç”¨åœºæ™¯æ¥è¯´ï¼Œç›®å‰æ¥è¯´æ²¡æœ‰æ‰¾åˆ°ç‰¹åˆ«çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/list-of-efficiency-tools.assets/image-20200503101841362.png#mid&#34; alt=&#34;Microsoft To Do&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;pomotodo&#34;&gt;Pomotodo&lt;/h5&gt;

&lt;p&gt;ç•ªèŒ„åœŸè±†ï¼ŒæŒ‰ç…§ç•ªèŒ„æ—¶é’Ÿçš„æ–¹å¼ç®¡ç†todoã€‚&lt;/p&gt;

&lt;h5 id=&#34;æ»´ç­”æ¸…å•&#34;&gt;- æ»´ç­”æ¸…å•&lt;/h5&gt;

&lt;blockquote&gt;
&lt;p&gt;å¾…å°è¯•&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;ç¬”è®°ç±»&#34;&gt;ç¬”è®°ç±»&lt;/h3&gt;

&lt;h5 id=&#34;å°è±¡ç¬”è®°&#34;&gt;- å°è±¡ç¬”è®°&lt;/h5&gt;

&lt;p&gt;è¿™ä¸ªäº§å“ï¼Œæˆ‘ä½¿ç”¨æ—¶é—´ä¹Ÿç¬”è®°æ—§äº†ï¼Œè‡ªå·±ä¹Ÿæ³¨å†Œäº†å„ç§çš„è´¦å·ï¼Œç”¨é€”å°±æ˜¯æ•´ç†å„ç§å„æ ·çš„ç¬”è®°ã€‚åˆ›å»ºä¸åŒçš„NoteBookï¼Œåœ¨ä¸åŒçš„NoteBookä¸­åˆ›å»ºä¸åŒç­‰Noteï¼Œå¯ä»¥å¯¹NoteåŠ å…¥ä¸åŒçš„tagã€‚&lt;/p&gt;

&lt;p&gt;æ–°ç‰ˆæœ¬çš„å°è±¡æ”¯æŒäº†Markdownï¼Œä¹ æƒ¯ç”¨Markdownçš„æœ‹å‹ï¼Œä¹Ÿå¯ä»¥æ–¹ä¾¿åœ¨é‡Œé¢åº”ç”¨ã€‚å¯¹OCRã€Mindmapä¹Ÿæœ‰äº†å¾ˆå¤šçš„åº”ç”¨ï¼Œä¸è¿‡å› ä¸ºæˆ‘æœ¬äººå¯èƒ½ç”¨ä¸åˆ°è¿™ç±»é«˜çº§åŠŸèƒ½ï¼ˆæˆ‘å¯èƒ½ä¼šå€ŸåŠ©å…¶ä»–å·¥å…·å®Œæˆï¼‰ï¼Œæ‰€ä»¥æ²¡æœ‰è´­ä¹°å°è±¡çš„é«˜çº§åŠŸèƒ½ï¼Œå¹¶å°è¯•è¿™äº›é«˜çº§ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/list-of-efficiency-tools.assets/image-20200503102412726.png#mid&#34; alt=&#34;å°è±¡ç¬”è®°&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;typora&#34;&gt;- Typora&lt;/h5&gt;

&lt;p&gt;è¿™ä¸ªäº§å“ï¼Œæ˜¯æˆ‘ç›®å‰ä¸ºæ­¢ä½¿ç”¨è¿‡çš„Markdownç±»äº§å“ä¸­ï¼Œæœ€çˆ½çš„ï¼šç®€çº¦ï¼Œæ”¯æŒè‡ªå®šä¹‰å¾ˆå¤šå†…å®¹ï¼Œæ¯”å¦‚ä¸»é¢˜ï¼Œåˆ‡æ¢äº¤äº’æ–¹å¼ï¼šæ–‡æœ¬ï¼Œæºç ç­‰ç­‰ã€‚æˆ‘ç°åœ¨å†™è¿™ç¯‡æ–‡ç« å°±æ˜¯ç”¨çš„å®ƒã€‚æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘æ•´ç†ç¬”è®°ä¹Ÿä¼šç”¨åˆ°å®ƒã€‚&lt;/p&gt;

&lt;p&gt;å®ƒçš„ä¸è¶³å°±æ˜¯ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæœ¬åœ°çš„æ–‡æœ¬Editorï¼Œä¸èƒ½å°†å†…å®¹ä¿å­˜åˆ°äº‘ç«¯ã€‚ï¼ˆPSï¼šå¯ä»¥è€ƒè™‘çœ‹çœ‹æœ‰æ²¡æœ‰åŠæ³•è‡ªå·±å®šåˆ¶ä¸€ä¸ªï¼‰&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/list-of-efficiency-tools.assets/image-20200503102526047.png#mid&#34; alt=&#34;Typora&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;å¹•å¸ƒ&#34;&gt;- å¹•å¸ƒ&lt;/h5&gt;

&lt;p&gt;è¿™ä¸ªäº§å“æ˜¯æœ€è¿‘ä¸€ä¸ªæœ‹å‹æ¨èç»™æˆ‘çš„ã€‚æˆ‘ç®€å•ä½¿ç”¨äº†ä¸€ä¸‹ï¼Œæœ‰ç‚¹Typoraçš„æ„Ÿè§‰ï¼Œä¸è¿‡å®ƒçš„æ›´æ£’çš„åœ°æ–¹åœ¨äºï¼Œå®ƒçš„å†…å®¹éƒ½æ˜¯äº‘ç«¯ä¿å­˜çš„ï¼Œä¾¿äºå†…å®¹çš„ä¿æŠ¤ï¼Œä¸è‡³äºä¸¢å¤±ã€‚&lt;/p&gt;

&lt;h5 id=&#34;visual-studio-code&#34;&gt;- Visual Studio Code&lt;/h5&gt;

&lt;p&gt;å¾®è½¯æ¨å‡ºçš„ä¸€ä¸ªå…è´¹çš„Editorï¼Œä½†æ˜¯å®ƒåŠ ä¸Šå„ç§pluginsåï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªIDEã€‚æºç é«˜äº®ï¼Œæç¤ºç­‰ï¼Œæ”¯æŒå„ç§åœºæ™¯çš„æºç ç¼–å†™ï¼Œç¼–è¯‘ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/list-of-efficiency-tools.assets/image-20200503103508331.png#mid&#34; alt=&#34;VisualStudioCode&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;sublime-text&#34;&gt;- Sublime Text&lt;/h5&gt;

&lt;p&gt;ç®€ç§°STï¼Œè€æ—©å‰ä½¿ç”¨è¿‡äº†ã€‚å› ä¸ºå¼€å§‹ç”¨Visual Studio Codeä¹‹åå°±ç”¨å¾—å°‘äº†ã€‚å®ƒå¯ä¸æ˜¯å…è´¹çš„å“¦ã€‚&lt;/p&gt;

&lt;h5 id=&#34;editplus&#34;&gt;- EditPlus&lt;/h5&gt;

&lt;p&gt;è¿™ä¸ªä¼°è®¡å¾—ä»æˆ‘ä¸Šå­¦é‚£ä¼šæ¥è¯´äº†ï¼Œé‚£ä¼šç”¨å¾—æ¯”è¾ƒå¤šï¼Œéå¸¸è€ç‰Œçš„Editoräº†ã€‚ä¸è¿‡ä»…æ”¯æŒWindowså¹³å°ï¼Œä¹Ÿæ˜¯æ”¶è´¹çš„å“¦ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/list-of-efficiency-tools.assets/editplus680x340.png#mid&#34; alt=&#34;EditPlus&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;notepad&#34;&gt;- Notepad++&lt;/h5&gt;

&lt;p&gt;è¿™ä¸ªäº§å“ï¼Œæˆ‘ä¸€ç›´æ²¡æœ‰æœºä¼šå»å¥½å¥½ä½¿ç”¨ä¸€ä¸‹ã€‚ä¸»è¦æ˜¯å› ä¸ºè‡ªå·±ä»å¾ˆä¹…å‰ï¼Œå°±å·²ç»åŸºæœ¬ä¸Šéƒ½åœ¨Macå¹³å°ä¸‹å®Œæˆå„ç§å·¥ä½œäº†ï¼Œéš¾å¾—ç”¨ä¸€æ¬¡Windowså¯èƒ½ä¹Ÿåœ¨Macçš„è™šæ‹Ÿæœºé‡Œäº†ã€‚æ‰€ä»¥æœªæ¥æœ‰æœºä¼šä¸€å®šè¦å°è¯•ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç•ªèŒ„æ—¶é—´&#34;&gt;ç•ªèŒ„æ—¶é—´&lt;/h3&gt;

&lt;h5 id=&#34;pomotodo-1&#34;&gt;- Pomotodo&lt;/h5&gt;

&lt;h5 id=&#34;be-focused-focus-timer&#34;&gt;- Be Focused - Focus Timer&lt;/h5&gt;

&lt;h3 id=&#34;mindmap&#34;&gt;MindMap&lt;/h3&gt;

&lt;h5 id=&#34;xmind&#34;&gt;- Xmind&lt;/h5&gt;

&lt;h3 id=&#34;é¡¹ç›®ç®¡ç†&#34;&gt;é¡¹ç›®ç®¡ç†&lt;/h3&gt;

&lt;h5 id=&#34;microsoft-project&#34;&gt;- Microsoft Project&lt;/h5&gt;

&lt;h5 id=&#34;omniplan&#34;&gt;- OmniPlan&lt;/h5&gt;

&lt;h3 id=&#34;æ¶æ„è®¾è®¡-å»ºæ¨¡&#34;&gt;æ¶æ„è®¾è®¡ã€å»ºæ¨¡&lt;/h3&gt;

&lt;h5 id=&#34;proesson&#34;&gt;- ProessOn&lt;/h5&gt;

&lt;h3 id=&#34;å…¶ä»–æ•ˆç‡å·¥å…·&#34;&gt;å…¶ä»–æ•ˆç‡å·¥å…·&lt;/h3&gt;

&lt;h5 id=&#34;everything&#34;&gt;- everything&lt;/h5&gt;
</description>
     </item>
   
     <item>
       <title>Thought and Felling About Technology in 2020</title>
       <link>https://izcqi.com/posts/2020/04/03/thought-and-felling-about-technology-in-2020/</link>
       <pubDate>Fri, 03 Apr 2020 21:43:20 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2020/04/03/thought-and-felling-about-technology-in-2020/</guid>
       <description>

&lt;h2 id=&#34;ä»æ•…äº‹è¯´èµ·&#34;&gt;ä»æ•…äº‹è¯´èµ·&lt;/h2&gt;

&lt;p&gt;å‰æ®µæ—¶é—´ï¼Œä¸€æœ‹å‹å…¬å¸æ‹›è˜CTOï¼Œå› ä¸ºæœ‹å‹ä¸å¤ªæ‡‚æŠ€æœ¯ï¼Œæˆ‘å¸®ç€å‚è°‹äº†ä¸€ä¸‹ã€‚å…±å‚ä¸é¢è¯•äº†ä¸¤ä¸ªäººã€‚æˆ‘æƒ³è¯´è¯´å¯¹æ­¤æ¬¡é¢è¯•çš„æ„Ÿå—å§ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸€ä¸ªï¼Œ47å²ï¼Œçœ‹åˆ°ç®€å†ï¼Œè¿‡å»çš„ç»å†éå¸¸çš„ä¸°å¯Œã€‚å·¥ä½œç»éªŒéƒ½20å¤šå¹´äº†ï¼Œç›¸æ¯”ä¸€å®šçš„å¤§ç‰›ï¼Œæˆ‘è¿˜ç‰¹åˆ«æ‹…å¿ƒæ˜¯ä¸æ˜¯å¯ä»¥èŠå¾—äº†ã€‚ä½†ç»“æœå´è®©æˆ‘å¤§è·Œçœ¼é•œã€‚&lt;/p&gt;

&lt;p&gt;åˆ°ç°åœ¨ï¼Œæˆ‘è®°å¾—æ¯”è¾ƒæ·±åˆ»çš„å‡ ä¸ªé—®é¢˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;linuxçš„å‘ç°ç‰ˆæœ‰å“ªäº›ï¼Ÿâ€”â€”å› ä¸ºä»–æåˆ°ä»–å¯¹linuxå¾ˆç†Ÿæ‚‰&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;ç­”ï¼šredhatï¼Œcentosï¼Œå…¶ä»–çš„å°±ä¸çŸ¥é“äº†&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å…¶å®è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯æˆ‘åœ¨ä¸ä»–æ²Ÿé€šè¿‡ç¨‹ä¸­å‘ç°äº†å¾ˆå¤šçš„é—®é¢˜ï¼Œä»–å¯¹linuxå¹¶ä¸ç†Ÿæ‚‰ï¼Œæ‰€ä»¥æƒ³ä»è¿™ä¸ªå£å»çœ‹çœ‹ä»–å¯¹Linuxçš„äº†è§£ï¼Œç»“æœè¿™æ ¹æœ¬è°ˆä¸ä¸Šäº†è§£ã€‚ç”šè‡³è¿˜æ²¡åˆ°Linuxç³»ç»Ÿå±‚é¢çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;æœªæ¥æŠ€æœ¯å‘å±•è¶‹åŠ¿ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;ç­”ï¼šå¥½å¥½å­¦ä¹ ï¼Œå­¦ä¹ ä½¿ç”¨&amp;hellip; &amp;hellip;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªè®©æˆ‘å¤§å¤§çš„å¤§è·Œçœ¼é•œï¼Œè¿™ç§è¯´æ³•è¡¨é¢æ—¢ä¸æˆç†Ÿï¼Œä¹Ÿå¯¹æŠ€æœ¯å‘å±•æ²¡æœ‰ä»»ä½•äº†è§£ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;æŒ‰ç…§é«˜å¯ç”¨çš„æ ‡å‡†æ”¹é€ ä¸€ä¸ªä»–ç†Ÿæ‚‰çš„ç³»ç»Ÿçš„æ€è·¯&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸºæœ¬ä¸Šç­”éæ‰€é—®&amp;hellip;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¦ä¸€ä¸ªï¼Œ40å²ï¼Œä¹Ÿæ˜¯æœ‹å‹å…¬å¸æ¯”è¾ƒçœ‹é‡çš„ä¸€ä¸ªäººï¼Œä»ç®€å†ä¸Šçœ‹ç»å†ä¹Ÿæ˜¯ç›¸å½“çš„ä¸°å¯Œçš„ã€‚æƒ³ç€é¢å¯¹è¿™æ ·çš„äººï¼Œå¿…å®šä¹Ÿç»å†å’Œé¢è¯•è¿‡å¾ˆå¤šäººï¼Œæ¢ç§æ–¹å¼æ¥æ²Ÿé€šï¼Œè®©ä»–è‡ªå·±ç”¨ä¸€ç§ä»–ä»»ä½•åˆé€‚çš„æ–¹å¼æ¥å±•ç¤ºè‡ªå·±ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹æ–¹çš„æ–¹å¼ï¼Œæ²¡æœ‰ç‰¹åˆ«çš„åœ°æ–¹ï¼Œä¾æ—§æ²¿è¢­äº†è¿‡å»çš„æ–¹å¼ã€‚ä½†åœ¨ä¸€ä¸ªåœ°æ–¹æ·±å…¥äº†ä¸€ä¸‹ã€‚è¿‡å»çš„é¡¹ç›®ä¸­å¯¹åœ°ç†ä½ç½®çš„å¤„ç†ï¼Œæœ‰äº›ä»–è‡ªå·±è®¾è®¡çš„ä¸œè¥¿ï¼Œç„¶åç”¨ç¬”åœ¨çº¸ä¸Šè¿˜ç”»äº†ä¸€ä¸ªç¤ºä¾‹ï¼Œå½“ç„¶è¿™éå¸¸å¥½ï¼Œå¯ä»¥æŠŠè‡ªå·±çš„è®¾è®¡æ•´ç†ä¸‹æ¥ã€‚ä½†æ˜¯åé¢çš„æ²Ÿé€šæœ‰ç‚¹éš¾ä»¥æ¥å—äº†ã€‚ä¸»è¦åœ¨ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è§‰å¾—åŸºç¡€ä¸é‡è¦ï¼Œå¯¹äºå¸¸ç”¨çš„æ¡†æ¶æˆ–ç»„ä»¶çš„è®¾è®¡æˆ–å·¥ä½œåŸç†ï¼Œæ²¡æœ‰å¿…è¦å»æŒæ¡ï¼Œè§‰å¾—æŒæ¡è¿™äº›æ—¢æ²¡æœ‰æ„ä¹‰ï¼Œä¹Ÿæ— å¿…è¦&lt;/li&gt;
&lt;li&gt;è§‰å¾—è‡ªå·±é€ çš„è½®å­ï¼Œæ¯”å»ç ”ç©¶å’Œå­¦ä¹ ä¸€ä¸ªæ›´æˆç†Ÿæ›´èƒ½è®©å¤§å®¶å­¦ä¹ åˆ°ä¸œè¥¿å’Œä¸Šæ‰‹&lt;/li&gt;
&lt;li&gt;å¯¹äºé¢è¯•ï¼Œè§‰å¾—æ–°äººé¢è¯•å°±åº”è¯¥ä»é«˜æ•°ï¼Œç‰©ç†è¿™äº›å¼€å§‹é¢è¯•ï¼Œä¼šé—®å¾—å¾ˆç»†&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™äº›ææ³•éƒ½æœ‰äº›çŸ›ç›¾çš„ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘æƒ³å…ˆè¯´è¯´è‡ªå·±é€ è½®å­æ˜¯å¦çœŸçš„æœ‰å¿…è¦æ€§ã€‚åœ¨ç‰¹å®šçš„æ¡ä»¶ä¸‹ï¼Œå¿…ç„¶éœ€è¦å»é€ ï¼Œå› ä¸ºç‰¹å®šçš„é—®é¢˜å¯èƒ½å°±éœ€è¦è¿™æ ·çš„æ–¹å¼æ‰å¯ä»¥è§£å†³ã€‚ä½†æ˜¯å°±ç›®å‰æ¥è¯´ï¼Œç°æˆçš„è½®å­å…¶å®è¶³å¤Ÿå¤§éƒ¨åˆ†å…¬å¸çš„å¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯äº†ã€‚è¿™æƒ…å†µä¸‹é€ è½®å­æˆ‘è§‰å¾—å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚æ¯”å¦‚springåŠå…¶ç”Ÿæ€ï¼Œå¾ˆå¤šç»„ä»¶å®Œå…¨å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯äº†ï¼Œåœ¨è¿™æƒ…å†µä¸‹ï¼Œé€ è½®å­ä¸€ç‚¹æ„ä¹‰éƒ½æ²¡æœ‰ã€‚æŸäº›ä¸æ»¡è¶³ä¸šåŠ¡çš„åœºæ™¯ï¼Œä¹Ÿå¯ä»¥å»æ‰©å±•ä»–ä»¬å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;è€Œå¯¹äºå¸¸ç”¨çš„ç»„ä»¶æˆ–æ¡†æ¶ï¼Œå¯¹æ–¹è§‰å¾—åªéœ€è¦ä¼šç”¨å°±å¯ä»¥äº†ï¼Œè‡³äºå·¥ä½œçš„åŸç†ä¸å¿…åœ¨æ„ã€‚è€Œå¯¹äºæˆ‘æåˆ°çš„ï¼Œå¦‚æœå‡ºç°äº†é—®é¢˜ï¼Œéœ€è¦æ’æŸ¥é”™è¯¯çš„æ—¶å€™ï¼Œä¸çŸ¥é“åŸç†å¦‚ä½•å»æ’æŸ¥ï¼Œå¦‚ä½•ç¡®å®šæ˜¯ä¸šåŠ¡çš„ä»£ç é—®é¢˜è¿˜æ˜¯æ¡†æ¶ç»„ä»¶çš„é—®é¢˜æ—¶ï¼Œå¯¹æ–¹æ‰€ç­”å°±æ˜¾å¾—ç‰µå¼ºè®¸å¤šï¼šä»–æŒæ¡å°±å¯ä»¥äº†ï¼Œå…¶ä»–äººä¸å¿…å…³å¿ƒå’ŒçŸ¥é“ï¼Œå¦‚æœä»–è§£å†³ä¸äº†ï¼Œå°±æ‰¾å¤–é¢çš„äººã€‚&lt;/p&gt;

&lt;p&gt;é¢è¯•çš„æ—¶å€™ï¼Œä¼šé—®é«˜æ•°ï¼Œç”šè‡³ç‰©ç†ç›¸å…³ç†è®ºçŸ¥è¯†ï¼Œè¿™ç‚¹ä¸å¯¹æ–¹è§‰å¾—åŸºç¡€ä¸é‡è¦ï¼Œæ˜¾ç„¶å°±çŸ›ç›¾äº†ã€‚è€Œä¸”å®è¯è®²ï¼Œæˆ‘è§‰å¾—è¿™æ ·çš„æ–¹å¼ä¸èƒ½æ‰¾åˆ°åˆé€‚çš„äººï¼Œæƒ³æƒ³ä¸€ä¸‹ï¼Œä¸€ä¸ªå·¥ä½œåå¹´ä¹‹åçš„äººï¼Œè¿˜è®°å¾—ç‰©ç†ç›¸å…³çŸ¥è¯†çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿæä½æä½ï¼ é€šè¿‡è¿™äº›å†…å®¹çš„è€ƒæ ¸å°±èƒ½ç¡®å®šå€™é€‰äººæ—¶å€™åˆé€‚å—ï¼Ÿ æˆ‘çš„ç»éªŒå‘Šè¯‰æˆ‘ï¼Œè¿™åŸºæœ¬ä¸Šå¾ˆéš¾ç¡®å®šã€‚&lt;/p&gt;

&lt;p&gt;ä½†æœ‰ä¸€ç§è¯´æ³•ï¼š&lt;strong&gt;é¢è¯•é€ ç«ç®­ï¼Œå…¥èŒæ‰­èºä¸&lt;/strong&gt;ã€‚è¿™æƒ…å†µåœ¨ç›®å‰çš„å¸‚åœºå¾ˆå¸¸è§ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ç§å¿…è¦ï¼Œå› ä¸ºè¿™ä¸ªæ—¶ä»£ï¼Œå¾ˆå¤šæŠ€æœ¯è§£å†³æ–¹æ³•éƒ½å¤ªæˆç†Ÿäº†ï¼ŒåŸºæœ¬ä¸Šéƒ½éå¸¸çš„å‚»ç“œäº†ï¼ˆSpringBootè®©ä½ è§£æ”¾äº†æœ‰æ²¡æœ‰ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰åŸºç¡€çš„è€ƒæ ¸å¦‚ä½•é‰´åˆ«å€™é€‰äººå‘¢ï¼Ÿä¸€ä¸ªåªä¼šç”¨ï¼Œå‡ºäº†é—®é¢˜ä¸çŸ¥é“å¦‚ä½•æ’æŸ¥ï¼Œå¦‚ä½•è§£å†³çš„äººï¼Œè‚¯å®šæ˜¯ä¸åˆé€‚çš„ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥æˆ‘å¯¹é¢è¯•ä¼šé—®å¾ˆå¤šåŸºç¡€çš„å†…å®¹çš„æƒ…å†µï¼Œéå¸¸çš„èµåŒï¼Œå› ä¸ºè¿™æ‰æ˜¯çœŸæ­£çš„åŒºåˆ†ã€‚&lt;/p&gt;

&lt;p&gt;è¯´äº†è¿™å †ï¼Œæˆ‘æƒ³è¡¨è¾¾çš„æ˜¯ï¼šå…¶å®æŠ€æœ¯è¦ç”¨èµ·æ¥ï¼ŒçœŸçš„å¾ˆç®€å•ï¼Œä½†æ˜¯è¦æŒæ¡é‚£ä¸ªåº•å±‚çš„é€»è¾‘æ‰æ›´æœ‰æ„ä¹‰ã€‚å¥½å¥‡å¿ƒï¼Œåº”è¯¥ä¸€ç›´éƒ½æœ‰æ‰å¯¹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;thought-and-felling-about-technology-in-2020&#34;&gt;Thought and Felling About Technology in 2020&lt;/h2&gt;

&lt;p&gt;è¿™ä¸ªæ—¶ä»£ï¼Œç§‘æŠ€çš„å‘å±•ï¼Œå‡ºç°äº†å¤ªå¤šçš„è§£é™¤æ–¹æ¡ˆäº†ã€‚è€æ‰ç‰™çš„è¯´æ³•ï¼Œæ¶æ„ä»ALL in oneåˆ°åˆ†å¸ƒå¼å¾®æœåŠ¡ï¼Œå†åˆ°service mesh ï¼Œåˆ°serverlessï¼Œå„ç§æ–°ä¸œè¥¿çš„å‡ºç°ã€‚ä½†æ˜¯ä¸€èµ·å›å½’æœ¬è´¨ï¼Œä¸ªäººç†è§£éƒ½æ˜¯åŸºç¡€çš„é‚£äº›ä¸œè¥¿ï¼Œæˆ–è€…æ–°å‡ºç°çš„æ¦‚å¿µç½¢äº†ã€‚&lt;/p&gt;

&lt;p&gt;ç ”ç©¶è¿‡å¾ˆå¤šæ¡†æ¶æºç ä¹‹åï¼Œä½ è¶Šæ¥è¶Šæ¸…æ™°çš„å‘ç°ï¼Œé‡Œé¢æœ‰å¾ˆå¤šjdkæºç çš„å½±å­ï¼Œæ‰€ä»¥jdkæºç çš„é€å½»è®¤çŸ¥æ‰æ˜¯å¼€å¯ä¸€åˆ‡çš„æ³•å®ï¼ˆä¸ªäººè§‚ç‚¹ï¼‰ã€‚æˆ‘ä¹Ÿä»åœ¨è¿™æ¡è·¯ä¸Šï¼Œåœ¨ç»§ç»­æ·±å…¥çš„è·¯ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;åœ¨2020å¹´ï¼Œå¯¹äºæŠ€æœ¯ç›¸å…³çš„é¢†åŸŸï¼Œæˆ‘çš„æƒ³æ³•æ˜¯&lt;strong&gt;é€æ–°å›æº&lt;/strong&gt;â€”â€”è¿™é‡Œéœ€è¦å’Œå¯ä»¥åšçš„äº‹å¤ªå¤šäº†ï¼Œæˆ‘ä¹Ÿç»™è‡ªå·±è®¢ç«‹äº†2020å¹´çš„è®¡åˆ’ï¼ŒåŠ¡å¿…å¤šæ–¹ä½çš„&lt;strong&gt;å›æº&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;åªæœ‰æ·±å…¥ç ”ç©¶å’Œäº†è§£æœ¬æºï¼Œæ‰æ˜¯åŸºç¡€ã€‚å¯¹äºä¸šç•Œçš„å‘å±•ï¼Œè¦é›†åˆæ—¶ä»£çš„å˜åŒ–ï¼Œè¦å§‹ç»ˆè®°ä½ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æŠ€æœ¯å°±æ˜¯å·¥å…·ï¼ŒæŠ€æœ¯æ˜¯ä¸ºä¸šåŠ¡æœåŠ¡çš„ï¼Œè„±ç¦»äº†å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚ï¼ŒæŠ€æœ¯çš„å­˜åœ¨å°±æ¯«æ— æ„ä¹‰ï¼ŒæŠ€æœ¯ä¸ºè§£å†³é—®é¢˜äºŒå®¡ï¼ŒæŠ€æœ¯ä¸ºçªç ´å„ç§æ–°é—®é¢˜è€Œè¿­ä»£ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</description>
     </item>
   
     <item>
       <title>è®°åœ¨2020å¹´çš„éšç¬”</title>
       <link>https://izcqi.com/posts/2020/04/03/an-essay-written-in-2020/</link>
       <pubDate>Fri, 03 Apr 2020 13:58:33 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2020/04/03/an-essay-written-in-2020/</guid>
       <description>&lt;p&gt;2020å¹´å¯¹äºä¸–ç•Œå’Œæ¯ä¸ªäººéƒ½æ˜¯åŠå…¶ç‰¹åˆ«çš„ä¸€å¹´ã€‚&lt;/p&gt;

&lt;p&gt;2019å¹´12æœˆå¼€å§‹ï¼Œé™†é™†ç»­ç»­çˆ†å‘çš„&lt;strong&gt;æ–°å‹å† çŠ¶ç—…æ¯’&lt;/strong&gt;ç–«æƒ…ï¼Œè‚†è™äº†å›½å†…å¤–ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨å›½å†…ï¼Œç–«æƒ…æœ€ä¸¥é‡çš„åœ°æ–¹å°±æ˜¯æ¹–åŒ—æ­¦æ±‰ï¼Œè€Œæ¥è‡ªå…¨å›½å„åœ°çš„ä¸“å®¶ã€åŒ»æŠ¤äººå‘˜çš„èˆå‘½ä»˜å‡ºï¼Œåœ¨æ˜¥æš–èŠ±å¼€çš„æ—¶èŠ‚ï¼Œä¸€åˆ‡éƒ½å›å½’äº†ç”Ÿæœºï¼Œè¿æ¥äº†éš¾å¾—çš„èƒœåˆ©ä¹‹å…‰ã€‚&lt;/p&gt;

&lt;p&gt;æ¯æ¬¡çœ‹åˆ°å‡ºå¾æ­¦æ±‰ï¼Œå¹³å¹³å®‰å®‰å›å®¶çš„è‹±é›„ä»¬ï¼Œåœ¨å›åˆ°è‡ªå·±å®¶ä¹¡æ—¶ï¼Œéƒ½å¾—åˆ°äº†æœ€é«˜çº§åˆ«çš„è¿æ¥ç¤¼ï¼Œæ¯æ¯çœ‹åˆ°è¿™ç”»é¢å¿ƒé‡Œæœ‰å¤ªå¤šè¯´ä¸å‡ºæ¥çš„æ¿€åŠ¨ï¼Œæ„Ÿæ…¨åœ¨ç–«æƒ…é¢å‰ï¼Œåœ¨ç”Ÿå‘½é¢å‰ï¼Œæ¯ä¸€ä½åŒ»æŠ¤äººå‘˜æ˜¯å¤šä¹ˆçš„ä¼Ÿå¤§ã€‚&lt;/p&gt;

&lt;p&gt;æ—¶éš”3ä¸ªæœˆï¼Œå›½å†…ç–«æƒ…ä¹‹æˆ˜ï¼Œåˆ°ç°åœ¨æ”¶è·äº†é˜¶æ®µæ€§çš„èƒœåˆ©ï¼Œå›½å†…ç–«æƒ…å·²ç»æ˜æ˜¾å¾—åˆ°äº†æ§åˆ¶ï¼Œè€Œå›½å¤–å¼€å§‹è‚†è™äº†ã€‚è€Œæˆ‘ä»¬å›½å®¶æ—©å°±å·²ç»â€æé†’â€œäº†å›½å¤–ï¼Œè€Œä»–ä»¬å´çœŸçš„é”™è¿‡äº†éå¸¸é‡è¦çš„æ—¶é—´ã€‚è‡´ä½¿ç°åœ¨å›½å¤–çˆ†å‘æƒŠäººã€‚åˆ°ç°åœ¨å…¨çƒç¡®è®¤äººæ•°å·²ç»è¶…è¿‡100ä¸‡ä¹‹å¤šï¼Œæƒ³æƒ³è¿™ä¸€åˆ‡å¤šä¹ˆå“äººã€‚&lt;/p&gt;

&lt;p&gt;åˆšæ‰åˆçœ‹åˆ°ä¸€ä¸ªæ¶ˆæ¯ï¼Œåœ¨å›½å¤–å¾ˆå¤šäººå› ä¸ºç–«æƒ…åŸå› éƒ½å¤±ä¸šäº†ã€‚è¿™åœºå½±å“ä¸¥é‡çš„ç–«æƒ…ï¼Œç»™æ¯ä¸ªäººçš„ç”Ÿæ´»ä¹Ÿå¸¦æ¥äº†å·¨å¤§çš„æ”¹å˜ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘çœ‹åˆ°å¾ˆå¤šäººï¼Œå› ä¸ºç–«æƒ…å¤±å»äº†å·¥ä½œï¼Œå¾ˆå¤šå…¬å¸å› ä¸ºç–«æƒ…è£å‘˜ï¼Œç”šè‡³å°±æ­¤è§£æ•£ã€‚ä½†é¢å¯¹è¿™çªå…¥èµ·æ¥çš„å˜é¡¾ï¼Œæˆ‘ä»¬åº”è¯¥ç§¯æçš„é¢å¯¹ã€‚åœ¨æœ€åˆçš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—è¿™ä¸€åˆ‡åœ¨è¿™ä¸ªæ—¶å€™å‡ºç°ï¼ŒçœŸçš„è®©æˆ‘é›ªä¸ŠåŠ éœœäº†ï¼Œä½†åæ¥æ·±å…¥æ€è€ƒï¼Œè¿™ä¸€åˆ‡éäººä¸ºï¼Œåº”è¯¥ç§¯æçš„å»é¢å¯¹ã€‚è€Œä¸”ï¼Œåœ¨è¿™æƒ…å†µä¸‹ï¼Œæ›´åº”è¯¥è®©è‡ªå·±å˜å¾—æ›´å¼ºæ‰å¯¹ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ç›´ä»¥æ¥ï¼Œç»™è‡ªå·±å®šä½æˆ‘æ˜¯ä¸€ä¸ªæœ‰æƒ³æ³•æœ‰åŸåˆ™çš„äººï¼Œæ—¶åˆ»ä¼šé—®è‡ªå·±ä¸ºä»€ä¹ˆçš„äººã€‚æˆ‘è§‰å¾—åªæœ‰æ—¶åˆ»ä¿æŒè¿™è¿›æ­¥ã€å¥½å¥‡ä¹‹å¿ƒï¼Œæˆ‘ä»¬æ‰ä¼šå˜å¾—æ›´å¼ºã€‚åœ¨ä»»ä½•å›°è‹¦é¢å‰ï¼Œéƒ½å¯ä»¥è¿éš¾è€Œä¸Šã€‚&lt;/p&gt;

&lt;p&gt;2020å¹´ï¼Œæˆ‘å¸Œæœ›æ˜¯ä¸€ä¸ªè‰°éš¾çš„å¼€å¤´ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå®Œç¾çš„æ”¶å®˜ã€‚&lt;/p&gt;

&lt;p&gt;2020å¹´ï¼Œæˆ‘è¦å…¨åŠ›æé«˜è‡ªèº«çš„èƒ½åŠ›ï¼Œè®©è‡ªå·±è½¯æŠ€èƒ½æœ‰å¤§å¹…æå‡ï¼Œç¡¬å®åŠ›è·Ÿå¼ºç¡¬ã€‚æˆ‘è¦è®©è‡ªå·±åœ¨2020å¹´æ”¶è·æ›´å¤šï¼Œæˆé•¿æ›´å¤šï¼ŒæœŸå¾…2020å¹´çš„æ”¶å®˜ã€‚&lt;/p&gt;
</description>
     </item>
   
     <item>
       <title>SpringBoot FatJar vs ThinJar&amp;SpringBoot Thin Planing</title>
       <link>https://izcqi.com/posts/2019/12/20/springboot-fatjar-vs-thinjar/</link>
       <pubDate>Fri, 20 Dec 2019 23:54:17 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2019/12/20/springboot-fatjar-vs-thinjar/</guid>
       <description>

&lt;p&gt;ä»€ä¹ˆæ˜¯FatJarå’ŒThinJarï¼Ÿ&lt;/p&gt;

&lt;h3 id=&#34;fatjar&#34;&gt;FatJar&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;FatJaråˆå«åšUberJarï¼Œå°±æ˜¯ä¸€ç§&lt;strong&gt;è¶…çº§Jar&lt;/strong&gt;ï¼Œå…¶å®å°±æ˜¯æŠŠä¸€ä¸ªåŸºç¡€JaråŠå…¶ä¾èµ–éƒ½æ‰“åŒ…åˆ°ä¸€ä¸ªJaré‡Œé¢ï¼Œç„¶åç”¨äº†å®ƒå°±å¯ä»¥ç‹¬ç«‹å·¥ä½œçš„Jarã€‚æ€»æ•°å¾ˆâ€œé‡â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;thinjar&#34;&gt;ThinJar&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;ThinJarå°±æ˜¯å¯¹è¶…çº§Jarç›¸å¯¹åº”çš„Jarï¼Œâ€œçº¤ç˜¦â€çš„Jarã€‚åªæœ‰è‡ªèº«çš„èµ„æºç»„åˆï¼ˆ.classï¼Œpropertiesç­‰ç­‰ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä»äºŒè€…çš„â€œèº«æ®µâ€æ¥çœ‹ï¼Œå’Œå­—é¢æ¥çœ‹ï¼ŒFatJarå°±æ˜¯ä¸€ç§è‚¥Jarï¼ŒThinJarå°±æ˜¯ä¸€ç§ç˜¦Jarã€‚åœ¨SpringBootä¸­äºŒè€…çš„å¯¹æ¯”å°±ä¼šæ›´åŠ çš„æ˜æ˜¾ã€‚å› ä¸ºä¸€ä¸ªé€šå¸¸çš„SpringBootåº”ç”¨ï¼ˆJarï¼‰ä¸‡ä¸‡éƒ½åœ¨å‡ MBï¼Œè€ŒThinJarçš„Jarå¯èƒ½å°±åœ¨å‡ KBï¼Œå¤§ç‚¹ä¹Ÿå°±æ˜¯å‡ åKBçš„æ ·å­ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæœ‰ä¸€ç§æ–¹å¼å¯ä»¥è®©SpringBootç˜¦èº«ï¼Œä½ è¦ä¸è¦ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å…ˆçœ‹çœ‹ä¸ºä»€ä¹ˆè¦ç˜¦èº«ï¼Ÿ&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å› ä¸ºThinJarå¾ˆå°ï¼Œæ˜“äºéƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ˆå¯èƒ½æ˜¯å› ä¸ºæˆ‘ç½‘é€Ÿæ…¢@.@ï¼‰ã€‚æƒ³æƒ³å¦‚æœåœ¨ä¸€å°æœåŠ¡å™¨ä¸Šéƒ¨ç½²å¤šä¸ªæœåŠ¡çš„è¯ï¼ˆä¹Ÿä¼šä½ ä¸ä¼šè¿™æ ·ç”¨ï¼Œä½†æ˜¯ä¸ä¸€å®šå°±ä¸ä¼šå­˜åœ¨ï¼‰ï¼Œç›¸åŒçš„å¾ˆå¤šä¾èµ–åŒ…åœ¨ç½‘é€Ÿè´¼æ…¢çš„æƒ…å†µä¸‹ï¼Œè¿˜å¾—æ…¢æ…¢æ‚ æ‚ çš„ä¼ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸‹é¢å°±è¯¥çœ‹çœ‹å¦‚ä½•ç˜¦èº«äº†ã€‚ä»ä¸€æœ¬ä¹¦å¼€å§‹è¯´èµ·ï¼Œä¹¦å«&lt;a href=&#34;https://izcqi.com/ebooks/SpringBoot-2-Recipes.pdf&#34;&gt;ã€ŠSpringBoot 2 Recipesã€‹&lt;/a&gt;ã€‚åœ¨ä¹¦ä¸­çœ‹äº†ä¸€ä¸ªthinjarçš„ç« èŠ‚ï¼ˆ11-3 Reduce Archive Size Through the Thin Launcher&lt;/p&gt;

&lt;p&gt;Problemï¼‰ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Spring Boot, by default, generates a so-called fat JAR, a JAR with all the dependencies inside it. This has some obvious benefits, as the JAR is fully self-contained. However, the JAR size can grow considerably, and when using multiple applications you might want to reuse already downloaded dependencies to reduce the overall footprint.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç„¶åå°±çœ‹åˆ°äº†è¿™ä¸ªé¡¹ç›®&lt;a href=&#34;https://github.com/spring-projects-experimental/spring-boot-thin-launcher&#34;&gt;Spring Boot Thin Launcher&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åæ•´åˆåˆ°äº†&lt;a href=&#34;https://github.com/LearnedHub/learning-springboot2-LTS&#34;&gt;Learning SpringBoot2 LTS&lt;/a&gt;é¡¹ç›®ä¸­ã€‚å…ˆç”¨çš„thin-layout-1.0.22.RELEASEä¸€ç›´å‡ºé”™ï¼Œæ‰¾ä¸åˆ°ThinJarLauncherï¼Œåæ¥æ”¹ä¸ºthin-layout-1.0.23.RELEASEä¹‹åï¼Œå°±okäº†(&lt;strong&gt;è¿™ä¸ªé—®é¢˜è€½è¯¯äº†æˆ‘ä¸€å¤©çš„å¤ªå¤šçš„æ—¶é—´äº†ï¼Œä¸è¿‡ä¸å°è¯•æ€ä¹ˆçŸ¥é“é—®é¢˜å‘¢ï¼&lt;/strong&gt;)ã€‚FatJarä»å°½30MBï¼Œå˜æˆäº†20KBä¸åˆ°ã€‚å¯åŠ¨æ–¹å¼ä¸€æ ·:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;java -jar xx.jar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;springboot-thin-launcheråŸç†&#34;&gt;SpringBoot Thin LauncheråŸç†&lt;/h3&gt;

&lt;p&gt;æˆ‘æŸ¥çœ‹äº†ThinJarLauncherçš„æºç ï¼Œå°±æ˜¯è§£æç”Ÿæˆçš„ThinJarä¸­çš„pom.xmlï¼Œæ¥ä¸‹è½½æˆ–è€…ç›´æ¥å¼•ç”¨æœ¬åœ°çš„~/.m2/repositoryä¸­çš„libsã€‚&lt;/p&gt;

&lt;p&gt;å…·ä½“æ€ä¹ˆä½¿ç”¨ï¼Œå‚è€ƒé¡¹ç›®&lt;a href=&#34;https://github.com/LearnedHub/learning-springboot2-LTS&#34;&gt;Learning SpringBoot2 LTS&lt;/a&gt;ï¼Œå‚è€ƒï¼š&lt;a href=&#34;https://beldon.me/posts/2019/05/22/spring-boot-thin-jar.html&#34;&gt;https://beldon.me/posts/2019/05/22/spring-boot-thin-jar.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ç§ç‰ˆæœ¬&lt;a href=&#34;https://github.com/LearnedHub/learning-springboot2-LTS/tree/31408f802570371a3c16010bdeb6f537adb365a1&#34;&gt;https://github.com/LearnedHub/learning-springboot2-LTS/tree/31408f802570371a3c16010bdeb6f537adb365a1&lt;/a&gt;ä¸­ä½¿ç”¨å¦å¤–çš„ä¸€ç§æ–¹å¼ï¼Œä¹Ÿå¯ä»¥è®©è®©Jarå°äº›ï¼Œä½†ä¸å¦‚thin-launcheræ•ˆæœå¥½ã€‚ä¸è¿‡åœ¨ç‰¹å®šæƒ…æ™¯ä¸‹ï¼ˆæ¯”å¦‚webé¡¹ç›®çš„é™æ€èµ„æºä¸éœ€è¦æ‰“åŒ…åˆ°Jarä¸­æ—¶ï¼‰ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨çš„ã€‚å‚è€ƒï¼š&lt;a href=&#34;https://blog.csdn.net/ssrc0604hx/article/details/54175027&#34;&gt;https://blog.csdn.net/ssrc0604hx/article/details/54175027&lt;/a&gt;ã€‚åœ¨è¿™ä¸ªå‚è€ƒä¸­ï¼Œä½œè€…ä½¿ç”¨äº†excludeGroupIdsæ¥å»é™¤éœ€è¦ç‹¬ç«‹å‡ºæ¥çš„libsï¼Œå…¶å®ä½¿ç”¨includeï¼Œä»…åŒ…æ‹¬å°‘æ•°éœ€è¦ï¼ˆæ¯”å¦‚å­moduleï¼‰çš„å³å¯ã€‚æ¯”å¦‚åœ¨&lt;a href=&#34;https://github.com/LearnedHub/learning-springboot2-LTS/blob/31408f802570371a3c16010bdeb6f537adb365a1/web/pom.xml&#34;&gt;Learning SpringBoot2 LTS&lt;/a&gt;ä¸­æˆ‘çš„åšæ³•æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- just include self --&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;include&amp;gt;&lt;/span&gt;
		&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;${groupId}&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  	&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;${artifactId}&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;/include&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
     </item>
   
     <item>
       <title>MyBatis Pluginå·¥ä½œæœºç†</title>
       <link>https://izcqi.com/posts/2019/12/09/mybatis-plugins-principle/</link>
       <pubDate>Mon, 09 Dec 2019 22:00:43 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2019/12/09/mybatis-plugins-principle/</guid>
       <description>&lt;p&gt;æ•…äº‹å¼€å¤´ï¼š
åœ¨ä½¿ç”¨MyBatisçš„RowBoundsæ—¶ï¼Œå‘ç°ç»“æœæ²¡æœ‰å’Œç†è®ºçš„ä¸€è‡´ï¼Œç„¶åæ·±å…¥ç ”ç©¶RowBoundsçš„å®ç°åŸç†ï¼š&lt;strong&gt;MyBatisä»…å€ŸåŠ©RowBoundsåœ¨å†…å­˜ä¸­å®Œæˆäº†æ•°æ®çš„åˆ†é¡µå¤„ç†â€”â€”é€»è¾‘åˆ†é¡µ&lt;/strong&gt;ã€‚è¿˜æœ‰ä¸€ç§æ˜¯&lt;strong&gt;ç‰©ç†åˆ†é¡µ&lt;/strong&gt;ï¼Œå°±æ˜¯å¸¸è§çš„Limit offset, limitçš„æ–¹å¼ï¼ˆMySQLï¼‰ã€‚ç„¶åæŸ¥èµ„æ–™ï¼Œç ”ç©¶æ‰¾åˆ°äº†å¾ˆå¤šçš„å®ç°æ–¹å¼ã€‚æˆ‘å…ˆå°è¯•äº†ä¸€ä¸‹å…¶ä¸­çš„ä¸€ç§ï¼šä½¿ç”¨Interceptorçš„æ–¹å¼ã€‚å¤§ä½“çš„é€»è¾‘æ˜¯åœ¨å½“å‰æ‰§è¡Œçš„SQLåé¢æŠŠRowBoundsçš„offsetï¼ŒlimitæŒ‰ç…§&lt;strong&gt;limit offset,limit&lt;/strong&gt;çš„æ–¹å¼æ‹¼æ¥åœ¨SQLåé¢ã€‚&lt;/p&gt;

&lt;p&gt;å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;@Intercepts({@Signature(type &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; Executor.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;, method &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;, args &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {MappedStatement.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;, Object.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;, RowBounds.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;, ResultHandler.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;})})
public class PageInterceptor implements Interceptor {

    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        Object[] args &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; invocation.&lt;span style=&#34;color:#50fa7b&#34;&gt;getArgs&lt;/span&gt;();
        MappedStatement ms &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (MappedStatement) args[0]; &lt;span style=&#34;color:#6272a4&#34;&gt;// MappedStatement
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        BoundSql boundSql &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; ms.&lt;span style=&#34;color:#50fa7b&#34;&gt;getBoundSql&lt;/span&gt;(args[1]); &lt;span style=&#34;color:#6272a4&#34;&gt;// Object parameter
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        RowBounds rb &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (RowBounds) args[2]; &lt;span style=&#34;color:#6272a4&#34;&gt;// RowBounds
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; rb &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; rb &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; RowBounds.&lt;span style=&#34;color:#50fa7b&#34;&gt;DEFAULT&lt;/span&gt;) {
            &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; invocation.&lt;span style=&#34;color:#50fa7b&#34;&gt;proceed&lt;/span&gt;();
        }

        &lt;span style=&#34;color:#6272a4&#34;&gt;// append limit statement
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        StringBuilder sqlBuidler &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; StringBuilder(boundSql.&lt;span style=&#34;color:#50fa7b&#34;&gt;getSql&lt;/span&gt;());
        String limit &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; String.&lt;span style=&#34;color:#50fa7b&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34; limit %d,%d&amp;#34;&lt;/span&gt;, rb.&lt;span style=&#34;color:#50fa7b&#34;&gt;getOffset&lt;/span&gt;(), rb.&lt;span style=&#34;color:#50fa7b&#34;&gt;getLimit&lt;/span&gt;());
        sqlBuidler.&lt;span style=&#34;color:#50fa7b&#34;&gt;append&lt;/span&gt;(limit);

        &lt;span style=&#34;color:#6272a4&#34;&gt;// replace sqlSource by reflection
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        SqlSource sqlSource &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; StaticSqlSource(ms.&lt;span style=&#34;color:#50fa7b&#34;&gt;getConfiguration&lt;/span&gt;(), sqlBuidler.&lt;span style=&#34;color:#50fa7b&#34;&gt;toString&lt;/span&gt;(), boundSql.&lt;span style=&#34;color:#50fa7b&#34;&gt;getParameterMappings&lt;/span&gt;());
        Field field &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; MappedStatement.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;getDeclaredField&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;sqlSource&amp;#34;&lt;/span&gt;);
        field.&lt;span style=&#34;color:#50fa7b&#34;&gt;setAccessible&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;);
        field.&lt;span style=&#34;color:#50fa7b&#34;&gt;set&lt;/span&gt;(ms, sqlSource);
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; invocation.&lt;span style=&#34;color:#50fa7b&#34;&gt;proceed&lt;/span&gt;();
    }

    @Override
    public Object plugin(Object target) {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; Plugin.&lt;span style=&#34;color:#50fa7b&#34;&gt;wrap&lt;/span&gt;(target, &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;);
    }

    @Override
    public void setProperties(Properties properties) {

    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åˆ«å¿˜è®°åœ¨&lt;strong&gt;mybatis-config.xml&lt;/strong&gt;ä¸­é…ç½®pluginsï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;plugin&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;interceptor=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;cn.zhucongqi.interceptor.PageInterceptor&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç„¶åæµ‹è¯•ï¼ŒæˆåŠŸäº†ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆä¸‹é¢é—®é¢˜æ¥äº†ï¼Ÿè¿™Interceptoræ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ ç„¶åå°±å¼€å§‹æ‰“æ–­ç‚¹è·Ÿè¸ªå¦‚ä½•å®ç°çš„ï¼Œç„¶åä¸€æ­¥æ­¥å‘ç°äº†MyBatisè®¾è®¡çœŸçš„ç²¾å¦™å¾—å¾ˆå“Ÿã€‚&lt;/p&gt;

&lt;p&gt;æ­£å¼è¿›å…¥æ­£é¢˜ï¼Œæ¥è¯´è¯´Interceptorçš„å·¥ä½œåŸç†ã€‚&lt;/p&gt;

&lt;p&gt;Interceptorå­—é¢æ„æ€æ˜¯æ‹¦æˆªå™¨ï¼Œåœ¨å¾ˆå¤šå¾—å¾ˆæœ‰ç”¨åº”ç”¨ã€‚é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯åœ¨doä¸€ä»¶äº‹ä¹‹å‰å…ˆæ‹¦æˆªä¸€ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å†åšç‰©ç†åˆ†é¡µæ—¶ï¼Œæ‰æœ‰æœºä¼šå»å¹²é¢„ï¼Œå»æ‹¼æ¥SQLã€‚&lt;/p&gt;

&lt;p&gt;ä»MyBatis-config.xmlçš„é…ç½®æ–‡ä»¶æ¥çœ‹ï¼Œå…¶å±äºMyBatisçš„PluginèŒƒç•´ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ç ”ç©¶Pluginæˆä¸ºäº†é‡å¤´æˆã€‚&lt;/p&gt;

&lt;p&gt;ä»SqlSessionå…¥æ‰‹ï¼ŒopenSessionæ—¶åœ¨DefaultSqlSessionFactoryçš„ç§æœ‰æ–¹æ³•&lt;strong&gt;openSessionFromDataSource(ExecutorType execType, TransactionIsolationLevel level, boolean autoCommit)&lt;/strong&gt;ä¸­æœ‰è¿™æ ·ä¸€æ®µä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt; final Executor executor &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; configuration.&lt;span style=&#34;color:#50fa7b&#34;&gt;newExecutor&lt;/span&gt;(tx, execType);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ®µä»£ç æˆäº†ä¸€ä¸ªå¼€å¤´ã€‚å†æ·±å…¥å¡ä¸€ä¸‹newExecutorçš„å®ç°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public Executor newExecutor(Transaction transaction, ExecutorType executorType) {
	&lt;span style=&#34;color:#6272a4&#34;&gt;// ç¡®ä¿ExecutorTypeåˆæ³•
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    executorType &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; executorType &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt; defaultExecutorType &lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; executorType;
    executorType &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; executorType &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt; ExecutorType.&lt;span style=&#34;color:#50fa7b&#34;&gt;SIMPLE&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; executorType;
    Executor executor;
    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (ExecutorType.&lt;span style=&#34;color:#50fa7b&#34;&gt;BATCH&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; executorType) { &lt;span style=&#34;color:#6272a4&#34;&gt;// å¦‚æœæ˜¯Batchç±»å‹é€‰æ‹©BatchExecutor
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;      executor &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; BatchExecutor(&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;, transaction);
    } &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (ExecutorType.&lt;span style=&#34;color:#50fa7b&#34;&gt;REUSE&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; executorType) { &lt;span style=&#34;color:#6272a4&#34;&gt;// å¦‚æœæ˜¯Reuseç±»å‹é€‰æ‹©ReuseExecutor
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;      executor &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; ReuseExecutor(&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;, transaction);
    } &lt;span style=&#34;color:#ff79c6&#34;&gt;else&lt;/span&gt; {
      executor &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; SimpleExecutor(&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;, transaction);&lt;span style=&#34;color:#6272a4&#34;&gt;// å¦åˆ™æ˜¯é»˜è®¤çš„SimpleExecutor
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    }
    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (cacheEnabled) {
      executor &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; CachingExecutor(executor); &lt;span style=&#34;color:#6272a4&#34;&gt;// äºŒçº§ç¼“å­˜ï¼Œç”¨CachingExecutoråŒ…è£…ä¸€ä¸‹
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    }
    &lt;span style=&#34;color:#6272a4&#34;&gt;// è¿™é‡Œâ¬‡ï¸é‡è¦äº†
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    executor &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (Executor) interceptorChain.&lt;span style=&#34;color:#50fa7b&#34;&gt;pluginAll&lt;/span&gt;(executor);
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; executor;
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é‡ç‚¹å°±åœ¨è¿™é‡Œäº†&lt;code&gt;executor = (Executor) interceptorChain.pluginAll(executor);&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å†çœ‹çœ‹è¿™é‡Œåšäº†ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;  public Object pluginAll(Object target) {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; (Interceptor interceptor &lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; interceptors) {
      target &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; interceptor.&lt;span style=&#34;color:#50fa7b&#34;&gt;plugin&lt;/span&gt;(target);
    }
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; target;
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¥½åƒåˆæ‰¾åˆ°äº†ä¸€çº¿ç´¢ï¼Œè¿™ä¸ªçš„pluginæ–¹æ³•å’ŒPageInterceptorä¸­çš„pluginæ–¹æ³•å¾ˆåƒï¼Ÿçœ‹è°ƒç”¨å…³ç³»ï¼Œæœç„¶å°±æ˜¯å®ƒã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆPluginæˆäº†ä¸‹ä¸€ä¸ªçº¿ç´¢ã€‚ç„¶åå‘ç°Plugin implements InvocationHandlerï¼Œçœ‹æ¥Proxyäº†ã€‚å¾€ä¸‹èµ°ï¼Œå…ˆæ¥çœ‹çœ‹Plugin.wrapå…¶å®ç°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public static Object wrap(Object target, Interceptor interceptor) {
    Map&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt;, Set&amp;lt;Method&amp;gt;&amp;gt; signatureMap &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; getSignatureMap(interceptor);
    Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt; type &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; target.&lt;span style=&#34;color:#50fa7b&#34;&gt;getClass&lt;/span&gt;();
    Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt;[] interfaces &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; getAllInterfaces(type, signatureMap);
    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (interfaces.&lt;span style=&#34;color:#50fa7b&#34;&gt;length&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt; 0) {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; Proxy.&lt;span style=&#34;color:#50fa7b&#34;&gt;newProxyInstance&lt;/span&gt;(
          type.&lt;span style=&#34;color:#50fa7b&#34;&gt;getClassLoader&lt;/span&gt;(),
          interfaces,
          &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Plugin(target, interceptor, signatureMap));
    }
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; target;
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœç„¶å‘ç°äº†&lt;code&gt;Proxy.newProxyInstance&lt;/code&gt;ï¼Œè¿™å°±æ˜¯jdkåŠ¨æ€ä»£ç†äº†ã€‚é‚£ä¹ˆè¿™é‡Œçš„targetå°±æ˜¯interceptorChain.pluginAll(executor)ä¸­çš„executoräº†ã€‚é‚£ä¹ˆå¯¹åº”type.getClassLoader()å°±æ˜¯BatchExecutoræˆ–SimpleExecutoræˆ–ReuseExecutoræˆ–CachingExecutorçš„classloaderäº†ï¼Œé‚£ä¹ˆåœ¨è¿™é‡ŒåˆåŠ¨æ€åˆ›å»ºäº†ä¸€ä¸ªxxExecutorï¼Ÿç»§ç»­å¾€ä¸‹æ‰¾ç­”æ¡ˆã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ä¸ªwrapæ–¹æ³•ä¸­ï¼Œè¿˜æœ‰ä¸¤ä¸ªæœ¬åœ°æ–¹æ³•çš„è°ƒç”¨ä¸€ä¸ªæ˜¯getSignatureMapï¼Œä¸€ä¸ªæ˜¯getAllInterfacesã€‚å…ˆçœ‹çœ‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;private static Map&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt;, Set&amp;lt;Method&amp;gt;&amp;gt; getSignatureMap(Interceptor interceptor) {
    Intercepts interceptsAnnotation &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; interceptor.&lt;span style=&#34;color:#50fa7b&#34;&gt;getClass&lt;/span&gt;().&lt;span style=&#34;color:#50fa7b&#34;&gt;getAnnotation&lt;/span&gt;(Intercepts.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;);
    &lt;span style=&#34;color:#6272a4&#34;&gt;// issue #251
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (interceptsAnnotation &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;) {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; PluginException(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;No @Intercepts annotation was found in interceptor &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; interceptor.&lt;span style=&#34;color:#50fa7b&#34;&gt;getClass&lt;/span&gt;().&lt;span style=&#34;color:#50fa7b&#34;&gt;getName&lt;/span&gt;());
    }
    Signature[] sigs &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; interceptsAnnotation.&lt;span style=&#34;color:#50fa7b&#34;&gt;value&lt;/span&gt;();
    Map&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt;, Set&amp;lt;Method&amp;gt;&amp;gt; signatureMap &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; HashMap&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&amp;gt;&lt;/span&gt;();
    &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; (Signature sig &lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; sigs) {
      Set&amp;lt;Method&amp;gt; methods &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; signatureMap.&lt;span style=&#34;color:#50fa7b&#34;&gt;computeIfAbsent&lt;/span&gt;(sig.&lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;(), k &lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; HashSet&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&amp;gt;&lt;/span&gt;());
      &lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt; {
        Method method &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; sig.&lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;().&lt;span style=&#34;color:#50fa7b&#34;&gt;getMethod&lt;/span&gt;(sig.&lt;span style=&#34;color:#50fa7b&#34;&gt;method&lt;/span&gt;(), sig.&lt;span style=&#34;color:#50fa7b&#34;&gt;args&lt;/span&gt;());
        methods.&lt;span style=&#34;color:#50fa7b&#34;&gt;add&lt;/span&gt;(method);
      } &lt;span style=&#34;color:#ff79c6&#34;&gt;catch&lt;/span&gt; (NoSuchMethodException e) {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; PluginException(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Could not find method on &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; sig.&lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;() &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34; named &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; sig.&lt;span style=&#34;color:#50fa7b&#34;&gt;method&lt;/span&gt;() &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;. Cause: &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; e, e);
      }
    }
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; signatureMap;
  }

  private static Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt;[] getAllInterfaces(Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt; type, Map&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt;, Set&amp;lt;Method&amp;gt;&amp;gt; signatureMap) {
    Set&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&amp;gt;&lt;/span&gt; interfaces &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; HashSet&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&amp;gt;&lt;/span&gt;();
    &lt;span style=&#34;color:#ff79c6&#34;&gt;while&lt;/span&gt; (type &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;) {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; (Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt; c &lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; type.&lt;span style=&#34;color:#50fa7b&#34;&gt;getInterfaces&lt;/span&gt;()) {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (signatureMap.&lt;span style=&#34;color:#50fa7b&#34;&gt;containsKey&lt;/span&gt;(c)) {
          interfaces.&lt;span style=&#34;color:#50fa7b&#34;&gt;add&lt;/span&gt;(c);
        }
      }
      type &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; type.&lt;span style=&#34;color:#50fa7b&#34;&gt;getSuperclass&lt;/span&gt;();
    }
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; interfaces.&lt;span style=&#34;color:#50fa7b&#34;&gt;toArray&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Class&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt;[interfaces.&lt;span style=&#34;color:#50fa7b&#34;&gt;size&lt;/span&gt;()]);
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»ä»£ç å®ç°æ¥çœ‹ï¼Œæ˜¯æ ¹æ®Interceptsçš„æ³¨è§£æ¥è·å–å¯¹åº”çš„Signatureå’ŒMethodä¿¡æ¯ï¼Œæœç„¶åœ¨PagerInterceptorçš„classä¸Šæœ‰è¿™æ ·çš„ä¸€ä¸ªæ³¨è§£ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;@Intercepts({@Signature(type &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; Executor.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;, method &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;, args &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {MappedStatement.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;, Object.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;, RowBounds.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;, ResultHandler.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;})})&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»“åˆgetSignatureMapå’ŒgetAllInterfacesä¸¤ä¸ªæ–¹æ³•ï¼Œçœ‹åˆ°ç›®çš„æ˜¯ä¸ºäº†æ‰¾åˆ°Executor.classçš„ä¸€ä¸ªqueryæ–¹æ³•ï¼Œå…¶å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;query(MappedStatement ms, Object obj, RowBounds rowBounds, ResultHandler resultHandler);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åŸæ¥è¶Šæ¥è¿‘çœŸç›¸å’¯ã€‚è¿™ä¸ªæ–¹æ³•åœ¨Executoræ¥å£ä¸­çš„ç¡®æœ‰å¯¹åº”çš„å£°æ˜ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;E&amp;gt; List&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;E&amp;gt; query(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler) throws SQLException;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶åœ¨å„ä¸ªExecutorä¹Ÿæœ‰å¯¹åº”çš„å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;è§£å¼€çœŸç›¸å‰ï¼Œå†çœ‹çœ‹Pluginçš„invokeæ–¹æ³•å®ç°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt; {
      Set&amp;lt;Method&amp;gt; methods &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; signatureMap.&lt;span style=&#34;color:#50fa7b&#34;&gt;get&lt;/span&gt;(method.&lt;span style=&#34;color:#50fa7b&#34;&gt;getDeclaringClass&lt;/span&gt;());
      &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (methods &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; methods.&lt;span style=&#34;color:#50fa7b&#34;&gt;contains&lt;/span&gt;(method)) {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; interceptor.&lt;span style=&#34;color:#50fa7b&#34;&gt;intercept&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Invocation(target, method, args));
      }
      &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; method.&lt;span style=&#34;color:#50fa7b&#34;&gt;invoke&lt;/span&gt;(target, args);
    } &lt;span style=&#34;color:#ff79c6&#34;&gt;catch&lt;/span&gt; (Exception e) {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;throw&lt;/span&gt; ExceptionUtil.&lt;span style=&#34;color:#50fa7b&#34;&gt;unwrapThrowable&lt;/span&gt;(e);
    }
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é‚£ä¹ˆçœŸç›¸å°±æ¥å’¯ã€‚è·¯å¾„æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;1. openSessionæ—¶ï¼Œåœ¨DefaultSqlSessionFactoryä¸­æ ¹æ®executorTypeè·å–å¯¹åº”çš„Executorï¼›&lt;/li&gt;
&lt;li&gt;2. å¦‚æœæœ‰é…ç½®Pluginï¼Œé‚£ä¹ˆexecutor = (Executor) interceptorChain.pluginAll(executor);å°±ä¼šå·¥ä½œï¼Œä¼šåœ¨åˆ›å»ºå¥½å¯¹åº”çš„Executoråï¼Œåœ¨ä½¿ç”¨Pluginçš„wrapæ–¹æ³•wrapä¸€ä¸‹ï¼Œå…¶å®å°±æ˜¯è·å–å…¶Interceptsæ³¨è§£çš„Signatureï¼Œä»¥æ­¤è·å–å¯¹åº”çš„Methodï¼›&lt;/li&gt;
&lt;li&gt;3. æ ¹æ®Executorâ€”â€”targetçš„typeå’Œå¯¹åº”çš„Interfacesï¼Œä½¿ç”¨jdkçš„åŠ¨æ€ä»£ç†ç”Ÿæˆä¸€ä¸ªæ–°çš„Executorï¼›&lt;/li&gt;
&lt;li&gt;4. åŠ¨æ€ç”Ÿæˆäº†æ–°çš„Executorï¼Œé‚£ä¹ˆmapperè°ƒç”¨æ—¶ä¼šè§¦å‘å®ƒçš„ä»»æ„æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šè§¦å‘å¯¹åº”çš„InnovationHandlerä¹Ÿå°±Pluginçš„invokeæ–¹æ³•ï¼›&lt;/li&gt;
&lt;li&gt;5. åœ¨invokeæ–¹æ³•ä¸­ï¼Œæ ¹æ®å¯¹åº”çš„æœ‰@Interceptsæ³¨è§£çš„Interceptorçš„SignatureMapå’Œå½“å‰è°ƒç”¨çš„methodæ¥åˆ¤æ–­ï¼Œå°†ä¸Interceptsçš„Signatureå¯¹åº”çš„æ–¹æ³•è°ƒç”¨è¿›è¡Œ&lt;strong&gt;æ‹¦æˆª&lt;/strong&gt;â€”â€”è°ƒç”¨Interceptorçš„interceptæ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é‚£ä¹ˆåœ¨PageInterceptorä¸­ï¼Œå°±æ˜¯Executorè°ƒåŠ¨query(MappedStatement ms, Object obj, RowBounds rowBounds, ResultHandler resultHandler)&lt;strong&gt;å‰&lt;/strong&gt;å°±ä¼šå…ˆè°ƒç”¨PageInterceptorçš„interceptæ–¹æ³•ï¼Œä»è€Œå®ç°å¯¹æ“ä½œçš„æ‹¦æˆªã€‚&lt;/p&gt;

&lt;p&gt;æå®šï¼ï¼ï¼&lt;/p&gt;

&lt;p&gt;ref: &lt;a href=&#34;https://pagehelper.github.io/docs/interceptor/&#34;&gt;https://pagehelper.github.io/docs/interceptor/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;2019.12.10æ›´æ–°&lt;/p&gt;

&lt;p&gt;åœ¨æ‹¦æˆªç›¸ä¼¼æ–¹æ³•ï¼Œä»…å‚æ•°åˆ—è¡¨ä¸ä¸€æ ·çš„interceptoræ—¶ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;E&amp;gt; List&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;E&amp;gt; query(
      MappedStatement ms,
      Object parameter,
      RowBounds rowBounds,
      ResultHandler resultHandler,
      CacheKey cacheKey,
      BoundSql boundSql) throws SQLException;

&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;E&amp;gt; List&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;E&amp;gt; query(
      MappedStatement ms,
      Object parameter,
      RowBounds rowBounds,
      ResultHandler resultHandler) throws SQLException;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;éœ€è¦æ³¨æ„æ’ä»¶é…ç½®é¡ºåºï¼šæŒ‰ç…§å‚æ•°æ•°é‡ï¼Œå€’åºåœ¨MyBatis-config.xmlä¸­é…ç½®ï¼Œè¿™æ ·èƒ½ç¡®ä¿ï¼Œæ¯ä¸€ä¸ªinterceptoréƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚å› ä¸ºå¯¹åº”ä¸åŒçš„å‚æ•°çš„æ–¹æ³•ï¼Œåœ¨æ‹¦æˆªæ—¶ï¼Œå¯¹åº”çš„è°ƒç”¨é¡ºåºä¼šè¢«æ‰“ä¹±ï¼Œå¯¼è‡´éƒ¨åˆ†æ‹¦æˆªæ— æ³•å·¥ä½œã€‚æ¯”å¦‚queryæ‹¦æˆªï¼Œç›´æ¥è°ƒç”¨äº†queryçš„6å‚æ–¹æ³•ï¼Œé‚£ä¹ˆå¯¹4å‚çš„æ–¹æ³•æ‹¦æˆªå°±ä¸èƒ½ç”Ÿæ•ˆâ€”â€”å› ä¸ºè·³è¿‡äº†4å‚æ–¹æ³•çš„è°ƒç”¨ã€‚æ‰€ä»¥æŒ‰ç…§å‚æ•°æ•°é‡å€’åºé…ç½®ï¼Œæ‰§è¡Œæ—¶ä¼šæŒ‰ç…§å‚æ•°æ•°é‡ä»å°‘åˆ°å¤šçš„é¡ºåºæ‰§è¡Œï¼Œä¿è¯æ¯ä¸ªinterceptoréƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚&lt;/p&gt;
</description>
     </item>
   
     <item>
       <title>å¿«é€Ÿçš„ç”Ÿæˆä½ éœ€è¦çš„.gitignoreæ–‡ä»¶</title>
       <link>https://izcqi.com/posts/2019/12/08/generate-gitigore-file/</link>
       <pubDate>Sun, 08 Dec 2019 01:02:50 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2019/12/08/generate-gitigore-file/</guid>
       <description>

&lt;h3 id=&#34;æ€æ ·åœ¨é¡¹ç›®ä¸­å¿«é€Ÿçš„ç”Ÿæˆ-gitignoreæ–‡ä»¶å‘¢&#34;&gt;æ€æ ·åœ¨é¡¹ç›®ä¸­å¿«é€Ÿçš„ç”Ÿæˆ.gitignoreæ–‡ä»¶å‘¢ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨gitè¿‡ç¨‹ä¸­ï¼Œé‡è§†éœ€è¦åŠ å…¥gitignoreå¿½ç•¥æ–‡ä»¶æŠŠé¡¹ç›®ä¸­ä¸å¿…è¦çš„æ–‡ä»¶å¿½ç•¥æ‰ã€‚ä½†æ˜¯æ¯æ¬¡éƒ½æ‹·è´ä¹‹å‰æ—§çš„æ–‡ä»¶å¾ˆä¸æ–¹ä¾¿ã€‚è€Œä¸”ï¼Œé’ˆå¯¹ä¸åŒçš„ç¯å¢ƒï¼Œä¸åŒçš„ç¨‹åºè¯­è¨€ï¼Œä½¿ç”¨çš„å¿½ç•¥æ–‡ä»¶å¯èƒ½è¿˜ä¸ä¸€æ ·ï¼Œå¦‚ä½•å¿«é€Ÿçš„ç”Ÿæˆå¯¹åº”çš„ ignore æ–‡ä»¶å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;psï¼šå› ä¸ºæˆ‘åœ¨ mac å¹³å°ï¼Œæˆ‘å°±ä»¥ mac å¹³å°ä¸¾ä¾‹äº†ã€‚&lt;/p&gt;

&lt;h3 id=&#34;gitignore-io-å¸®åŠ©å®Œæˆignoreæ–‡ä»¶çš„è‡ªåŠ¨åŒ–ç”Ÿæˆ&#34;&gt;gitignore.io å¸®åŠ©å®Œæˆignoreæ–‡ä»¶çš„è‡ªåŠ¨åŒ–ç”Ÿæˆ&lt;/h3&gt;

&lt;p&gt;åœ¨Terminalä¸­æ‰§è¡Œå¦‚ä¸‹æ“ä½œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;function gi() { curl -sL https://www.gitignore.io/api/\$@ ;}&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;~/.bash_profile &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;source&lt;/span&gt; ~/.bash_profile&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;ä½¿ç”¨ä¸¾ä¾‹&#34;&gt;ä½¿ç”¨ä¸¾ä¾‹&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;éœ€è¦macOSä¸‹ä½¿ç”¨Idea(intellij)ã€Mavenå¼€å‘ Javaçš„ignoreï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼ˆ.git æ–‡ä»¶å¤¹æ‰€åœ¨ç›®å½•ï¼‰æ‰§è¡Œå¦‚ä¸‹æ“ä½œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;gi java,macos,maven,intellij &amp;gt;&amp;gt; .gitignore&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;éœ€è¦ macOSä¸‹ä½¿ç”¨XCode,Objective-Cå¼€å‘Appçš„ignore&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;gi macos,xcode,objective-c &amp;gt;&amp;gt; .gitignore&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ç‰¹åˆ«æ³¨æ„ï¼š&lt;strong&gt;giä½¿ç”¨æ—¶ï¼Œå‡ä¸ºå°å†™&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ›´å¤šæŸ¥çœ‹è¿™é‡Œ &lt;a href=&#34;https://docs.gitignore.io/install/command-line&#34;&gt;https://docs.gitignore.io/install/command-line&lt;/a&gt;&lt;/p&gt;
</description>
     </item>
   
     <item>
       <title>è½¯ä»¶è®¾è®¡åŸåˆ™åŠå¸¸ç”¨è®¾è®¡æ¨¡å¼</title>
       <link>https://izcqi.com/posts/2019/12/03/design-principles-patterns-summary/</link>
       <pubDate>Tue, 03 Dec 2019 22:48:20 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2019/12/03/design-principles-patterns-summary/</guid>
       <description>

&lt;h1 id=&#34;è½¯ä»¶è®¾è®¡åŸåˆ™&#34;&gt;è½¯ä»¶è®¾è®¡åŸåˆ™&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;å¼€é—­åŸåˆ™ Open-Closed Principle, OCP&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;è½¯ä»¶å®ä½“å¦‚ç±»ã€æ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚ æ‰€è°“çš„å¼€é—­ï¼Œä¹Ÿæ­£æ˜¯å¯¹æ‰©å±•å’Œä¿®æ”¹ä¸¤ä¸ªè¡Œä¸ºçš„ä¸€ä¸ªåŸåˆ™ã€‚&lt;strong&gt;ç”¨æŠ½è±¡æ„å»ºæ¡†æ¶ï¼Œç”¨å®ç°æ‰©å±•ç»†èŠ‚ã€‚&lt;/strong&gt;å¯æé«˜è½¯ä»¶ç³»ç»Ÿçš„å¯å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;å•ä¸€èŒè´£åŸåˆ™ Simple Responsibility Principleï¼ŒSRP&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;ä¸è¦å­˜åœ¨å¤šäºä¸€ä¸ªå¯¼è‡´ç±»å˜æ›´çš„åŸå› ã€‚å¦‚æœ‰ä¸€ä¸ª Class è´Ÿè´£ä¸¤ä¸ªèŒè´£ï¼Œä¸€æ—¦å‘ç”Ÿéœ€æ±‚å˜åŒ–ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªèŒè´£çš„é€»è¾‘ä»£ç ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´å¦ä¸€ä¸ªèŒè´£çš„åŠŸèƒ½å‘ç”Ÿæ•…éšœâ€”â€”è¿™ä¸ª Class å°±å­˜åœ¨äº†ä¸¤ä¸ªå¯¼è‡´ç±»å˜æ›´çš„å› ç´ ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦ç»™ä¸¤ä¸ªèŒè´£åˆ†åˆ«ç”¨ä¸¤ä¸ª Class æ¥å®ç°ï¼Œå®ç°è§£è€¦èŒè´£çš„æ¸…æ™°æ‹†åˆ†ã€‚åæœŸçš„éœ€è¦å˜æ›´ç»´æŠ¤äº’ä¸å½±å“ã€‚å¦‚æ­¤è®¾è®¡ï¼Œå¯é™ä½ç±»çš„å¤æ‚åº¦ï¼Œæé«˜ç±»çš„å¯è¯»æ€§ï¼Œæé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ï¼Œé™ä½å˜æ›´å¼•èµ·çš„é£é™©ã€‚&lt;strong&gt;ä¸€ä¸ª Class/Interface/Methodåªè´Ÿè´£ä¸€é¡¹èŒèƒ½.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;ä¾èµ–å€’ç½®åŸåˆ™ Dependence Inversion Principleï¼ŒDIP&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;è®¾è®¡ä»£ç ç»“æ„æ—¶ï¼Œé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–åº•å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥æ˜¯ä¾èµ–å…¶æŠ½è±¡ã€‚&lt;strong&gt;æŠ½è±¡ä¸åº”ä¾èµ–ç»†èŠ‚ï¼›ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚&lt;/strong&gt;é€šè¿‡ä¾èµ–å€’ç½®ï¼Œå¯å‡å°‘ç±»ä¸ç±»çš„è€¦åˆæ€§ï¼Œæé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå¹¶å¯ä»¥é™ä½ä¿®æ”¹ç¨‹åºæ‰€é€ æˆçš„é£é™©ã€‚ã€&lt;strong&gt;ä¾èµ–æ³¨å…¥&lt;/strong&gt;ã€‘&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;æ¥å£éš”ç¦»åŸåˆ™ Interface Segregation Principleï¼ŒISP&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£ï¼Œè€Œä¸æ˜¯ç”¨ä¸€ä¸ªå•ä¸€çš„æ€»æ¥å£ï¼Œå®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ã€‚ç¬¦åˆ &lt;strong&gt;é«˜å†…èšä½è€¦åˆ&lt;/strong&gt;ï¼Œä½¿å¾—ç±»å…·æœ‰å¾ˆå¥½çš„å¯è¯»æ€§ã€å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
è®¾è®¡æ—¶åº”æ³¨æ„&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªç±»å¯¹ä¸€ç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¹‹ä¸Šï¼›&lt;/li&gt;
&lt;li&gt;å»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹ç‚®æ‰“è‡ƒè‚¿çš„æ¥å£ï¼›&lt;/li&gt;
&lt;li&gt;å°½é‡ç»†åŒ–æ¥å£ï¼Œæ¥å£ä¸­çš„æ–¹æ³•å°½é‡å°‘ï¼ˆä¸æ˜¯è¶Šå°‘è¶Šå¥½ï¼Œé€‚åº¦ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;è¿ªç±³ç‰¹æ³•åˆ™ Law of Demeter ï¼ŒLoD / æœ€å°‘çŸ¥é“åŸåˆ™ï¼ˆLeast Knowledge Principleï¼ŒLKPï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£ã€‚å°½é‡é™ä½ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆã€‚&lt;strong&gt;ä¸»è¦å¼ºè°ƒåªå’Œæœ‹å‹äº¤æµï¼Œä¸å’Œé™Œç”Ÿäººè¯´è¯ã€‚&lt;/strong&gt;å‡ºç°åœ¨æˆå‘˜å˜é‡ã€æ–¹æ³•çš„è¾“å…¥ã€è¾“å‡ºå‚æ•°ä¸­çš„ç±»éƒ½å¯ä»¥ç§°ä¹‹ä¸ºæˆå‘˜æœ‹å‹ç±»ï¼Œè€Œå‡ºç°åœ¨æ–¹æ³•ä½“å†…éƒ¨çš„ç±»ä¸å±äºæœ‹å‹ç±»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;é‡Œæ°æ›¿æ¢åŸåˆ™ Liskov Substitution Principleï¼ŒLSP&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚æœæ¯ä¸€ä¸ªç±»å‹ä¸º T1 çš„å¯¹è±¡ o1éƒ½æœ‰ç±»å‹ä¸º T2 çš„å¯¹åº” o2ï¼Œä½¿ç”¨ä»¥ T1 å®šä¹‰çš„æ‰€æœ‰ç¨‹åº P åœ¨æ‰€æœ‰çš„å¯¹è±¡ o1éƒ½æ›¿æ¢æˆ o2 æ—¶ï¼Œç¨‹åº P çš„è¡Œä¸ºæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç±»å‹ T2 æ˜¯ç±»å‹ T1 çš„å­ç±»ã€‚
ä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚æœé€‚ç”¨äºä¸€ä¸ªçˆ¶ç±»çš„è¯ï¼Œé‚£ä¹ˆä¸€å®šé€‚ç”¨äºå…¶å­ç±»ï¼Œæ‰€æœ‰å¼•ç”¨çˆ¶ç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡ï¼Œå­ç±»å¯¹è±¡èƒ½å¤Ÿæ›¿æ¢çˆ¶ç±»å¯¹è±¡ï¼Œè€Œä¸å½±å“ç¨‹åºåŸæ¥çš„é€»è¾‘ã€‚&lt;strong&gt;å­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜çˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;å­ç±»å¯ä»¥å®ç°çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ï¼Œä½†ä¸èƒ½è¦†ç›–çˆ¶ç±»çš„éæŠ½è±¡æ–¹æ³•ï¼›&lt;/li&gt;
&lt;li&gt;å­ç±»ä¸­å¯ä»¥å¢åŠ è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ï¼›&lt;/li&gt;
&lt;li&gt;å½“å­ç±»çš„æ–¹æ³•é‡è½½Overloadingçˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•çš„å‰ç½®æ¡ä»¶ï¼ˆå³æ–¹æ³•çš„è¾“å…¥/å…¥å‚ï¼‰è¦æ¯”çˆ¶ç±»æ–¹æ³•çš„è¾“å…¥å‚æ•°æ›´å®½æ¾ï¼›&lt;/li&gt;
&lt;li&gt;å½“å­ç±»çš„æ–¹æ³•å®ç°çˆ¶ç±»çš„æ–¹å¼æ—¶ï¼ˆé‡å†™ Override/é‡è½½ Overloading æˆ–å®ç°æŠ½è±¡æ–¹æ³•ï¼‰ï¼Œæ–¹æ³•çš„åç½®æ¡ä»¶ï¼ˆå³æ–¹æ³•çš„è¾“å‡º/è¿”å›å€¼ï¼‰è¦æ¯”çˆ¶ç±»æ›´ä¸¥æ ¼æˆ–ç›¸ç­‰ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;æŸç§æƒ…å†µä¸‹ä¼šè¿èƒŒå¼€é—­åŸåˆ™ã€‚&lt;/strong&gt;
è¯¥åŸåˆ™çš„ä¼˜ç‚¹ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;çº¦æŸç»§æ‰¿æ³›æ»¥ï¼Œå¼€é—­åŸåˆ™çš„ä¸€ç§ä½“ç°ï¼›&lt;/li&gt;
&lt;li&gt;åŠ å¼ºç¨‹åºçš„å¥å£®æ€§ï¼ŒåŒæ—¶å˜æ›´æ—¶ä¹Ÿå¯ä»¥åšåˆ°éå¸¸å¥½çš„å…¼å®¹æ€§ï¼Œæé«˜ç¨‹åºçš„ç»´æŠ¤æ€§ã€æ‰©å±•æ€§ï¼Œé™ä½éœ€è¦å˜æ›´æ—¶å¼•å…¥çš„é£é™©ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;åˆæˆå¤ç”¨åŸåˆ™ Composite/Aggregate Reuse Principleï¼ŒCARP&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;å°½é‡ä½¿ç”¨å¯¹è±¡ç»„åˆï¼ˆHas-aï¼‰/èšåˆï¼ˆContain-aï¼‰ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å…³ç³»è¾¾åˆ°è½¯ä»¶å¤ç”¨çš„ç›®çš„ã€‚å¯ä»¥ä½¿ç”¨ç³»ç»Ÿæ›´åŠ çµæ´»ï¼Œé™ä½ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä¸€ä¸ªç±»çš„å˜åŒ–å¯¹å…¶ä»–ç±»é€ æˆçš„å½±å“ç›¸å¯¹è¾ƒå°‘ã€‚&lt;strong&gt;ç»§æ‰¿ï¼šç™½ç®±å¤ç”¨&lt;/strong&gt;ï¼Œç›¸å½“äºæŠŠæ‰€æœ‰çš„å®ç°ç»†èŠ‚æš´éœ²ç»™å­ç±»ã€‚&lt;strong&gt;ç»„åˆ/èšåˆï¼šé»‘ç®±å¤ç”¨&lt;/strong&gt;ï¼Œå¯¹ç±»ä»¥å¤–çš„å¯¹è±¡æ˜¯æ— æ³•è·å–åˆ°å…¶å®ç°ç»†èŠ‚çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;è®¾è®¡åŸåˆ™æ€»ç»“&#34;&gt;è®¾è®¡åŸåˆ™æ€»ç»“&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¹¶ä¸æ˜¯ä¸€å®šè¦æ±‚æ‰€æœ‰ä»£ç éƒ½éµå¾ªè®¾è®¡åŸåˆ™ï¼Œè¦åœ¨é€‚å½“çš„åœºæ™¯éµå¾ªè®¾è®¡åŸåˆ™ï¼Œä½“ç°ä¸€ç§å¹³è¡¡å–èˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&#34;è®¾è®¡æ¨¡å¼&#34;&gt;è®¾è®¡æ¨¡å¼&lt;/h1&gt;

&lt;h2 id=&#34;å·¥å‚æ¨¡å¼&#34;&gt;å·¥å‚æ¨¡å¼&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç®€å•å·¥å‚æ¨¡å¼ Simple Factory Pattern&lt;/strong&gt;

&lt;ul&gt;
&lt;li&gt;ç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªä¸€ç§äº§å“ç±»çš„å®ä¾‹ï¼›&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå‹æ¨¡å¼ï¼Œä¸å±äº GOF(The authors Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides are often referred to as the GoF, or Gang of Four.)23 ä¸­è®¾è®¡æ¨¡å¼ï¼›&lt;/li&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯ï¼š

&lt;ul&gt;
&lt;li&gt;å·¥å‚ç±»è´Ÿè´£åˆ›å»ºçš„å¯¹è±¡è¾ƒå°‘ï¼›&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯åªéœ€è¦ä¼ å…¥å·¥å‚ç±»çš„å‚æ•°ï¼Œå¯¹åº”å¦‚ä½•åˆ›å»ºå¯¹è±¡çš„é€»è¾‘ä¸éœ€è¦å…³ç³»ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;åªéœ€ä¼ å…¥ä¸€ä¸ªæ­£ç¡®çš„å‚æ•°ï¼Œå°±å¯ä»¥è·å–ä½ æ‰€éœ€è¦çš„å¯¹åº”ï¼Œæ— é¡»çŸ¥é“å…¶åˆ›å»ºçš„ç»†èŠ‚ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;å·¥å‚ç±»èŒè´£è¿‡é‡ï¼Œå¢åŠ æ–°çš„äº§å“æ—¶éœ€è¦ä¿®æ”¹å·¥å‚ç±»çš„åˆ¤æ–­é€»è¾‘ï¼Œè¿èƒŒå¼€é—­åŸåˆ™ï¼›&lt;/li&gt;
&lt;li&gt;ä¸æ˜“äºæ‰©å±•è¿‡äºå¤æ‚çš„äº§å“ç»“æ„ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;eg:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;Logger.&lt;span style=&#34;color:#50fa7b&#34;&gt;getLogger&lt;/span&gt;(ClassName)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å·¥å‚æ–¹æ³•æ¨¡å¼ Factory Method Pattern&lt;/strong&gt;

&lt;ul&gt;
&lt;li&gt;å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å®ç°è¿™ä¸ªæ¥å£çš„ç±»è‡ªå·±æ¥å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ï¼Œå·¥å‚æ–¹æ³•è®©ç±»çš„å®ä¾‹åŒ–æ¨è¿Ÿåˆ°åˆ°å­ç±»ä¸­è¿›è¡Œï¼›&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå‹æ¨¡å¼ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åœºæ™¯ï¼š

&lt;ul&gt;
&lt;li&gt;åˆ›å»ºå¯¹è±¡éœ€è¦å¤§é‡é‡å¤çš„ä»£ç ï¼›&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ï¼ˆåº”ç”¨å±‚ï¼‰ä¸ä¾èµ–äº§å“ç±»å®ä¾‹å¦‚ä½•åˆ›å»ºã€å®ç°ç­‰ç»†èŠ‚ï¼›&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªç±»é€šè¿‡å…¶å­ç±»æ¥æŒ‡å®šåˆ›å»ºå“ªä¸ªå¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·åªéœ€è¦ç®¡ç†æ‰€éœ€äº§å“å¯¹åº”çš„å·¥å‚ï¼Œæ— é¡»å…³å¿ƒåˆ›å»ºç»†èŠ‚ï¼›&lt;/li&gt;
&lt;li&gt;åŠ å…¥æ–°çš„äº§å“ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;ç±»çš„ä¸ªäººæ˜“å˜å¾—è¿‡å¤šï¼Œå¢åŠ äº†ä»£ç ç»“æ„çš„å¤æ‚åº¦ï¼›&lt;/li&gt;
&lt;li&gt;å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;VS &lt;strong&gt;ç®€å•å·¥å‚æ¨¡å¼&lt;/strong&gt;ï¼Œéµå¾ªå¼€é—­åŸåˆ™ï¼Œå¢åŠ æ–°çš„äº§å“æ—¶ï¼Œæœ‰å¯¹åº”çš„äº§å“çš„å­å·¥å‚å»å®Œæˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŠ½è±¡å·¥ç¨‹æ¨¡å¼ Abstract Factory Pattern&lt;/strong&gt;

&lt;ul&gt;
&lt;li&gt;æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œæ— é¡»æŒ‡å®šä»–ä»¬çš„å…·ä½“çš„ç±»ï¼›&lt;strong&gt;(åœ¨è®¾è®¡è§„åˆ™æ—¶ï¼Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘éƒ½è¿˜æœªç¡®å®šçš„æƒ…å†µï¼Œå…·ä½“å®ç°ä¾é å·¥å‚ï¼Œé«˜åº¦æŠ½è±¡çš„å·¥å‚)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯ï¼š

&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯ï¼ˆåº”ç”¨å±‚ï¼‰ä¸ä¾èµ–äº§å“ç±»å®ç°å¦‚ä½•è¢«åˆ›å»ºã€å®ç°ç­‰ç»†èŠ‚ï¼›&lt;strong&gt;ï¼ˆä¸å·¥å‚æ–¹æ³•æ¨¡å¼æœ‰ç›¸åŒå¤„ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¼ºè°ƒä¸€ç³»åˆ—ç›¸å…³çš„äº§å“å¯¹è±¡ï¼ˆå±äºåŒä¸€äº§å“æ—ï¼‰ä¸€èµ·ä½¿ç”¨åˆ›å»ºå¯¹è±¡éœ€è¦å¤§é‡é‡å¤çš„ä»£ç ï¼›&lt;/li&gt;
&lt;li&gt;æä¾›ä¸€ä¸ªäº§å“ç±»çš„åº“ï¼Œæ‰€æœ‰äº§å“ä»¥åŒæ ·çš„æ¥å£å‡ºç°ï¼Œä»è€Œä½¿å®¢æˆ·ç«¯ä¸ä¾èµ–äºå…·ä½“å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;å…·ä½“äº§å“åœ¨åº”ç”¨å±‚ä»£ç éš”ç¦»ï¼Œæ— é¡»å…³å¿ƒåˆ›å»ºç»†èŠ‚ï¼›&lt;/li&gt;
&lt;li&gt;å°†ä¸€ä¸ªç³»åˆ—çš„äº§å“æ—ç»Ÿä¸€åˆ°ä¸€èµ·åˆ›å»ºã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;è§„å®šäº†æ‰€æœ‰å¯èƒ½è¢«åˆ›å»ºçš„äº§å“é›†åˆï¼Œäº§å“æ—ä¸­æ‰©å±•æ–°çš„äº§å“å›°éš¾ï¼Œéœ€è¦ä¿®æ”¹æŠ½è±¡å·¥å‚çš„æ¥å£ï¼›&lt;/li&gt;
&lt;li&gt;å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ï¼›&lt;strong&gt;ï¼ˆä¸å·¥å‚æ–¹æ³•æ¨¡å¼æœ‰ç›¸åŒå¤„ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œé¡¶çº§å·¥å‚åœ¨æ–°å¢äº§å“æ—¶ï¼Œéœ€è¦ä¿®æ”¹å…¶å®ç°ï¼Œè€Œè¿™æ ·ä¿®æ”¹ä¼šå½±å“å­å·¥å‚çš„å˜åŠ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;å•ä¾‹æ¨¡å¼-singleton-pattern&#34;&gt;å•ä¾‹æ¨¡å¼ Singleton Pattern&lt;/h2&gt;

&lt;p&gt;ç‚¹å‡»æŸ¥çœ‹ &amp;gt;&amp;gt; &lt;a href=&#34;https://izcqi.com/posts/201912/02/design-patterns-singleton/&#34;&gt;å•ä¾‹æ¨¡å¼&lt;/a&gt; &amp;lt;&amp;lt;&lt;/p&gt;

&lt;h2 id=&#34;åŸå‹æ¨¡å¼prototype-pattern&#34;&gt;åŸå‹æ¨¡å¼Prototype Pattern&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œé€šè¿‡é è°±è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡&lt;/li&gt;
&lt;li&gt;è°ƒç”¨è€…æ— é¡»çŸ¥é“ä»»ä½•åˆ›å»ºç»†èŠ‚ï¼Œä¸ç”¨è°ƒç”¨æ„é€ å‡½æ•°&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå‹æ¨¡å¼&lt;/li&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯

&lt;ul&gt;
&lt;li&gt;ç±»åˆå§‹åŒ–æ¶ˆè€—èµ„æºè¾ƒå¤š&lt;/li&gt;
&lt;li&gt;newäº§ç”Ÿçš„ä¸€ä¸ªå¯¹è±¡éœ€è¦ç¹ççš„è¿‡ç¨‹ï¼ˆæ•°æ®å‡†å¤‡ï¼Œè®¿é—®æƒé™ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;æ„é€ å‡½æ•°è¾ƒå¤æ‚&lt;/li&gt;
&lt;li&gt;å¾ªç¯ä½“ä¸­ç”Ÿäº§å¤§é‡å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ä»£ç†æ¨¡å¼-proxy-pattern&#34;&gt;ä»£ç†æ¨¡å¼ Proxy Pattern&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;é€ æˆç³»ç»Ÿè®¾è®¡ä¸­ç±»çš„æ•°ç›®å¢åŠ &lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ä¸ç›®æ ‡å¯¹è±¡ï¼ˆå§”æ‰˜ç±»ï¼‰ä¹‹é—´åŠ äº†ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼ˆä»£ç†ç±»ï¼‰ï¼Œé€ æˆè¯·æ±‚å¤„ç†é€Ÿåº¦å˜æ…¢&lt;/li&gt;
&lt;li&gt;å¢åŠ ç³»ç»Ÿçš„å¤æ‚åº¦&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;å§”æ´¾æ¨¡å¼-delegate-pattern&#34;&gt;å§”æ´¾æ¨¡å¼ Delegate Pattern&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ç²¾ç®€ç¨‹åºé€»è¾‘ï¼Œæå‡ä»£ç å¯è¯»æ€§&lt;/li&gt;
&lt;li&gt;å…¨æƒé™æ€ä»£ç†&lt;/li&gt;
&lt;li&gt;ä¸å±äº GOF23 ä¹‹ä¸€&lt;/li&gt;
&lt;li&gt;è¡Œä¸ºå‹æ¨¡å¼&lt;/li&gt;
&lt;li&gt;å‘½åå«ï¼šDelegateæˆ–Dispatcher&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;eg:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;HttpServlet&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;ç­–ç•¥æ¨¡å¼-strategy-pattern&#34;&gt;ç­–ç•¥æ¨¡å¼ Strategy Pattern&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;å®šä¹‰äº†ç®—æ³•å®¶æ—ã€åˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©å®ƒä»¬ä¹‹é—´å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œæ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°ä½¿ç”¨ç®—æ³•çš„ç”¨æˆ·ï¼›&lt;/li&gt;
&lt;li&gt;æ¶ˆé™¤ç¨‹åºä¸­å¤§é‡çš„if&amp;hellip;else&amp;hellip; å’Œswitchè¯­å¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æä¾›ç»™ç”¨æˆ·é€‰æ‹©ï¼Œå…³å¿ƒçš„æ˜¯ç»“æœï¼Œä¸èƒ½å¹²é¢„é€»è¾‘å’Œæµç¨‹ï¼Œåªæœ‰é€‰æ‹©æƒå’Œå¹²é¢„æƒã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;ç¬¦åˆå¼€é—­åŸåˆ™ï¼›&lt;/li&gt;
&lt;li&gt;é¿å…ä½¿ç”¨å¤šé‡æ¡ä»¶è½¬ç§»åŸä»¶ï¼Œif&amp;hellip;else&amp;hellip;è¯­å¥ã€switch è¯­å¥ ï¼›&lt;/li&gt;
&lt;li&gt;æé«˜ç®—æ³•çš„ä¿å¯†æ€§å’Œå®‰å…¨æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯å¿…é¡»çŸ¥é“æ‰€æœ‰çš„ç­–ç•¥ï¼Œå¹¶ä¸”è‡ªè¡Œå†³å®šä½¿ç”¨å“ªä¸€ä¸ªç­–ç•¥ç±»ï¼›&lt;/li&gt;
&lt;li&gt;ä»£ç ä¸­ä¼šäº§ç”Ÿéå¸¸å¤šç­–ç•¥ç±»ï¼Œå¢åŠ ç»´æŠ¤éš¾åº¦ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;æ¨¡æ¿æ¨¡å¼-template-pattern-æ¨¡æ¿æ–¹æ³•æ¨¡å¼template-method-pattern&#34;&gt;æ¨¡æ¿æ¨¡å¼ Template Pattern/æ¨¡æ¿æ–¹æ³•æ¨¡å¼Template Method Pattern&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯

&lt;ul&gt;
&lt;li&gt;ä¸€æ¬¡æ€§å®ç°ä¸€ä¸ªç®—æ³•çš„ä¸å˜éƒ¨åˆ†ï¼Œå°†å¯å˜çš„è¡Œä¸ºç•™ç»™å­ç±»æ¥å®ç°ï¼›&lt;/li&gt;
&lt;li&gt;å„å­ç±»ä¸­å…¬å…±çš„è¡Œä¸ºè¢«æå–å‡ºæ¥å¹¶é›†ä¸­åˆ°ä¸€ä¸ªå…¬å…±çš„çˆ¶ç±»ä¸­ï¼Œé¿å…ä»£ç çš„é‡å¤ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;é’©å­æ–¹æ³•ï¼šæ§åˆ¶æµç¨‹çš„æ–¹æ³•ï¼Œäº¤ç»™å­ç±»å»åŠ¨æ€æ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³å¿ƒçš„æ˜¯æµç¨‹ï¼Œå¯¹æµç¨‹å¯è¿›è¡Œå¾®è°ƒï¼Œæœ‰å¹²é¢„æƒï¼Œå¯å¹²é¢„å†…åœ¨é€»è¾‘ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;æé«˜ä»£ç çš„å¤ç”¨æ€§ï¼›&lt;/li&gt;
&lt;li&gt;æé«˜ä»£ç çš„æ‰©å±•æ€§ï¼›&lt;/li&gt;
&lt;li&gt;ç¬¦åˆå¼€é—­åŸåˆ™ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;ç±»æ•°ç›®å¢åŠ ï¼›&lt;/li&gt;
&lt;li&gt;é—´æ¥çš„å¢åŠ äº†ç³»ç»Ÿå®ç°çš„å¤æ‚åº¦ï¼›&lt;/li&gt;
&lt;li&gt;ç»§æ‰¿å…³ç³»çš„è‡ªèº«ç¼ºç‚¹ï¼Œå¦‚çˆ¶ç±»æ·»åŠ æ–°çš„æŠ½è±¡æ–¹æ³•ï¼Œæ‰€æœ‰å­ç±»éƒ½éœ€è¦æ”¹ä¸€éã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;é€‚é…å™¨æ¨¡å¼-adapter-pattern&#34;&gt;é€‚é…å™¨æ¨¡å¼ Adapter Pattern&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªç±»çš„æ¥å£è½¬åŒ–æˆå®¢æˆ·æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œä½¿åŸæœ¬çš„æ¥å£ä¸å…¼å®¹ï¼ˆ&lt;strong&gt;support&lt;/strong&gt;ï¼‰çš„ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;ç»“æ„å‹è®¾è®¡æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯ï¼š

&lt;ul&gt;
&lt;li&gt;å·²ç»å­˜åœ¨çš„ç±»ï¼Œå®ƒçš„æ–¹æ³•å’Œéœ€æ±‚ä¸åŒ¹é…ï¼ˆæ–¹æ³•ç»“æœç›¸åŒæˆ–ç›¸ä¼¼ï¼‰çš„æƒ…å†µï¼›&lt;/li&gt;
&lt;li&gt;é€‚é…å™¨æ¨¡å¼ä¸æ˜¯è½¯ä»¶è®¾è®¡é˜¶æ®µéœ€è¦è€ƒè™‘çš„è®¾è®¡æ¨¡å¼ï¼Œæ˜¯éšç€è½¯ä»¶ç»´æŠ¤ç”±äºä¸åŒäº§å“ã€ä¸åŒå‚å®¶é€ æˆåŠŸèƒ½ç±»ä¼¼è€Œæ¥å£ä¸ç›¸åŒæƒ…å†µä¸‹çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;æœ‰ç‚¹ç±»ä¼¼&lt;strong&gt;é™æ€ä»£ç†&lt;/strong&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æé«˜ç±»çš„é€æ˜æ€§å’Œå¤ç”¨ï¼Œç°æœ‰çš„ç±»å¤ç”¨ä½†ä¸éœ€è¦æ”¹å˜ï¼›&lt;/li&gt;
&lt;li&gt;ç›®æ ‡ç±»å’Œé€‚é…å™¨ç±»è§£è€¦ï¼Œæä¾›ç¨‹åºçš„æ‰©å±•æ€§ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸­ç¬¦åˆå¼€é—­åŸåˆ™ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é€‚é…å™¨ç¼–å†™è¿‡ç¨‹éœ€è¦å…¨é¢è€ƒè™‘ï¼Œå¯èƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ï¼›&lt;/li&gt;
&lt;li&gt;å¢åŠ ä»£ç çš„é˜…è¯»éš¾åº¦ï¼Œé™ä½ä»£ç å¯è¯»æ€§ï¼Œè¿‡åº¦ä½¿ç”¨é€‚é…å™¨ä¼šä½¿ç³»ç»Ÿä»£ç å˜å¾—å‡Œä¹±ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;è£…é¥°å™¨æ¨¡å¼-decorator-pattern&#34;&gt;è£…é¥°å™¨æ¨¡å¼ Decorator Pattern&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯¹è±¡ç»„åˆï¼ˆHas-aï¼‰/èšåˆï¼ˆContain-aï¼‰&lt;/strong&gt;ï¼Ÿï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ¯”ç»§æ‰¿æ›´å…·å¼¹æ€§&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;ç»§æ‰¿çš„æœ‰åŠ›è¡¥å……ï¼Œæ¯”ç»§æ‰¿çµæ´»ï¼Œä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„æƒ…å†µä¸‹åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ‰©å±•åŠŸèƒ½ï¼Œå³æ’å³ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;é€šè¿‡ä½¿ç”¨ä¸åŒè£…é¥°ç±»ä»¥åŠè¿™äº›è£…é¥°ç±»çš„æ’åˆ—ç»„åˆï¼Œå¯ä»¥å®ç°ä¸åŒæ•ˆæœï¼›&lt;/li&gt;
&lt;li&gt;è£…é¥°è€…å®Œå…¨éµå®ˆå¼€é—­åŸåˆ™ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;ä¼šå‡ºç°æ›´å¤šçš„ä»£ç ï¼Œæ›´å¤šçš„ç±»ï¼Œå¢åŠ ç¨‹åºå¤æ‚æ€§ï¼›&lt;/li&gt;
&lt;li&gt;åŠ¨æ€è£…é¥°æ—¶ï¼Œå¤šå±‚è£…é¥°æ—¶ä¼šæ›´å¤æ‚ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;è£…é¥°è€…ä¸é€‚é…å™¨å¯¹æ¯”&#34;&gt;è£…é¥°è€…ä¸é€‚é…å™¨å¯¹æ¯”&lt;/h2&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;è£…é¥°è€…æ¨¡å¼Decorator&lt;/th&gt;
&lt;th&gt;é€‚é…å™¨æ¨¡å¼Adapter&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å½¢å¼&lt;/td&gt;
&lt;td&gt;æœ‰å¯¹åº”çš„å±‚çº§å…³ç³»ï¼Œä¸€ç§éå¸¸ç‰¹åˆ«çš„é€‚é…å™¨æ¨¡å¼&lt;/td&gt;
&lt;td&gt;æ²¡æœ‰å±‚çº§å…³ç³»&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;å®šä¹‰&lt;/td&gt;
&lt;td&gt;è£…é¥°è€…å’Œè¢«è£…é¥°è€…éƒ½å®ç°åŒä¸€ä¸ªæ¥å£ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æ‰©å±•ä¹‹åä¾æ—§ä¿ç•™ OOP å…³ç³»&lt;/td&gt;
&lt;td&gt;é€‚é…å™¨å’Œè¢«é€‚é…è€…æ²¡æœ‰å¿…ç„¶çš„è”ç³»ï¼Œé€šå¸¸æ˜¯é‡‡ç”¨ç»§æ‰¿æˆ–è€…ä»£ç†çš„å½¢å¼è¿›è¡ŒåŒ…è£…&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;å…³ç³»&lt;/td&gt;
&lt;td&gt;æ»¡è¶³ is-a çš„å…³ç³»&lt;/td&gt;
&lt;td&gt;æ»¡è¶³ has-a çš„å…³ç³»&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;åŠŸèƒ½&lt;/td&gt;
&lt;td&gt;æ³¨é‡è¦†ç›–ã€æ‰©å±•&lt;/td&gt;
&lt;td&gt;æ³¨é‡å…¼å®¹ã€è£…æ¢&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;è®¾è®¡&lt;/td&gt;
&lt;td&gt;å‰ç½®è€ƒè™‘&lt;/td&gt;
&lt;td&gt;åç½®è€ƒè™‘ï¼Œåˆ°äº†ä¸€å®šçš„æƒ…å†µä¸‹ï¼Œå†å»è€ƒè™‘â€œäº¡ç¾Šè¡¥ç‰¢â€çš„æ„Ÿè§‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;è§‚å¯Ÿè€…æ¨¡å¼-observer-pattern-å‘å¸ƒè®¢é˜…æ¨¡å¼-pub-sub&#34;&gt;è§‚å¯Ÿè€…æ¨¡å¼ Observer Pattern/å‘å¸ƒè®¢é˜…æ¨¡å¼ Pub/Sub&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;è¡Œä¸ºå‹æ¨¡å¼ï¼›&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;è§‚å¯Ÿè€… observer å’Œè¢«è§‚å¯Ÿè€… observableä¹‹é—´å»ºç«‹äº†ä¸€ä¸ªæŠ½è±¡çš„è€¦åˆï¼›&lt;/li&gt;
&lt;li&gt;è§‚å¯Ÿè€…æ¨¡å¼æ”¯æŒå¹¿æ’­é€šä¿¡ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š

&lt;ul&gt;
&lt;li&gt;è§‚å¯Ÿè€…ä¹‹é—´æœ‰è¿‡å¤šçš„ç»†èŠ‚ä¾èµ–ã€æé«˜æ—¶é—´æ¶ˆè€—åŠç¨‹åºçš„å¤æ‚åº¦ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨è¦å¾—å½“ï¼Œè¦é¿å…å¾ªç¯è°ƒç”¨ã€‚&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;å„ç§æ¨¡å¼çš„å¯¹æ¯”&#34;&gt;å„ç§æ¨¡å¼çš„å¯¹æ¯”&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;å•ä¾‹å’Œå·¥å‚æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;å·¥å‚ä¸€èˆ¬ä¼šè®¾è®¡ä¸ºå•ä¾‹ï¼ŒApplicationContext&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;ç­–ç•¥å’Œå·¥å‚æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å·¥å‚æ¨¡å¼åŒ…å«å·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚ï¼Œå±äºåˆ›å»ºå‹æ¨¡å¼ï¼ˆnewï¼‰ï¼›ç­–ç•¥æ¨¡å¼å±äºè¡Œä¸ºæ¨¡å¼ï¼ˆinvokeï¼‰&lt;/li&gt;
&lt;li&gt;å·¥å‚æ¨¡å¼ä¸»è¦ç›®çš„æ˜¯å°è£…å¥½åˆ›å»ºé€»è¾‘ï¼Œç­–ç•¥æ¨¡å¼æ¥æ”¶å·¥å‚åˆ›å»ºå¥½çš„å¯¹è±¡ï¼Œä»è€Œå®ç°ä¸åŒçš„è¡Œä¸ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;ç­–ç•¥å’Œå§”æ´¾æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ç­–ç•¥æ¨¡å¼æ˜¯å§”æ´¾æ¨¡å¼å†…éƒ¨çš„ä¸€ç§å®ç°å½¢å¼ï¼Œå…¶å…³æ³¨çš„æ˜¯ç»“æœæ˜¯å¦èƒ½ç›¸äº’æ›¿ä»£ï¼›&lt;strong&gt;æ¯”å¦‚æ”¯ä»˜æ–¹å¼ï¼šAlipayï¼ŒWechatPayï¼ŒJDPay ç­‰ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å§”æ´¾æ¨¡å¼æ›´å…³æ³¨ä»½åˆ†å‘å’Œè°ƒåº¦çš„è¿‡ç¨‹ã€‚&lt;strong&gt;æœ‰å¯èƒ½é‡‡ç”¨ if&amp;hellip;else&amp;hellip;æ¡ä»¶åˆ†æ”¯è¯­å¥æ¥åˆ†å‘ï¼Œå†…éƒ¨ä¹Ÿå¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;æ¨¡æ¿æ–¹æ³•å’Œå·¥å‚æ–¹æ³•æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å·¥å‚æ–¹æ³•æ˜¯æ¨¡æ¿æ–¹æ³•çš„ä¸€ç§ç‰¹æ®Šå®ç°ï¼›&lt;/li&gt;
&lt;li&gt;å·¥å‚æ–¹æ³•åªæœ‰ä¸€ä¸ªæ­¥éª¤ï¼Œæ˜¯æ¨¡æ¿æ¨¡å¼çš„ç‰¹æ®Šå®ç°ï¼›&lt;/li&gt;
&lt;li&gt;æ¨¡æ¿æ¨¡å¼å…¶æ‰§è¡Œæµç¨‹åœ¨çˆ¶ç±»å·²å›ºåŒ–ï¼Œä¸å¯å˜åŠ¨ã€‚åŒæ—¶ï¼Œå­ç±»å®ç°çš„æ˜¯çˆ¶ç±»çš„æŸä¸€ä¸ªæ­¥éª¤ï¼Œä¹Ÿå°±æ˜¯è¯´å­ç±»å¯èƒ½æœ‰å¤šä¸ªå¯¹çˆ¶ç±»å…·ä½“æ­¥éª¤çš„å®Œå–„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;æ¨¡æ¿å’Œç­–ç•¥æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ¨¡æ¿æ–¹æ³•å’Œç­–ç•¥éƒ½æœ‰å°è£…ç®—æ³•ï¼›&lt;/li&gt;
&lt;li&gt;ç­–ç•¥æ˜¯ä½¿ä¸åŒç®—æ³•å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä¸”ä¸å½±å“å®¢æˆ·ç«¯åº”ç”¨å±‚çš„ä½¿ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;æ¨¡æ¿æ–¹æ³•æ˜¯é’ˆå¯¹å®šä¹‰ä¸€ä¸ªç®—æ³•çš„æµç¨‹ï¼Œå°†ä¸€äº›æœ‰ç»†å¾®å·®å¼‚çš„éƒ¨åˆ†äº¤ç»™å­ç±»å®ç°ï¼Œä¸å¯è¢«æ›¿æ¢ï¼›&lt;/li&gt;
&lt;li&gt;æ¨¡æ¿æ¨¡å¼ä¸èƒ½æ”¹å˜ç®—æ³•æµç¨‹ï¼Œç­–ç•¥æ¨¡å¼å¯ä»¥æ”¹å˜ç®—æ³•æµç¨‹ä¸”å¯æ›¿æ¢ï¼Œç­–ç•¥æ¨¡å¼é€šå¸¸ç”¨æ¥ä»£æ›¿ if&amp;hellip;else&amp;hellip;ç­‰æ¡ä»¶åˆ†æ”¯è¯­å¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;è£…é¥°è€…å’Œé™æ€ä»£ç†æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;è£…é¥°è€…æ¨¡å¼å…³æ³¨ç‚¹åœ¨äºç»™å¯¹è±¡åŠ¨æ€æ‰©å±•ã€æ·»åŠ æ–¹æ³•ï¼Œè€Œä»£ç†æ›´åŠ æ³¨é‡æ§åˆ¶å¯¹å¯¹è±¡çš„è®¿é—®ï¼›&lt;/li&gt;
&lt;li&gt;ä»£ç†æ¨¡å¼é€šå¸¸ä¼šåœ¨ä»£ç†ç±»ä¸­åˆ›å»ºè¢«ä»£ç†å¯¹è±¡çš„å®ä¾‹ï¼Œè€Œè£…é¥°è€…æ¨¡å¼é€šå¸¸æŠŠè¢«è£…é¥°è€…ä½œä¸ºæ„æˆå‚æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;è£…é¥°è€…å’Œé€‚é…å™¨æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;è£…é¥°è€…æ¨¡å¼å’Œé€‚é…å™¨æ¨¡å¼éƒ½å±äºåŒ…è£…å™¨æ¨¡å¼ï¼ˆWrapperï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;è£…é¥°è€…æ¨¡å¼å¯ä»¥å®ç°è¢«è£…é¥°è€…ä¸ç›¸åŒçš„æ¥å£æˆ–è€…ç»§æ‰¿è¢«è£…é¥°è€…ä½œä¸ºå®ƒçš„å­ç±»ï¼Œè€Œé€‚é…å™¨å’Œå‘—é€‚é…è€…å¯ä»¥å®ç°ä¸åŒçš„æ¥å£ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;é€‚é…å™¨å’Œç­–ç•¥æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;åœ¨é€‚é…ä¸šåŠ¡å¤æ‚çš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨ç­–ç•¥æ¨¡å¼ä¼˜åŒ–åŠ¨æ€é€‚é…é€»è¾‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;è®¾è®¡æ¨¡å¼æ€»ç»“&#34;&gt;è®¾è®¡æ¨¡å¼æ€»ç»“&lt;/h2&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è®¾è®¡æ¨¡å¼Pattern&lt;/th&gt;
&lt;th&gt;ä¸€å¥è¯&lt;/th&gt;
&lt;th&gt;ä¸¾ä¾‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å·¥å‚æ¨¡å¼Factory&lt;/td&gt;
&lt;td&gt;åªå¯¹ç»“æœè´Ÿè´£ï¼Œå°è£…åˆ›å»ºè¿‡ç¨‹ã€‚&lt;/td&gt;
&lt;td&gt;BeanFactoryã€Calendar&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;å•ä¾‹æ¨¡å¼ Singleton&lt;/td&gt;
&lt;td&gt;ä¿è¯ç‹¬ä¸€æ— äºŒ&lt;/td&gt;
&lt;td&gt;ApplicationContextã€Calendar&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;åŸå‹æ¨¡å¼ Prototype&lt;/td&gt;
&lt;td&gt;æ‹”ä¸€æ ¹çŒ´æ¯›ï¼Œå¹å‡ºåƒä¸‡ä¸ª(å¤šä¾‹æ¨¡å¼)&lt;/td&gt;
&lt;td&gt;ArrayListã€PrototypeBean&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ä»£ç†æ¨¡å¼ Proxy&lt;/td&gt;
&lt;td&gt;å®…äººåŠäº‹ï¼Œå¢å¼ºèŒè´£&lt;/td&gt;
&lt;td&gt;ProxyFactoryBeanã€JdkDynamicAopProxyã€CglibAopProxy&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;å§”æ´¾æ¨¡å¼ Delegate&lt;/td&gt;
&lt;td&gt;å¹²æ´»ç®—ä½ çš„ï¼ˆæ™®é€šå‘˜å·¥ï¼‰ï¼ŒåŠŸåŠ³ç®—æˆ‘çš„ï¼ˆé¡¹ç›®ç»ç†ï¼‰&lt;/td&gt;
&lt;td&gt;DIspatcherServletã€BeanDefinitionPaserDelegate&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ç­–ç•¥æ¨¡å¼ Strategy&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·é€‰æ‹©ï¼Œç»“æœç»Ÿä¸€&lt;/td&gt;
&lt;td&gt;InstantiationStrategy&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;æ¨¡æ¿æ¨¡å¼ Template&lt;/td&gt;
&lt;td&gt;æµç¨‹æ ‡å‡†åŒ–ã€è‡ªå·±å®ç°å®šåˆ¶&lt;/td&gt;
&lt;td&gt;JdbcTemplateã€HttpServlet&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;é€‚é…å™¨ Adapter&lt;/td&gt;
&lt;td&gt;å…¼å®¹è½¬æ¢å¤´&lt;/td&gt;
&lt;td&gt;AdvisorAdapterã€HandlerAdapter&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;è£…é¥°å™¨æ¨¡å¼ Decorator&lt;/td&gt;
&lt;td&gt;åŒ…è£…ã€åŒå®—åŒæº&lt;/td&gt;
&lt;td&gt;BufferReaderã€InputStreamã€OutputStreamã€HttpHeadResponseDecorator&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;è§‚å¯Ÿå€¼æ¨¡å¼ Observer&lt;/td&gt;
&lt;td&gt;ä»»åŠ¡å®Œæˆæ—¶é€šçŸ¥&lt;/td&gt;
&lt;td&gt;ContextLoaderListener&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
     </item>
   
     <item>
       <title>åˆ†å¸ƒå¼ç³»ç»Ÿ/é«˜å¹¶å‘ç³»ç»Ÿè®¾è®¡åŸåˆ™</title>
       <link>https://izcqi.com/posts/2019/12/02/distributed-platform-design-principles/</link>
       <pubDate>Mon, 02 Dec 2019 21:17:29 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2019/12/02/distributed-platform-design-principles/</guid>
       <description>

&lt;h2 id=&#34;did-åŸåˆ™-design-implement-deploy&#34;&gt;DID åŸåˆ™ : Design - Implement - Deploy&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;è®¾è®¡ï¼ˆDesignï¼‰20å€çš„å®¹é‡ã€‚&lt;/li&gt;
&lt;li&gt;å®ç°ï¼ˆImplementï¼‰3å€çš„å®¹é‡ã€‚&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²ï¼ˆDeployï¼‰1.5å€çš„å®¹é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç¡®ä¿ä¸€å®šæ—¶é—´å†…ï¼Œä¸ä¼šå› ä¸ºä¸šåŠ¡ä½“é‡çš„å˜åŒ–å‡ºç°å¯¹æ¶æ„è¾ƒå¤§çš„å‡çº§è°ƒæ•´ã€‚ä½†å°½å¿«å¦‚æ­¤ï¼Œä¹Ÿä¸èƒ½è¿‡åº¦å’¯ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;1ã€æ¢ä¸ªæ€è·¯ç†è§£ DID
åœ¨è½¯ä»¶å»ºæ„é¢†åŸŸï¼Œæœ‰ä¸€ä¸ªåŸåˆ™å«DID, é€šå¸¸ç”¨æ¥ä¿è¯èµ„æºå’Œæ—¶é—´çš„æœ€å°åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;DID:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è®¾è®¡ï¼ˆDesignï¼‰20å€çš„å®¹é‡ã€‚&lt;/li&gt;
&lt;li&gt;å®ç°ï¼ˆImplementï¼‰3å€çš„å®¹é‡ã€‚&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²ï¼ˆDeployï¼‰1.5å€çš„å®¹é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¸ªDIDä¸€èˆ¬æ˜¯ä»èµ„æºæˆæœ¬çš„æ›´å°æ¶ˆè€—æ¥å‡ºå‘ï¼Œå¸Œæœ›å°†æ›´ä½æˆæœ¬çš„è®¾è®¡å‘æŒ¥æ›´å¤§çš„ä½œç”¨ï¼Œå¯¹æ›´é«˜æˆæœ¬çš„éƒ¨ç½²æ›´è°¨æ…çš„ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;æ¢ä¸ªæ€è·¯ï¼Œåœ¨éœ€æ±‚å¼€å‘ä¸ç³»ç»Ÿè®¾è®¡å±‚é¢å‡ºå‘ï¼Œä¹Ÿåº”è¯¥éµå¾ªè¿™ç§è§„å¾‹ï¼Œå³åœ¨å‰æœŸè®¾è®¡å±‚é¢ä¸‹è¶³åŠŸå¤«ï¼Œç”¨æ›´å‘¨åˆ°çš„è®¾è®¡æ¥å®ç° æ–¹æ¡ˆï¼Œä»¥ä¾¿åœ¨éƒ¨ç½²ä¸Šçº¿åçš„æ”¹åŠ¨æœ€å°ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œå¾€å¾€åœ¨å®é™…å¼€å‘ä¸­è¿™ä¸ªè¿‡ç¨‹éƒ½æ˜¯æœ¬æœ«å€’ç½®çš„ï¼Œä» â€˜æ‹è„‘è¢‹å°±åšâ€™ åˆ° â€˜å¼€å‘ä¸­å‘ç°è¡Œä¸é€šâ€™ åˆ° â€˜è¿”å·¥â€™ï¼Œæˆ–è€…æ›´ä¸¥é‡çš„ä¸Šçº¿ ä¹‹åæ‰å‘ç°é—®é¢˜ï¼Œå¯¼è‡´æ›´å¤§çš„è¿”å·¥æˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;2ã€è¿‡åº¦è®¾è®¡
é€šå¸¸æ„ä¹‰çš„è¿‡åº¦è®¾è®¡åŒ…å«ä¸¤æ–¹é¢ï¼š&lt;/p&gt;

&lt;p&gt;è¶…å‡ºäº†éœ€æ±‚çš„æœ¬æ„ï¼Œæ¯”å¦‚æˆ‘è¦ä¸€ä¸ªä¸€å…¬é‡Œçš„ä»£æ­¥å·¥å…·ä½ ç»™æˆ‘è®¾è®¡äº†ä¸€æ¶é£æœºã€‚
å¯¼è‡´ç³»ç»Ÿè¿‡åº¦å¤æ‚ã€‚
æˆ‘è®¤ä¸ºï¼Œè¿˜æœ‰ä¸€ç§ä¹Ÿåº”è¯¥ç§°ä¹‹ä¸ºè¿‡åº¦è®¾è®¡ï¼Œå³è®¾è®¡å‡ºäº†åˆç†çš„ä½†æ˜¯æ²¡äººæ„Ÿå…´è¶£çš„äº§å“ã€‚æ¯”å¦‚æ‰€æœ‰äººéƒ½ä¹°äº†ä¸€æ¬¾å¯ç”¨ä½†æ˜¯æœ‰ç‘•ç–µçš„æ‰‹æœºv1ï¼Œ ä¸åˆ°ä¸€ä¸ªæœˆï¼Œä¸€æ¬¾åŒæ¬¾äº§å“v2å‡ºç°ï¼Œè™½ç„¶æ›´å®Œç¾ï¼Œä»·æ ¼æ›´ä½ï¼Œä½†æ˜¯åŸºäºæˆæœ¬æ²¡äººä¼šä¹°å•ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯v2ä¸€å®šæ˜¯æ¨å¹¿ä¸äº†çš„å—ï¼Ÿä¹Ÿä¸ä¸€å®šï¼Œæ€ä¹ˆæ¨å¹¿ï¼Ÿé¡ºåŠ¿è€Œä¸ºã€‚æ¯”å¦‚è¿è¥å•†æ¨å‡º5G, åªæœ‰v2æ”¯æŒï¼Œè¿™å«é¡ºåŠ¿è€Œä¸ºï¼›å›½å®¶è§„å®šï¼Œåªæœ‰æ”¯æŒ5Gçš„æ‰‹æœºæ‰èƒ½ä½¿ç”¨ï¼Œè¿™ä¹Ÿå«é¡ºåŠ¿è€Œä¸ºã€‚æ™šä¸Šåšç­è½¦ä¸‹ç­ï¼Œé‡åˆ°ä¸€ä¸ªä¹‹å‰çš„é¢†å¯¼ï¼Œä»–è¯´ä¸ºä»€ä¹ˆå½“æ—¶order-platformå¯ä»¥æ¨å¹¿ï¼Œé‚£æ˜¯å› ä¸ºå€Ÿç€æµ·å¤–çš„å¤§åŠ¿â€¦&lt;/p&gt;

&lt;p&gt;3ã€ç²¾ç®€ç²¾ç®€åœ¨ç²¾ç®€ï¼Œæ‹†åˆ†æ‹†åˆ†åœ¨æ‹†åˆ†ã€‚
è¿™ä¸ªï¼Œå’Œè¿‡åº¦è®¾è®¡æƒ³å¯¹åº”ã€‚å’Œæˆå°±æ„Ÿç›¸æŒ‚é’©ã€‚&lt;/p&gt;

&lt;p&gt;å¸•ç´¯æ‰˜æ³•åˆ™ï¼š80%çš„æˆæœæºäº20%çš„æ—¶é—´ã€‚å¦‚æœæ—¶é—´æœ‰é™ï¼Œé‚£ä¹ˆå°½é‡æŠŠæ—¶é—´æ”¾åœ¨å®¹æ˜“äº§ç”Ÿæˆæœçš„äº‹æƒ…ä¸Šï¼Œæœ‰æˆæœä¾¿æœ‰äº§å‡ºï¼Œæ‰æœ‰æˆå°±æ„Ÿã€‚&lt;/p&gt;

&lt;p&gt;ref: &lt;a href=&#34;https://younghz.github.io/DID#id-1-%E6%8D%A2%E4%B8%AA%E6%80%9D%E8%B7%AF%E7%90%86%E8%A7%A3-did&#34;&gt;https://younghz.github.io/DID#id-1-%E6%8D%A2%E4%B8%AA%E6%80%9D%E8%B7%AF%E7%90%86%E8%A7%A3-did&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;kiss-åŸåˆ™-keep-it-simple-and-stupid&#34;&gt;KISS åŸåˆ™ : Keep it Simple and Stupid&lt;/h2&gt;

&lt;p&gt;å•ä¸ªæ¥å£ç®€å•æ˜“ç”¨ï¼ŒæŠŠä¸€ä¸ªäº‹æƒ…æå¤æ‚æ˜¯æŠŠä¸€ä»¶ç®€å•çš„äº‹ï¼Œä½†æŠŠä¸€ä¸ªå¤æ‚çš„äº‹ç®€å•åŒ–ï¼Œç¡®å®ä¸€ä»¶å¤æ‚çš„äº‹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;dip-åŸåˆ™-dependence-inversion-principle&#34;&gt;DIP åŸåˆ™ ï¼š Dependence Inversion Principle&lt;/h2&gt;

&lt;p&gt;æ ¹æ®æ¥å£ä¸šåŠ¡åœºæ™¯åˆ†åŒ…ã€åˆ†ç±»ï¼Œå¯åˆ†ä¸ºåŸºç¡€æœåŠ¡ã€å…¬å…±æœåŠ¡ã€ä¸šåŠ¡å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;ä¸šåŠ¡æ¥å£&amp;gt;&amp;gt;å…¬å…±æœåŠ¡&amp;gt;&amp;gt;åŸºç¡€æœåŠ¡ï¼ˆçº¦å®šä¿—æˆï¼‰&lt;/p&gt;

&lt;h2 id=&#34;cap-åŸåˆ™&#34;&gt;CAP åŸåˆ™&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;C&lt;/code&gt;&lt;/strong&gt;onsistency : ä¸€è‡´æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;A&lt;/code&gt;&lt;/strong&gt;vailability ï¼š å¯ç”¨æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;P&lt;/code&gt;&lt;/strong&gt;artition tolerance ï¼š åˆ†åŒºå®¹é”™æ€§&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸‰è€…ä¸å¯å…¼å¾—ï¼Œç³»ç»Ÿå¦‚æœä¸èƒ½åœ¨æ—¶é™å†…è¾¾æˆæ•°æ®ä¸€è‡´æ€§ï¼Œå°±æ„å‘³ç€å‘ç”Ÿäº†åˆ†åŒºçš„æƒ…å†µï¼Œå¿…é¡»å°±å½“å‰æ“ä½œåœ¨&lt;strong&gt;C&lt;/strong&gt;å’Œ&lt;strong&gt;A&lt;/strong&gt;ä¹‹å‰åšé€‰æ‹©ã€‚ä¹Ÿå°±æ˜¯åªæœ‰æ»¡è¶³&lt;strong&gt;CA&lt;/strong&gt;æˆ–æ»¡è¶³&lt;strong&gt;CP&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨&lt;code&gt;CAP&lt;/code&gt;åŸºç¡€ä¸Šè¡ç”Ÿäº†&lt;code&gt;BASE&lt;/code&gt;åŸåˆ™ã€‚BASE æ˜¯æŒ‡åŸºæœ¬å¯ç”¨ï¼ˆBasically Availableï¼‰ã€è½¯çŠ¶æ€ï¼ˆ Soft Stateï¼‰ã€æœ€ç»ˆä¸€è‡´æ€§ï¼ˆ Eventual Consistencyï¼‰ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯å³ä½¿æ— æ³•åšåˆ°å¼ºä¸€è‡´æ€§ï¼ˆCAP çš„ä¸€è‡´æ€§å°±æ˜¯å¼ºä¸€è‡´æ€§ï¼‰ï¼Œä½†åº”ç”¨å¯ä»¥é‡‡ç”¨é€‚åˆçš„æ–¹å¼è¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§ã€‚&lt;/p&gt;

&lt;h4 id=&#34;åŸºæœ¬å¯ç”¨-basically-available&#34;&gt;åŸºæœ¬å¯ç”¨ï¼ˆBasically Availableï¼‰&lt;/h4&gt;

&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°æ•…éšœæ—¶ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ï¼Œå³ä¿è¯æ ¸å¿ƒå¯ç”¨ã€‚
è¿™é‡Œçš„å…³é”®è¯æ˜¯â€œéƒ¨åˆ†â€å’Œâ€œæ ¸å¿ƒâ€ï¼Œå…·ä½“é€‰æ‹©å“ªäº›ä½œä¸ºå¯ä»¥æŸå¤±çš„ä¸šåŠ¡ï¼Œå“ªäº›æ˜¯å¿…é¡»ä¿è¯çš„ä¸šåŠ¡ï¼Œæ˜¯ä¸€é¡¹æœ‰æŒ‘æˆ˜çš„å·¥ä½œã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªç”¨æˆ·ç®¡ç†ç³»ç»Ÿæ¥è¯´ï¼Œâ€œç™»å½•â€æ˜¯æ ¸å¿ƒåŠŸèƒ½ï¼Œè€Œâ€œæ³¨å†Œâ€å¯ä»¥ç®—ä½œéæ ¸å¿ƒåŠŸèƒ½ã€‚å› ä¸ºæœªæ³¨å†Œçš„ç”¨æˆ·æœ¬æ¥å°±è¿˜æ²¡æœ‰ä½¿ç”¨ç³»ç»Ÿçš„ä¸šåŠ¡ï¼Œæ³¨å†Œä¸äº†æœ€å¤šå°±æ˜¯æµå¤±ä¸€éƒ¨åˆ†ç”¨æˆ·ï¼Œè€Œä¸”è¿™éƒ¨åˆ†ç”¨æˆ·æ•°é‡è¾ƒå°‘ã€‚å¦‚æœç”¨æˆ·å·²ç»æ³¨å†Œä½†æ— æ³•ç™»å½•ï¼Œé‚£å°±æ„å‘³ç”¨æˆ·æ— æ³•ä½¿ç”¨ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œå……äº†é’±çš„æ¸¸æˆä¸èƒ½ç©äº†ã€äº‘å­˜å‚¨ä¸èƒ½ç”¨äº†â€¦â€¦è¿™äº›ä¼šå¯¹ç”¨æˆ·é€ æˆè¾ƒå¤§æŸå¤±ï¼Œè€Œä¸”ç™»å½•ç”¨æˆ·æ•°é‡è¿œè¿œå¤§äºæ–°æ³¨å†Œç”¨æˆ·ï¼Œå½±å“èŒƒå›´æ›´å¤§ã€‚&lt;/p&gt;

&lt;h4 id=&#34;è½¯çŠ¶æ€-soft-state&#34;&gt;è½¯çŠ¶æ€ï¼ˆSoft Stateï¼‰&lt;/h4&gt;

&lt;p&gt;å…è®¸ç³»ç»Ÿå­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œè€Œè¯¥ä¸­é—´çŠ¶æ€ä¸ä¼šå½±å“ç³»ç»Ÿæ•´ä½“å¯ç”¨æ€§ã€‚è¿™é‡Œçš„ä¸­é—´çŠ¶æ€å°±æ˜¯ CAP ç†è®ºä¸­çš„æ•°æ®ä¸ä¸€è‡´ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æœ€ç»ˆä¸€è‡´æ€§-eventual-consistency&#34;&gt;æœ€ç»ˆä¸€è‡´æ€§ï¼ˆEventual Consistencyï¼‰&lt;/h3&gt;

&lt;p&gt;ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å‰¯æœ¬ç»è¿‡ä¸€å®šæ—¶é—´åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;refï¼š&lt;a href=&#34;https://mp.weixin.qq.com/s/YVhPawEyWuWMUeNBwTuPoQ&#34;&gt;https://mp.weixin.qq.com/s/YVhPawEyWuWMUeNBwTuPoQ&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;smart-åŸåˆ™&#34;&gt;SMART åŸåˆ™&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;S&lt;/code&gt;&lt;/strong&gt;pecific : æ˜ç¡®æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;M&lt;/code&gt;&lt;/strong&gt;easurable : è¡¡é‡æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;A&lt;/code&gt;&lt;/strong&gt;ttainable : å¯å®ç°æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;R&lt;/code&gt;&lt;/strong&gt;elevant : ç›¸å…³æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;T&lt;/code&gt;&lt;/strong&gt;ime-based : æ—¶é™æ€§&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;TODO ï¼š å¾…è¿›ä¸€æ­¥å®Œå–„&lt;/p&gt;

&lt;h2 id=&#34;slaæœåŠ¡ç­‰çº§-service-level-agreement&#34;&gt;SLAæœåŠ¡ç­‰çº§ - Service Level Agreement&lt;/h2&gt;

&lt;h2 id=&#34;é«˜å¯ç”¨æ¶æ„-ä¼šè¯å±‚-æ¥å£å±‚-å­˜å‚¨å±‚-åŸºç¡€æœåŠ¡å±‚&#34;&gt;é«˜å¯ç”¨æ¶æ„ - ä¼šè¯å±‚&amp;gt;æ¥å£å±‚&amp;gt;å­˜å‚¨å±‚&amp;gt;åŸºç¡€æœåŠ¡å±‚&lt;/h2&gt;
</description>
     </item>
   
     <item>
       <title>è½¯ä»¶è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼</title>
       <link>https://izcqi.com/posts/2019/12/02/design-patterns-singleton/</link>
       <pubDate>Mon, 02 Dec 2019 14:36:39 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2019/12/02/design-patterns-singleton/</guid>
       <description>

&lt;p&gt;å•ä¾‹æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡ä¸­éå¸¸å¸¸è§çš„æ¨¡å¼ï¼Œä½†çœŸæ­£ç”¨å¥½ä¹Ÿç”¨å¯¹çš„å¥½åƒè¿˜æœ‰å¾ˆå¤šè·¯è¦èµ°ã€‚ä¸€èµ·æ¥ç ”ç©¶ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;å•ä¾‹ï¼Œæœ€æœ€èµ·ç å¾—æœ‰è¿™äº›å§&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç§æœ‰çš„æ„é€ æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª static çš„å®ä¾‹&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª static çš„å¤–éƒ¨è®¿é—®å…¥å£&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…·ä½“ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„(æ‡’æ±‰æ¨¡å¼)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public class Singleton {

    private static Singleton instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;;

    private Singleton(){}

    public static Singleton getInstance() {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; instance) {
            instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Singleton();
        }
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; instance;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å½“ç„¶äº†ï¼Œçœ‹ç€å¥½åƒæ˜¯é‚£ä¹ˆå›äº‹ï¼Œå®Œæˆäº†ä»¥ä¸Šæ“ä½œï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public class SingletonTest {

    public static void main(String[] args) {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; (int i &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; 0; i &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt; 3; i&lt;span style=&#34;color:#ff79c6&#34;&gt;++&lt;/span&gt;) {
            &lt;span style=&#34;color:#6272a4&#34;&gt;//test1
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;            Singleton singleton &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; Singleton.&lt;span style=&#34;color:#50fa7b&#34;&gt;getInstance&lt;/span&gt;();
            System.&lt;span style=&#34;color:#50fa7b&#34;&gt;out&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;println&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;running at thread&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; Thread.&lt;span style=&#34;color:#50fa7b&#34;&gt;currentThread&lt;/span&gt;().&lt;span style=&#34;color:#50fa7b&#34;&gt;getName&lt;/span&gt;() &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;gt;&amp;gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; singleton);
        }
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¾“å‡ºï¼ˆæ¯æ¬¡è¿è¡Œè¾“å‡ºæ˜¯ä¸ä¸€æ ·çš„ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;running at threadmain&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@49476842
running at threadmain&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@49476842
running at threadmain&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@49476842&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å•ä¾‹å®Œæˆäº†ï¼ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬åœ¨å¤šçº¿ç¨‹ä¸‹æµ‹è¯•ä¸€ä¸‹ï¼Œæ”¹é€ ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public class SingletonTest {

    public static void main(String[] args) {
&lt;span style=&#34;color:#6272a4&#34;&gt;//        for (int i = 0; i &amp;lt; 3; i++) {
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;//            //test1
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;//            Singleton singleton = Singleton.getInstance();
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;//            System.out.println(&amp;#34;running at thread&amp;#34; + Thread.currentThread().getName() + &amp;#34;&amp;gt;&amp;gt;&amp;#34; + singleton);
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;//        }
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;

        &lt;span style=&#34;color:#6272a4&#34;&gt;//test2
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        Runnable r &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Runnable() {
            @Override
            public void run() {
                Singleton singleton &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; Singleton.&lt;span style=&#34;color:#50fa7b&#34;&gt;getInstance&lt;/span&gt;();
                System.&lt;span style=&#34;color:#50fa7b&#34;&gt;out&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;println&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;running at thread&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; Thread.&lt;span style=&#34;color:#50fa7b&#34;&gt;currentThread&lt;/span&gt;().&lt;span style=&#34;color:#50fa7b&#34;&gt;getName&lt;/span&gt;() &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;gt;&amp;gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; singleton);
            }
        };
        &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Thread(r).&lt;span style=&#34;color:#50fa7b&#34;&gt;start&lt;/span&gt;();
        &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Thread(r).&lt;span style=&#34;color:#50fa7b&#34;&gt;start&lt;/span&gt;();
        &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Thread(r).&lt;span style=&#34;color:#50fa7b&#34;&gt;start&lt;/span&gt;();
        &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Thread(r).&lt;span style=&#34;color:#50fa7b&#34;&gt;start&lt;/span&gt;();
        &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Thread(r).&lt;span style=&#34;color:#50fa7b&#34;&gt;start&lt;/span&gt;();
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¾“å‡ºï¼ˆæ¯æ¬¡è¿è¡Œè¾“å‡ºæ˜¯ä¸ä¸€æ ·çš„ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;running at threadThread-2&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@a1a1c96
running at threadThread-5&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@b0545bc
running at threadThread-4&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@a1a1c96
running at threadThread-3&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@a1a1c96
running at threadThread-0&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@b0545bc
running at threadThread-1&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@b0545bc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å‡ºç°é—®é¢˜äº†ï¼ï¼ï¼æ€ä¹ˆåœ¨å¤šçº¿ç¨‹ä¸‹å‡ºç°äº†ä¸åŒå®ä¾‹äº†ï¼Ÿï¼Ÿï¼Ÿæ˜¯ä¸æ˜¯æˆ‘ä»¬çš„è®¾è®¡æœ‰é—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬åœ¨å›¾ç¤ºä½ç½®æ‰“ä¸ªæ–­ç‚¹ï¼ŒæŒ‰ç…§ Thread æ¥å¤„ç†&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶å Debug ä¸€ä¸‹
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-running.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ Thread0 çš„æƒ…å†µ
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-t0-running.png&#34; alt=&#34;&#34; /&gt;
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-t0-over.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;çœ‹åˆ°æ­¤æ—¶&lt;code&gt;instance&lt;/code&gt;ä¸º{Singleton@475}ã€‚æˆ‘ä»¬æ¢åˆ° Thread1 å†çœ‹çœ‹
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-t1-running.png&#34; alt=&#34;&#34; /&gt;
çœ‹åˆ°æ­¤æ—¶&lt;code&gt;instance&lt;/code&gt;ä¹Ÿæ˜¯{Singleton@475}ã€‚å¾€ä¸‹èµ°
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-t1-over.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;é¢ç­‰ç­‰ï¼Œæ€ä¹ˆ&lt;code&gt;instance&lt;/code&gt;å˜æˆ&lt;code&gt;{Singleton@476}&lt;/code&gt;äº†ï¼Œè¢«è¦†ç›–å’¯ï¼Ÿï¼Ÿï¼Ÿ
çœ‹æ¥æˆ‘ä»¬çš„è®¾è®¡æœ‰é—®é¢˜å“¦ï¼&lt;/p&gt;

&lt;p&gt;æ€ä¹ˆæ”¹é€ å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä» Debug æ¥çœ‹ï¼Œæ˜¯&lt;code&gt;getInstance()&lt;/code&gt;æ—¶å‡ºç°äº†çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæˆ‘ä»¬ç”¨&lt;code&gt;synchronized&lt;/code&gt;æ˜¯ä¸æ˜¯å¯ä»¥è§£å†³é—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å†æ”¹é€ ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public class Singleton {

    private static Singleton instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;;

    private Singleton(){}

    public synchronized static Singleton getInstance() {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; instance) {
            instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Singleton();
        }
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; instance;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å† Debug ä¸€ä¸‹ã€‚
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-monitor.png&#34; alt=&#34;&#34; /&gt;
çœ‹åˆ°å°±ä¸€ä¸ª Thread æ˜¯ running çš„ï¼Œå…¶ä»–çš„æ˜¯ Monitor çš„ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥äº†ã€‚æˆ‘ä»¬å¾€ä¸‹ç»§ç»­èµ°ã€‚
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-monitor-t0-over.png&#34; alt=&#34;&#34; /&gt;
çœ‹åˆ°ï¼ŒThread0 èµ°å‡ºæ¥ä¹‹åï¼ŒThread4 æ‰è¿›å…¥åˆ° Running çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯åŠ å…¥&lt;code&gt;synchronized&lt;/code&gt;æŠŠæ•´ä¸ªclasséƒ½é”ä½äº†ã€‚ç›®çš„åˆ°åº•ï¼Œä½†æ˜¯æ€§èƒ½ä¸å¥½ã€‚æˆ‘ä»¬å†æ”¹é€ ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public class Singleton {

    private static Singleton instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;;

    private Singleton(){}

    public static Singleton getInstance() {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; instance) {
            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;synchronized&lt;/span&gt;(Singleton.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;) {
                instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Singleton();
            }
        }
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; instance;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å†Debug çœ‹çœ‹
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-running-2.png&#34; alt=&#34;&#34; /&gt;
ç°åœ¨æ‰€æœ‰ Thread éƒ½æ˜¯ Running çš„äº†ã€‚æˆ‘ä»¬ç»§ç»­èµ°ï¼Œå…ˆçœ‹çœ‹ Thread0
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-t0-running-2.png&#34; alt=&#34;&#34; /&gt;
å†çœ‹çœ‹ Thread3
&lt;img src=&#34;https://izcqi.com/images/singleton-breakpoint-t3-running.png&#34; alt=&#34;&#34; /&gt;
çœ‹æ ·å­åˆè¦è¢«è¦†ç›–å’¯ï¼ï¼ï¼çœ‹æ¥è¿˜æ˜¯ä¸è¡Œå“¦ï¼æ˜¯ä¸æ˜¯æˆ‘ä»¬å†åŠ ä¸€æŠŠé”å“¦ï¼Ÿï¼&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å†æ”¹é€ ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;public class Singleton {

    private static Singleton instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;;

    private Singleton(){}

    public static Singleton getInstance() {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; instance) {
            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;synchronized&lt;/span&gt;(Singleton.&lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;) {
                &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; instance) {
                    instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Singleton();
                }
            }
        }
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; instance;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ¬¡æˆ‘ä»¬å…ˆ Run ä¸€ä¸‹çœ‹çœ‹ç»“æœï¼Œè¾“å‡º&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;running at threadThread-2&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@b0545bc
running at threadThread-0&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@b0545bc
running at threadThread-1&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@b0545bc
running at threadThread-3&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@b0545bc
running at threadThread-4&amp;gt;&amp;gt;cn.zhucongqi.singleton.Singleton@b0545bc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»“æœå¯¹å’¯ï¼ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å…¶å®ï¼Œåˆšæ‰çš„æ•ˆæœå’Œä¸æ–­çš„æ”¹é€ ï¼Œæˆ‘ä»¬æŠŠæœ€åˆçš„&lt;code&gt;Singleton&lt;/code&gt;æ”¹é€ æˆäº†&lt;strong&gt;DoubleCheck&lt;/strong&gt; çš„æ‡’æ±‰å¼Singletonäº†ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶äº†ï¼Œä¸Šé¢è¿™ç§æ–¹å¼åªæ˜¯ä¸€ç§æ–¹å¼ç½¢äº†ã€‚ä¸‹é¢ç›´æ¥ä¸Šå…¶ä»–çš„æ–¹å¼Codeã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;2020.2.20æ›´æ–°&lt;/p&gt;

&lt;p&gt;åœ¨Doublecheckçš„ç¬¬ä¸€æ¬¡checkçš„æ—¶å€™ï¼Œ&lt;strong&gt;ä»£ç è¯»å–åˆ°instanceä¸ä¸ºnullæ—¶ï¼Œinstanceå¼•ç”¨çš„å¯¹è±¡æœ‰å¯èƒ½è¿˜æ²¡æœ‰å®Œæˆåˆå§‹åŒ–ã€‚&lt;/strong&gt;ä¸»è¦åŸå› æ˜¯&lt;strong&gt;é‡æ’åº&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ‰€ä»¥åªéœ€è¦åšä¸€ç‚¹å°çš„ä¿®æ”¹ï¼ˆæŠŠinstanceå£°æ˜ä¸ºvolatileå‹ï¼‰ï¼Œå°±å¯ä»¥å®ç°çº¿ç¨‹å®‰å…¨çš„å»¶è¿Ÿåˆå§‹åŒ–ã€‚&lt;/strong&gt;å› ä¸ºè¢«volatileå…³é”®å­—ä¿®é¥°çš„å˜é‡æ˜¯è¢«ç¦æ­¢é‡æ’åºçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;private static volatile Singleton instance &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;enumsingleton-æšä¸¾æ–¹å¼å®ç°çš„å•ä¾‹&#34;&gt;EnumSingleton æšä¸¾æ–¹å¼å®ç°çš„å•ä¾‹&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// Enum Singleton
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;public enum EnumSingleton {

    INSTANCE;
    
    public static EnumSingleton getInstance() {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; INSTANCE;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;innerclasssingleton-å†…éƒ¨ç±»æ–¹å¼å®ç°çš„å•ä¾‹&#34;&gt;InnerClassSingleton å†…éƒ¨ç±»æ–¹å¼å®ç°çš„å•ä¾‹&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// Inner class Singleton
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;public class InnerSingleton {

    private InnerSingleton(){
        &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; InnerHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;INSTANCE&lt;/span&gt;) {
            &lt;span style=&#34;color:#ff79c6&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; RuntimeException(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Just only one Instance can be create!&amp;#34;&lt;/span&gt;);
        }
    }

    &lt;span style=&#34;color:#6272a4&#34;&gt;//Serializable
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    private Object readResolve() {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; InnerHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;INSTANCE&lt;/span&gt;;
    }

    public static InnerSingleton getInstance() {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; InnerHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;INSTANCE&lt;/span&gt;;
    }

    private static class InnerHolder {
        private static final InnerSingleton INSTANCE &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; InnerSingleton();
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;ç‰¹åˆ«è¯´æ˜&#34;&gt;ç‰¹åˆ«è¯´æ˜&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸ºäº†é¿å…åºåˆ—åŒ–å‡ºç°çš„ Singleton å®ä¾‹ä¸å”¯ä¸€çš„æƒ…å†µï¼Œè¦†ç›– Object çš„readResolveæ–¹æ³•ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;private Object readResolve() {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; InnerHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;INSTANCE&lt;/span&gt;;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ä¸ºäº†é¿å…ï¼Œé€šè¿‡åå°„é”™è¯¯çš„ä½¿ç”¨ Singletonï¼Œåœ¨æ„é€ ä¸­åšå†å¤„ç†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;private InnerSingleton(){
    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;!=&lt;/span&gt; InnerHolder.&lt;span style=&#34;color:#50fa7b&#34;&gt;INSTANCE&lt;/span&gt;) {
        &lt;span style=&#34;color:#ff79c6&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; RuntimeException(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Just only one Instance can be create!&amp;#34;&lt;/span&gt;);
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
     </item>
   
     <item>
       <title>æœ¨æ¡¶ä¸æ‰¬é•¿é¿çŸ­</title>
       <link>https://izcqi.com/posts/2019/11/27/barrel-and-strengths-avoid-weaknesses/</link>
       <pubDate>Wed, 27 Nov 2019 19:18:23 +0800</pubDate>
       <author>zcq#zhucongqi.cn (Qicz)</author>
       <guid>https://izcqi.com/posts/2019/11/27/barrel-and-strengths-avoid-weaknesses/</guid>
       <description>&lt;p&gt;ã€€ã€€æœ¨æ¡¶è§†ç››æ°´çš„å¤šå°‘æ¥å…·ä½“ä»–åº”æœ‰çš„ä»·å€¼ï¼Œæ‰€ä»¥å‡ºç°äº†ï¼ŒçŸ­æ¿å†³å®šå…¶ä»·å€¼çš„è¯´æ³•ã€‚
æ‰¬é•¿é¿çŸ­ï¼Œè¯´çš„æ˜¯è¦å»å‘æŒ¥é•¿å¤„ï¼Œé¿å¼€çŸ­å¤„ã€‚ä¼¼ä¹ä¸â€œæœ¨æ¡¶â€ç›¸åäº†ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä½†ï¼Œäººæ— å®Œäººé‡‘æ— è¶³èµ¤ï¼Œå®Œäººä¸å¯èƒ½å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯äººä¹‹çŸ­ï¼Œå¿…ç„¶å­˜åœ¨ã€‚å½“å¯¹äºé•¿çŸ­å¦‚ä½•å–èˆå‘¢ ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ã€€ã€€å•†ä¸šè¡Œä¸ºä¸­ï¼Œæ”»ç ´çŸ­æ¿å¯èƒ½æ˜¯åˆ¶èƒœä¹‹å®ã€‚æ¯”å¦‚å‡ ä¸ªäººä¸€èµ·åˆä¼™åˆ›ä¸šï¼Œå„ç§èƒ½åŠ›ä¸ä¸€ï¼Œä½†åœ¨åˆ›ä¸šè¿™ä»¶äº‹ä¸Šï¼Œç»å¯¹éƒ½æ˜¯â€œé•¿é•¿â€ç»“åˆï¼Œæœ€åä¹Ÿå®ç°äº†â€œæœ‰æ•ˆæœ¨æ¡¶â€ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä½†å¯¹äºä¸ªäººæ¥è¯´ï¼Œæ—¢ç„¶äººæ— å®Œäººï¼Œè€Œä¸”äººç”ŸçŸ­çŸ­æ•°è½½ï¼Œæˆ‘ä»¬çš„é€‰æ‹©åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ åœ¨æˆ‘æ¥çœ‹ï¼Œé€‰æ‹©æè‡´æ•ˆæœå¯èƒ½æ›´å¤§ï¼Œä¹Ÿå°±æ˜¯å…¨åŠ›å»å‘æŒ¥è‡ªå·±çš„é•¿å¤„ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€æœ‰ä¸€ç§è¯´æ³•ï¼Œä¸€ä¸ªäººçš„æŸä¸€æ–¹é¢æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆåˆ«çš„æ–¹é¢è‚¯å®šæœ‰å¼ºé¡¹ï¼Œè€Œä¸”æ˜¯éå¸¸å¼ºçš„å¼ºé¡¹ã€‚æ¯”å¦‚ä¸€ä¸ªå¤±èªä¹‹äººï¼Œå¯èƒ½è§†åŠ›å¯èƒ½ä¼šéå¸¸å‡ºä¼—ï¼›å¤±æ˜ä¹‹äººï¼Œå¯èƒ½å¬åŠ›åˆç‰¹é•¿ã€‚å¤±èªä¹‹äººï¼Œå¦‚ä½•åŠªåŠ›ä¹Ÿä¸å¯èƒ½æŠŠè‡ªå·±çš„â€œçŸ­â€é•¿äº›ï¼Œå¤±æ˜ä¹‹äººäº¦æ˜¯ã€‚æ‰€ä»¥å‘æŒ¥è‡ªå·±çš„å¼ºé¡¹ï¼Œäºä¸ªäººè€Œè§ï¼Œæ›´ä¼˜ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€æœ€è¿‘ï¼Œçœ‹åˆ°ä¸€ç§â€œTâ€å‹ç†è®ºï¼Œè¯´çš„æ˜¯Tä¹‹ç«–å‘ï¼Œä¸ºä¸ªäººé•¿å‘ï¼ŒTä¹‹æ¨ªå‘ï¼Œä¸ºä¸ªäººä¹‹çŸ­å‘å»¶ä¼¸ã€‚è¿™æ ·ç¡®ä¿äº†ï¼Œä½ å¯ä»¥æˆä¸ºä¸€ä¸ªâ€œç»¼åˆæ€§äººæ‰â€ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€æ‰€ä»¥ï¼Œå®Œå®Œå…¨å…¨çš„èˆå¼ƒçŸ­å‘ï¼Œè‡ªç„¶ä¸å¯å–ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å¯¹äºé•¿çŸ­çš„åˆç†åˆ†é…ï¼Œä¸ªäººè§è§£ï¼Œä¼˜é•¿æ¬¡çŸ­ã€‚è¦æƒ³å®ç°â€œæ‰¬é•¿é¿çŸ­â€ï¼Œç¬¬ä¸€ç‚¹ï¼Œæ˜¯è¦å¯¹è‡ªèº«å„æ–¹é¢çš„ä¼˜åŠ£é•¿çŸ­ï¼Œæœ‰æ¸…æ™°å®¢è§‚çš„ç•Œå®šã€æè¿°å’Œæ´å¯Ÿã€‚ç¬¬äºŒç‚¹ï¼Œæ˜¯åœ¨çŸ¥é“äº†â€œçŸ­â€ä¸â€œé•¿â€ä¹‹åçš„å…·ä½“æ“ä½œï¼Œæ¯”å¦‚â€œé¿çŸ­â€å°±åŒ…æ‹¬å¤šç§æ–¹å¼ï¼ŒæŠ€å·§æ€§åœ°è—æ‹™ã€æˆ˜ç•¥æ€§åœ°èˆå¼ƒã€ä¸»åŠ¨å¼åœ°æ”»å…‹çŸ­å¤„å½»åº•æå‡ç­‰ï¼›æ¯”å¦‚â€œæ‰¬é•¿â€éœ€è¦ç¯å¢ƒä¸æ—¶æœºï¼Œéœ€è¦å–ç‚¹ä¸äº®ç‚¹ï¼Œéœ€è¦é€‚é‡ä¸é€‚åº¦ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä¸è®ºæœ¨æ¡¶ï¼Œé•¿çŸ­ç†è®ºï¼Œå¯¹è‡ªå·±çš„è®¤çŸ¥ï¼Œæ‰æ˜¯åŸºç¡€ï¼Œè¦æ‰¾åˆ°è‡ªå·±çš„â€œé•¿â€æ‰æ˜¯æœ€æ ¸å¿ƒçš„å‰æï¼Œç”¨æœ‰é™çš„æ—¶é—´ï¼Œæ›´æœ‰æ•ˆçš„æŠ•å…¥åˆ°â€œé•¿â€ä¸Šï¼Œæ”¶è·å¯èƒ½ä¼šæ›´å¤šã€‚è®©è‡ªå·±çš„â€œçŸ­â€å¾—ä»¥åˆé€‚çš„å‘æŒ¥ï¼Œè®©è‡ªå·±â€œæ›´å…¨é¢â€ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä¸–ç•Œä¸Šçš„äº‹ï¼Œå¾€å¾€çŸ¥æ˜“è¡Œéš¾ï¼Œè€Œä¸”ï¼Œè¶Šæ˜¯é‚£äº›å¯¹äººç”Ÿæœ‰é‡å¤§è­¦ç¤ºä¸åŠ©ç›Šçš„é“ç†ï¼Œè¶Šæ˜¯å¦‚æ­¤ã€‚è€ŒçŸ¥æ˜“è¡Œéš¾ï¼Œè¡¨é¢ä¸Šçœ‹æ˜¯ç”±äºä¸å¤Ÿè‡ªå¾‹ä¸å¤ŸåšæŒç­‰ï¼Œå…¶å®å´å¤§å¤šæ˜¯ç”±äºæ²¡æœ‰ç†è§£é€å½»ï¼Œæ²¡æœ‰é€å½»åˆ°åŒ–æˆè‡ªå·±çš„æ€ç»´æ„è¯†ï¼Œå¯¹è¿™äº›é“ç†åªæ˜¯åœ¨äººäº‘äº¦äº‘ã€éš”é´æ”ç—’ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€æ¯”å¦‚â€œæ‰¬é•¿é¿çŸ­â€ï¼Œæœ¬æ˜¯ä¸€ä¸ªé«˜åº¦å‡ç»ƒçš„ã€åŠ©äººè‰¯å¤šçš„æˆè¯­ï¼Œä½†åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œå´å‡ ä¹æ²¦ä¸ºä¸€å¥â€œæ— å®ä¹‰â€çš„å¥—è¯­ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€è¦æƒ³å®ç°â€œæ‰¬é•¿é¿çŸ­â€ï¼Œç¬¬ä¸€ç‚¹ï¼Œæ˜¯è¦å¯¹è‡ªèº«å„æ–¹é¢çš„ä¼˜åŠ£é•¿çŸ­ï¼Œæœ‰æ¸…æ™°å®¢è§‚çš„ç•Œå®šã€æè¿°å’Œæ´å¯Ÿã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ç¬¬äºŒç‚¹ï¼Œæ˜¯åœ¨çŸ¥é“äº†â€œçŸ­â€ä¸â€œé•¿â€ä¹‹åçš„å…·ä½“æ“ä½œï¼Œæ¯”å¦‚â€œé¿çŸ­â€å°±åŒ…æ‹¬å¤šç§æ–¹å¼ï¼ŒæŠ€å·§æ€§åœ°è—æ‹™ã€æˆ˜ç•¥æ€§åœ°èˆå¼ƒã€ä¸»åŠ¨å¼åœ°æ”»å…‹çŸ­å¤„å½»åº•æå‡ç­‰ï¼›æ¯”å¦‚â€œæ‰¬é•¿â€éœ€è¦ç¯å¢ƒä¸æ—¶æœºï¼Œéœ€è¦å–ç‚¹ä¸äº®ç‚¹ï¼Œéœ€è¦é€‚é‡ä¸é€‚åº¦ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å…³äºç¬¬ä¸€ç‚¹ï¼Œæˆ‘ä»¬åœ¨ã€Šè‡ªçŸ¥ä¹‹æ˜ï¼šç®¡ç†å­¦çš„ç»ˆææ³•å®ã€‹ä¸€æ–‡ä¸­æœ‰è¿‡ä¸“é—¨è®ºè¿°ï¼Œè€Œç¬¬äºŒç‚¹ï¼Œåˆ™è¦å€Ÿé‰´è‘—åçš„â€œæœ¨æ¡¶ç†è®ºâ€æ¥è¿›ä¸€æ­¥ç»†è¯´ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€â€œæœ¨æ¡¶ç†è®ºâ€æ˜¯ç”±ç¾å›½ç®¡ç†å­¦å®¶å½¼å¾—æå‡ºçš„ï¼Œå®ƒå‡å®šæœ¨æ¡¶çš„å…¨éƒ¨ä»·å€¼åœ¨äºèƒ½å¤Ÿç››æ°´ï¼Œæœ¨æ¡¶ç”±å¤šå—æœ¨æ¿æ’åˆ—ç®æˆï¼Œç››æ°´é‡åˆ™ç”±è¿™äº›æœ¨æ¿å…±åŒå†³å®šã€‚å¦‚æœå…¶ä¸­ä¸€å—æœ¨æ¿å¾ˆçŸ­ï¼Œé‚£ä¹ˆæ­¤æœ¨æ¡¶çš„ç››æ°´é‡å°±ä¼šè¢«é™åˆ¶ï¼Œè€Œè‹¥è¦ä½¿ç››æ°´é‡å¢åŠ ï¼Œåªæœ‰æ¢æ‰è¿™å—çŸ­æ¿æˆ–å°†å…¶åŠ é•¿æ‰è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªæ°´æ¡¶æ— è®ºæœ‰å¤šé«˜ï¼Œå®ƒç››æ°´çš„é«˜åº¦å¹¶ä¸å–å†³äºæ¡¶å£ä¸Šæœ€é«˜çš„é‚£å—æœ¨æ¿ï¼Œè€Œæ°æ°å–å†³äºæœ€çŸ­çš„é‚£ä¸€å—ï¼Œå› æ­¤äººä»¬åˆå¸¸å°†è¿™ä¸€è§„å¾‹ç§°ä½œâ€œçŸ­æ¿ç†è®ºâ€ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å…³äºâ€œæœ¨æ¡¶ç†è®ºâ€è¿˜æœ‰ä¸¤ä¸ªæ¨è®ºï¼šå…¶ä¸€ï¼Œåªæœ‰æ¡¶å£ä¸Šçš„æ‰€æœ‰æœ¨æ¿éƒ½è¶³å¤Ÿé«˜ï¼Œæœ¨æ¡¶æ‰èƒ½è£…æ»¡æ°´ã€‚å…¶äºŒï¼Œåªè¦æœ‰ä¸€å—æœ¨æ¿ä¸å¤Ÿé«˜åº¦ï¼Œæœ¨æ¡¶å°±ä¸å¯èƒ½çœŸæ­£è£…æ»¡æ°´ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å°±åƒä¸€ä¸ªçƒé˜Ÿï¼Œæ— è®ºå…ˆå‘ä¸»åŠ›è¿˜æ˜¯æ¿å‡³æ›¿è¡¥ï¼Œåªæœ‰æ¯ä¸€ä¸ªä½ç½®ã€æ¯ä¸€ä¸ªè§’è‰²éƒ½å…·å¤‡å¹³å‡æ°´å‡†ä»¥ä¸Šçš„ç»¼åˆæ”»é˜²èƒ½åŠ›ï¼Œæ‰èƒ½åœ¨é¢å¯¹ä¸åŒç‰¹ç‚¹çš„çƒé˜Ÿæ—¶éƒ½èƒ½æœ‰å……è£•çš„åº”å¯¹æªæ–½ï¼Œæ‰èƒ½è·å¾—æ›´å¤šèƒœåˆ©ã€‚è€Œåªè¦å­˜åœ¨ä¸€ä¸ªä½ç½®çš„ç¼ºé™·ï¼Œå°±æœ‰å¯èƒ½è¢«é’ˆå¯¹ï¼Œç”šè‡³ä»è¿™ä¸€å¤„çŸ­æ¿å¼•å‘ä¸€ç³»åˆ—æºƒè´¥ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€åŒæ—¶ï¼Œåœ¨â€œæœ¨æ¡¶ç†è®ºâ€çš„æ½œå°è¯ä¸­ï¼Œâ€œæœ¨æ¡¶â€çš„æ‰€æŒ‡å¹¶éå›ºå®šçš„ï¼Œå¯ä»¥æ˜¯æŒ‡æŸä¸€ä¼ä¸šã€éƒ¨é—¨ã€ç­ç»„ï¼Œä¹Ÿå¯ä»¥æŒ‡æŸä¸€ä¸ªå‘˜å·¥ï¼›è¿˜å¯ä»¥æœ‰å¤šä¸ªâ€œæœ¨æ¡¶â€ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªç»„ç»‡å†…éƒ¨å¯ä»¥åˆ’åˆ†å‡ºæ¥çš„ç›¸å¯¹ç‹¬ç«‹çš„å„èŒèƒ½éƒ¨é—¨ã€‚ä¸€ä¸ªæ•´ä½“ç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤§çš„â€œæœ¨æ¡¶â€ï¼Œç³»ç»Ÿå†…çš„å„ä¸ªæœ‰æœºæ¿å—åˆ™å¯ä»¥è§†ä¸ºä¸€ä¸ªä¸ªå°çš„â€œæœ¨æ¡¶â€ã€‚å¤§æœ¨æ¡¶çš„å„ä¸ªæ¿å—å’Œå°æœ¨æ¡¶çš„å„ä¸ªæ¿å—éƒ½æ˜¯ä¼˜åŠ£ä¸é½çš„ï¼Œè€ŒåŠ£åŠ¿éƒ¨åˆ†å¾€å¾€å†³å®šäº†æŸä¸ªâ€œå°æœ¨æ¡¶â€ä¸â€œå¤§æœ¨æ¡¶â€çš„æ•´ä½“ç«äº‰åŠ›ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä»»ä½•ä¼ä¸šæˆ–å›¢ä½“ï¼Œéƒ½å¿…æœ‰å…¶è–„å¼±ç¯èŠ‚ï¼Œæ— è®ºæ˜¯äººæ˜¯ç‰©ï¼Œè¿˜æ˜¯ç¯å¢ƒä¸åˆ¶åº¦ã€‚è¿™äº›çŸ­æ¿ä¼šç›´æ¥æˆ–é—´æ¥åœ°å¯¼è‡´è§„åˆ’ä¸å†³ç­–ã€æ‰§è¡ŒåŠ›ä¸æŒç»­æ€§ã€åˆ›æ–°ä¸æå‡ç­‰æ–¹é¢çš„å¤±è´¥ï¼Œè¿›ä¸€æ­¥é€ æˆäººé™…çº·äº‰ã€æš—æ²‰æ­»æ¿ã€èµ˜å†—ä½æ•ˆçš„ç”Ÿæ€ç¯å¢ƒï¼Œä¸¥é‡å½±å“å¹¶åˆ¶çº¦ç€ç¾¤ä½“å‘å±•ã€‚æ‰€è°“â€œç»†èŠ‚å†³å®šæˆè´¥â€ã€‚è§£å†³çŸ­æ¿ï¼ŒåŠ¿åœ¨å¿…è¡Œã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä»ç®¡ç†å­¦è§’åº¦çœ‹ï¼Œæœ€éš¾å¤„ç†çš„çŸ­æ¿å½“ç„¶è¿˜æ˜¯â€œäººâ€ï¼Œä½†è¿™æˆ–è®¸æ‰æ˜¯çœŸæ­£è¦å‘½çš„é—®é¢˜ã€‚å·¥ä½œç³»ç»Ÿå†…çš„äººï¼Œèƒ½åŠ›æ¬ ç¼ºæ˜¯çŸ­ï¼ŒçŸ¥è¯†è´«ä¹æ˜¯çŸ­ï¼Œæ€§æ ¼ä¸ä½³æ˜¯çŸ­ã€å“è¡Œä¸å–„ä¹Ÿæ˜¯çŸ­ï¼›è€ŒåŸºæœ¬ä¸Šï¼Œä¸€ä¸ªç¾¤ä½“ä¸­å“ªæ€•åªæœ‰ä¸€ä¸ªäººå­˜åœ¨è¿™äº›æ˜æ˜¾çŸ­æ¿ï¼Œéƒ½æœ‰æå¤§å¯èƒ½å°†æ•´ä¸ªå›¢é˜Ÿå’Œäº‹ä¸šå¸¦å…¥æ³¥æ½­ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å› æ­¤ï¼Œä¸‹æ–‡ä¸­æåˆ°çš„å¯¹äºâ€œçŸ­æ¿â€çš„å¤„ç†æ–¹æ³•ï¼Œæ—¢æ˜¯æŒ‡äº‹æŒ‡ç‰©ï¼Œä¹ŸåŒæ ·å¯ä»¥æŒ‡äººã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€åº”å¯¹â€œæœ¨æ¡¶ç†è®ºâ€æå‡ºçš„â€œçŸ­æ¿â€é—®é¢˜ï¼Œæ— éä¸‰ä¸ªå®æ“æ–¹æ¡ˆï¼š&lt;/p&gt;

&lt;p&gt;ã€€ã€€ç¬¬ä¸€ä¸ªæ–¹æ¡ˆï¼Œæ˜¯ä¿®è¡¥çŸ­æ¿ï¼Œä½¿ä¹‹å˜é•¿å˜å¼ºã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€æ‰€æœ‰å…·å¤‡æŸé¡¹è¿åŠ¨é”»ç‚¼ç»éªŒçš„äººï¼Œéƒ½èƒ½å¼ºçƒˆæ„Ÿå—åˆ°â€œè¡¥çŸ­æ¿â€å¸¦æ¥çš„è¿é”ååº”å’Œç³»ç»Ÿæ€§æå‡ï¼šå½“é•¿æœŸé™åˆ¶ä½ çš„æŸä¸ªçŸ­å¤„è¢«å…‹æœæ—¶ï¼Œä½ çš„å„é¡¹èƒ½åŠ›éƒ½ä¼šéšä¹‹å˜å¼ºï¼Œè¿›è€Œå‘ç”Ÿæ•´ä½“å®åŠ›çš„è´¨å˜ï¼Œå°±åƒæ–­çº¿çš„ç å­å¿½ç„¶ä¸²äº†èµ·æ¥ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ç›´é¢é—®é¢˜ï¼Œè‹¦ä¿®æå‡ï¼Œå½»åº•å˜â€œçŸ­â€ä¸ºâ€œé•¿â€ã€‚è¿™ä¸ªè¿‡ç¨‹åƒæäº†â€œæ ¼ç‰©è‡´çŸ¥â€ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå…¶ä¸­å¿…ç„¶ä¼šæœ‰ä¸€ä¸ªä»é‡å˜åˆ°è´¨å˜çš„è¿‡ç¨‹ï¼Œéœ€è¦æ—¶é—´çš„ç§¯ç´¯ï¼Œæ­£å¦‚å®‹æ˜ç†å­¦æ‰€è¯´çš„ï¼šâ€œè‡³äºç”¨åŠ›ä¹‹ä¹…è€Œä¸€æ—¦è±ç„¶è´¯é€šï¼Œåˆ™ä¼—ç‰©ä¹‹è¡¨é‡Œç²¾ç²—æ— ä¸åˆ°ï¼Œè€Œå¾å¿ƒä¹‹ä¸»ä½“å¤§ç”¨æ— ä¸æ˜çŸ£ï¼â€&lt;/p&gt;

&lt;p&gt;ã€€ã€€ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œæ˜¯å½»åº•èˆå¼ƒçŸ­æ¿ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å°½ç®¡åŸæœ¬çš„â€œæœ¨æ¡¶ç†è®ºâ€å‡å®šäº†æœ¨æ¡¶çš„å®Œæ•´æ€§æ˜¯ä¸€ä¸ªå‰æï¼Œâ€œæœ€çŸ­çš„éƒ¨åˆ†â€ä»ç„¶æ˜¯ç»„ç»‡ä¸­ä¸€ä¸ªæœ‰æœºæ„æˆçš„æœ‰ç”¨éƒ¨åˆ†ï¼Œä¸èƒ½å½“æˆçƒ‚è‹¹æœæ‰”æ‰ï¼Œå¦åˆ™å°±ä¼šä¸€ç‚¹æ°´ä¹Ÿè£…ä¸äº†ï¼Œä½†æ˜¯ï¼Œåœ¨ç°å®ç”Ÿæ´»å’Œå·¥ä½œä¸­ï¼Œè®¸å¤šâ€œçŸ­æ¿â€å…¶å®æ˜¯å¯é€‰æ‹©ã€å¯æ”¾å¼ƒçš„ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å¤ä»£å¥‡ä¹¦ã€Šé˜´ç¬¦ç»ã€‹ä¸­æœ‰ä¸€å¥æƒŠä¸–éª‡ä¿—çš„è¯ï¼šâ€œç½è€…å–„å¬ï¼Œè‹è€…å–„è§†ã€‚ç»åˆ©ä¸€æºï¼Œç”¨å¸ˆåå€ï¼›ä¸‰åæ˜¼å¤œï¼Œç”¨å¸ˆä¸‡å€ã€‚â€å¯¹æ­¤æ¯”è¾ƒæ™®éçš„è§£é‡Šæ˜¯ï¼šè€³è‹è€…å–„äºå‘æ‰¬è§†è§‰çš„ä¼˜åŠ¿ï¼Œçœ¼ç›²è€…å–„äºå‘æ‰¬å¬è§‰çš„ä¼˜åŠ¿ï¼Œå°é—­å…¶ä¸­ä¸€å¤„ï¼Œé›†ä¸­äºå¦ä¸€å¤„ï¼Œå°±èƒ½å¤Ÿäº§ç”Ÿç”¨åŠ›åå€çš„åŠŸæ•ˆã€‚å¼ºè°ƒçš„æ˜¯é›†ä¸­åŠ›é‡ï¼Œå‘å±•ä¸€å¤„ï¼Œå¼ºå¤§ä¸€å¤„ï¼Œå¾€å¾€æ˜¯é¢å¯¹é—®é¢˜æ—¶çš„æ›´ä½³é€‰æ‹©ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€è¿™æ®µé€†å‘æ€ç»´çš„è®ºè¿°ï¼Œæ˜¯å¯¹è€å­â€œåè€…é“ä¹‹åŠ¨â€ç†å¿µçš„æ¼”åŒ–ï¼šå°‘å³å¤šï¼Œæ…¢å³å¿«ï¼Œå¼ƒå³å¾—ï¼ŒåŸåœ°æ•´åˆå³å‰è¿›æå‡ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä¸ºäº†æ©é¥°æˆ–ä¿®è¡¥æŸäº›çŸ­æ¿ï¼Œå¾€å¾€ç»™æˆ‘ä»¬é€ æˆäº†å¤ªå¤šæ‹–ç´¯ã€‚è¿™äº›çŸ­æ¿ï¼Œå¯¹äºå·¥ä½œç³»ç»Ÿçš„è¿ä½œï¼Œæœ‰äº›æ˜¯å½»åº•çš„ç´¯èµ˜ä¸æ··ä¹±ä¹‹æºï¼Œæœ‰äº›æ˜¯å¼ƒä¹‹å¯æƒœä½†åˆé£Ÿä¹‹æ— å‘³ï¼Œæœ‰äº›çœ‹ä¼¼æœ‰ç”¨ä½†å…¶å®æ˜¯å¼Šå¤§äºåˆ©ã€è¿‡å¤§äºåŠŸã€æŸå¤§äºç›Šã€‚ä»æ•´ä½“ç›®æ ‡å’Œåˆ©ç›Šè§’åº¦å‡ºå‘ï¼Œå¯¹äºè¿™äº›çŸ­æ¿ï¼Œä¸å¿…å†æµªè´¹èµ„æºå’Œèƒ½é‡ï¼Œå½“æ–­åˆ™æ–­ï¼Œå°±åƒä¸‹æ£‹æ—¶å¼ƒå°åˆ©è€Œäº‰å…ˆã€å¼ƒå±€éƒ¨è€Œäº‰æ•´ä½“ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ç»åˆ©ä¸€æºï¼Œä¸€æ–¹é¢ï¼Œæ˜¯åœ¨æ‰“ç ´â€œæ”»å…‹çŸ­æ¿å°±èƒ½å¤§å¹…è·åˆ©â€çš„æƒ¯æ€§æ€ç»´ï¼Œå½»åº•æ”¾å¼ƒä¿®è¡¥çŸ­æ¿ï¼Œè…¾å‡ºæ—¶é—´ã€å¿ƒåŠ›ã€äººåŠ›ã€ç‰©åŠ›ï¼ŒæŠ•æ”¾åœ¨èƒ½å¤Ÿæ›´å¿«ã€æ›´å¤šäº§ç”Ÿæ•ˆèƒ½çš„åœ°æ–¹ã€‚å¦ä¸€æ–¹é¢ï¼Œè¿˜å¯ä»¥è¿›ä¸€æ­¥æŒ‡æ”¾å¼ƒé‚£äº›æŠ•å…¥äº§å‡ºæ¯”ä½ä¸‹çš„â€œåˆ©â€ï¼Œæ”¾å¼ƒé‚£äº›åè€Œä¸å®çš„â€œåˆ©â€ï¼Œæ”¾å¼ƒé‚£äº›åˆ†æ•£ç²¾åŠ›çš„ã€ä¸åˆäºæ•´ä½“è§„åˆ’çš„â€œåˆ©â€ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ç¬¬ä¸‰ä¸ªæ–¹æ¡ˆï¼Œå…¶å®å’Œç¬¬äºŒä¸ªæ–¹æ¡ˆæ˜¯è¡”æ¥å’Œé€’è¿›çš„å…³ç³»ï¼Œèƒ½å¤Ÿä½¿å¾—ç¬¬äºŒä¸ªæ–¹æ¡ˆæ›´å®Œæ•´ã€æ›´æœ‰æ•ˆï¼Œå³åˆ©ç”¨å¤šç§æ¸ é“å’Œå¤šæ–¹èµ„æºï¼Œæœ‰é™åº¦åœ°ã€ç­–ç•¥æ€§åœ°å¼¥è¡¥çŸ­æ¿ï¼Œä½†å°†ä¸»è¦æ—¶é—´å’Œç²¾åŠ›é›†ä¸­äºé•¿æ¿å’Œå¼ºç‚¹çš„å‘å±•ï¼Œä½¿ä¹‹æ›´é•¿æ›´å¼ºã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€ç›¸æ¯”äºâ€œçŸ­æ¿ç†è®ºâ€ï¼Œå½“ä»£çš„è®¸å¤šç®¡ç†è€…ä¼¼ä¹å·²ç»è¶Šæ¥è¶Šçœ‹é‡â€œé•¿æ¿æ•ˆåº”â€ï¼Œè€Œä¸”è®¤ä¸ºåœ¨æ—¶é—´æˆæœ¬å æ®æœ€é«˜æƒé‡çš„å‰æä¸‹ï¼Œå¼ºåŒ–é•¿æ¿æˆ–è®¸è¦æ¯”è¡¥å……çŸ­æ¿æ›´é‡è¦ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€å¯¹äºä¼ä¸šæ¥è¯´ï¼Œåœ¨çŸ¥è¯†å¯æ›¿ä»£ã€æœåŠ¡å¯è´­ä¹°ã€èµ„æºåˆ†æ•£åŒ–çš„å½“ä¸‹ï¼Œä¿¡æ¯è·å–ã€æŠ€èƒ½è·å¾—ã€äººæ‰è¡¥å……å˜å¾—è¶Šæ¥è¶Šç®€ä¾¿æ˜“è¡Œã€‚éšç€æ—¶ä»£ç§‘æŠ€å‘å±•ä¸ç¤¾ä¼šåˆ†å·¥ç»†åŒ–ï¼Œå¯è´­ä¹°äº¤æ˜“çš„æ—©å·²ä¸é™äºç‰©å“ï¼Œè€Œæ˜¯å‡ ä¹å¯ä»¥æ¶µç›–ä¸€åˆ‡äººã€äº‹ã€ç‰©ã€‚æ— è®ºä¼ä¸šå‘å±•æ‰€éœ€çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Œéƒ½å¤§å¯ä»¥ç”¨åˆä½œå…±äº«èµ„æºã€æŠ•èµ„è´­ä¹°æœåŠ¡ã€è˜ç”¨ä¸“ä¸šå›¢é˜Ÿç­‰æ–¹å¼ï¼Œè¡¥è¶³ä»¥å¾€éœ€è¦ä»˜å‡ºå¤§é‡äººåŠ›ç‰©åŠ›æ‰å¯æå‡çš„çŸ­æ¿ã€‚è€Œå½“é•¿æ¿è¶³å¤Ÿé•¿æ—¶ï¼Œä¹Ÿå°±æœ‰äº†å……è¶³çš„æ—¶é—´å’ŒåŠ›é‡ä½¿çŸ­æ¿ä¸ä¼šå†çŸ­ã€‚&lt;/p&gt;
</description>
     </item>
   
 </channel>
</rss>

<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
  <meta name="generator" content="Hugo 0.59.1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <title>2021ç¬¬ä¸€ç¯‡é»‘ç§‘æŠ€ | Qicz&#39;s Thoughts HUB</title>
  <meta property="og:title" content="2021ç¬¬ä¸€ç¯‡é»‘ç§‘æŠ€ - Qicz&#39;s Thoughts HUB">
  <meta property="og:type" content="article">
      
  <meta property="article:published_time" content="2021-01-01T20:22:11&#43;08:00">
      
      
  <meta property="article:modified_time" content="2021-01-01T20:22:11&#43;08:00">
      
  <meta name="Keywords" content="Qicz,Jobsz,RD,technology,tech,learning,è®¾è®¡æ¨¡å¼,åˆ†å¸ƒå¼,æ¶æ„è®¾è®¡,P6,P7,è½¯ä»¶è®¾è®¡,æ•°æ®åº“,å¤§æ•°æ®,MySQL,Zookeeper,MongoDB,redis,dubbo,ServiceMesh,SOFAMesh,Serverless,hugo,Java,Mybatis,Spring,Spring Boot,Spring Cloud,istio,Kong,Gateway">
  <meta name="description" content="2021ç¬¬ä¸€ç¯‡é»‘ç§‘æŠ€">
      
  <meta name="author" content="Qicz">
  <meta property="og:url" content="https://izcqi.com/posts/2021/01/01/2021-first-black-tech/">
  
  <link rel="shortcut icon" href="https://izcqi.com/favicon.png" />
  

  <meta property="og:title" content="2021ç¬¬ä¸€ç¯‡é»‘ç§‘æŠ€" />
<meta property="og:description" content="èƒŒæ™¯ æœ€è¿‘æœ‰ä¸ªé¡¹ç›®æ¥å…¥äº†esï¼Œå¯¹äºæ£€ç´¢å…³é”®å­—éœ€è¦æ‰©å¤§èŒƒå›´æ£€ç´¢ç»“æœçš„åŒ¹é…èŒƒå›´ï¼Œæ‰€ä»¥è€ƒè™‘å°†æ£€ç´¢å…³é”®å­—è¿›è¡Œåˆ†è¯å¤„ç†ï¼Œå†äº¤ç»™eså¤„ç†ã€‚(å½“ç„¶è¿™é‡Œå¯ä»¥ç”¨esçš„highlevelclientçš„analyzeæ¥å£ï¼Œæ­¤å¤„ä¸è€ƒè™‘è¿™ç§æƒ…å†µ)ã€‚äºæ˜¯ç ”ç©¶ik-analysisã€‚äºæ˜¯æœ‰äº†ik-springboot-demoè¿™ä¸ªé¡¹ç›®ï¼Œæ¥ä¸‹æ¥éƒ½å°†ä»¥æ­¤é¡¹ç›®å±•å¼€æè¿°ã€‚
è§£å†³çš„é—®é¢˜  åœ¨SpringBooté¡¹ç›®ä¸­ç›´æ¥ä¸”ç®€å•ä¾¿æ·çš„ä½¿ç”¨ikã€‚
 æ”¶è·  å¾—åˆ°äº†SpringBooté¡¹ç›®ä¸­ä½¿ç”¨ikçš„ä¸¤ç§æ–¹å¼ï¼› å¾—åˆ°äº†SpringBooté¡¹ç›®çš„èµ„æºç®¡ç†çš„æ›´ä¼˜æ–¹æ¡ˆã€‚  é‡å¤´æˆ ä»ikçš„é¡¹ç›®æƒ…å†µå¼€å§‹ ï¼ˆä»¥ä¸‹æ‘˜å½•è‡ªikçš„github READMEï¼‰
 IKAnalyzer.cfg.xml can be located at {conf}/analysis-ik/config/IKAnalyzer.cfg.xml or {plugins}/elasticsearch-analysis-ik-*/config/IKAnalyzer.cfg.xml
ik_max_word: ä¼šå°†æ–‡æœ¬åšæœ€ç»†ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œâ€æ‹†åˆ†ä¸ºâ€œä¸­åäººæ°‘å…±å’Œå›½,ä¸­åäººæ°‘,ä¸­å,åäºº,äººæ°‘å…±å’Œå›½,äººæ°‘,äºº,æ°‘,å…±å’Œå›½,å…±å’Œ,å’Œ,å›½å›½,å›½æ­Œâ€ï¼Œä¼šç©·å°½å„ç§å¯èƒ½çš„ç»„åˆï¼Œé€‚åˆ Term Queryï¼›
ik_smart: ä¼šåšæœ€ç²—ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œâ€æ‹†åˆ†ä¸ºâ€œä¸­åäººæ°‘å…±å’Œå›½,å›½æ­Œâ€ï¼Œé€‚åˆ Phrase æŸ¥è¯¢ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://izcqi.com/posts/2021/01/01/2021-first-black-tech/" />
<meta property="article:published_time" content="2021-01-01T20:22:11+08:00" />
<meta property="article:modified_time" content="2021-01-01T20:22:11+08:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="2021ç¬¬ä¸€ç¯‡é»‘ç§‘æŠ€"/>
<meta name="twitter:description" content="èƒŒæ™¯ æœ€è¿‘æœ‰ä¸ªé¡¹ç›®æ¥å…¥äº†esï¼Œå¯¹äºæ£€ç´¢å…³é”®å­—éœ€è¦æ‰©å¤§èŒƒå›´æ£€ç´¢ç»“æœçš„åŒ¹é…èŒƒå›´ï¼Œæ‰€ä»¥è€ƒè™‘å°†æ£€ç´¢å…³é”®å­—è¿›è¡Œåˆ†è¯å¤„ç†ï¼Œå†äº¤ç»™eså¤„ç†ã€‚(å½“ç„¶è¿™é‡Œå¯ä»¥ç”¨esçš„highlevelclientçš„analyzeæ¥å£ï¼Œæ­¤å¤„ä¸è€ƒè™‘è¿™ç§æƒ…å†µ)ã€‚äºæ˜¯ç ”ç©¶ik-analysisã€‚äºæ˜¯æœ‰äº†ik-springboot-demoè¿™ä¸ªé¡¹ç›®ï¼Œæ¥ä¸‹æ¥éƒ½å°†ä»¥æ­¤é¡¹ç›®å±•å¼€æè¿°ã€‚
è§£å†³çš„é—®é¢˜  åœ¨SpringBooté¡¹ç›®ä¸­ç›´æ¥ä¸”ç®€å•ä¾¿æ·çš„ä½¿ç”¨ikã€‚
 æ”¶è·  å¾—åˆ°äº†SpringBooté¡¹ç›®ä¸­ä½¿ç”¨ikçš„ä¸¤ç§æ–¹å¼ï¼› å¾—åˆ°äº†SpringBooté¡¹ç›®çš„èµ„æºç®¡ç†çš„æ›´ä¼˜æ–¹æ¡ˆã€‚  é‡å¤´æˆ ä»ikçš„é¡¹ç›®æƒ…å†µå¼€å§‹ ï¼ˆä»¥ä¸‹æ‘˜å½•è‡ªikçš„github READMEï¼‰
 IKAnalyzer.cfg.xml can be located at {conf}/analysis-ik/config/IKAnalyzer.cfg.xml or {plugins}/elasticsearch-analysis-ik-*/config/IKAnalyzer.cfg.xml
ik_max_word: ä¼šå°†æ–‡æœ¬åšæœ€ç»†ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œâ€æ‹†åˆ†ä¸ºâ€œä¸­åäººæ°‘å…±å’Œå›½,ä¸­åäººæ°‘,ä¸­å,åäºº,äººæ°‘å…±å’Œå›½,äººæ°‘,äºº,æ°‘,å…±å’Œå›½,å…±å’Œ,å’Œ,å›½å›½,å›½æ­Œâ€ï¼Œä¼šç©·å°½å„ç§å¯èƒ½çš„ç»„åˆï¼Œé€‚åˆ Term Queryï¼›
ik_smart: ä¼šåšæœ€ç²—ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œâ€æ‹†åˆ†ä¸ºâ€œä¸­åäººæ°‘å…±å’Œå›½,å›½æ­Œâ€ï¼Œé€‚åˆ Phrase æŸ¥è¯¢ã€‚"/>
<meta name="generator" content="Hugo 0.59.1" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />  
  <link rel="stylesheet" href="https://izcqi.com/css/free.min.css?livereload=1574867372890" media="all">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="https://izcqi.com/css/styles.css" />
  
  <link href="https://izcqi.com/css/monokai.min.css" rel="stylesheet">
  </head>

<body>
  <div id="container">
    <header-container>
    <header>
      <h1>
        <a href="https://izcqi.com/">Qicz&rsquo;s Thoughts HUB</a>
      </h1>

      <ul id="social-media">
             <li>
               <a href="mailto:zcq#zhucongqi.cn" title="Email me" target="_blank">
               <i class="fas fa-envelope fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://github.com/qicz" title="GitHub" target="_blank">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://weibo.com/powerlinux" title="Weibo" target="_blank">
               <i class="fab fa-weibo fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://douban.com/people/podevor" title="Douban" target="_blank">
               <i class="fab fa-spotify fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>The creative and technical writing. <br> Do more, challenge more, know more, be more.</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://izcqi.com/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://izcqi.com/categories/">
                <i class="fa-li fa  fa-lg"></i><span>Categories</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://izcqi.com/tags/">
                <i class="fa-li fa  fa-lg"></i><span>Tags</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://izcqi.com/about/">
                <i class="fa-li fa  fa-lg"></i><span>About</span>
            </a>
        </li>
        
    </ul>
</nav>
  </header-container>
    <main>




<article>

    <h1>2021ç¬¬ä¸€ç¯‡é»‘ç§‘æŠ€</h1>

    
        <aside>
    
    <span class="fa fa-calendar"><time class="post-date" datetime="2021-01-01T20:22:11&#43;08:00"> Jan 1, 2021 20:22</time>
    &nbsp; | &nbsp; 
    
    <span class="fa fa-book">
        <em class="categories">
            
                
                <a href="https://izcqi.com/categories/spring">spring</a>
            
        </em>
    </span>
    
    &nbsp; | &nbsp; 
     
    <span class="fa fa-tags">
        <em class="tags">
            
                
                <a href="https://izcqi.com/tags/spring">#spring</a>
            
        </em>
    </span>
    
    &nbsp; | &nbsp; 
    <span class="fa fa-plane"><em> 5 minutes read</em> </span>
</aside>


    

    

<h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>

<p>æœ€è¿‘æœ‰ä¸ªé¡¹ç›®æ¥å…¥äº†esï¼Œå¯¹äºæ£€ç´¢å…³é”®å­—éœ€è¦æ‰©å¤§èŒƒå›´æ£€ç´¢ç»“æœçš„åŒ¹é…èŒƒå›´ï¼Œæ‰€ä»¥è€ƒè™‘å°†æ£€ç´¢å…³é”®å­—è¿›è¡Œåˆ†è¯å¤„ç†ï¼Œå†äº¤ç»™eså¤„ç†ã€‚(å½“ç„¶è¿™é‡Œå¯ä»¥ç”¨esçš„highlevelclientçš„analyzeæ¥å£ï¼Œæ­¤å¤„ä¸è€ƒè™‘è¿™ç§æƒ…å†µ)ã€‚äºæ˜¯ç ”ç©¶<a href="https://github.com/medcl/elasticsearch-analysis-ik">ik-analysis</a>ã€‚äºæ˜¯æœ‰äº†<a href="https://github.com/qicz/ik-springboot-demo">ik-springboot-demo</a>è¿™ä¸ªé¡¹ç›®ï¼Œæ¥ä¸‹æ¥éƒ½å°†ä»¥æ­¤é¡¹ç›®å±•å¼€æè¿°ã€‚</p>

<h2 id="è§£å†³çš„é—®é¢˜">è§£å†³çš„é—®é¢˜</h2>

<blockquote>
<p>åœ¨SpringBooté¡¹ç›®ä¸­ç›´æ¥ä¸”ç®€å•ä¾¿æ·çš„ä½¿ç”¨ikã€‚</p>
</blockquote>

<h2 id="æ”¶è·">æ”¶è·</h2>

<ul>
<li>å¾—åˆ°äº†SpringBooté¡¹ç›®ä¸­ä½¿ç”¨ikçš„ä¸¤ç§æ–¹å¼ï¼›</li>
<li>å¾—åˆ°äº†SpringBooté¡¹ç›®çš„èµ„æºç®¡ç†çš„æ›´ä¼˜æ–¹æ¡ˆã€‚</li>
</ul>

<h2 id="é‡å¤´æˆ">é‡å¤´æˆ</h2>

<h3 id="ä»ikçš„é¡¹ç›®æƒ…å†µå¼€å§‹">ä»ikçš„é¡¹ç›®æƒ…å†µå¼€å§‹</h3>

<p>ï¼ˆä»¥ä¸‹æ‘˜å½•è‡ªikçš„github READMEï¼‰</p>

<blockquote>
<p>IKAnalyzer.cfg.xml can be located at {conf}/analysis-ik/config/IKAnalyzer.cfg.xml or {plugins}/elasticsearch-analysis-ik-*/config/IKAnalyzer.cfg.xml</p>

<p>ik_max_word: ä¼šå°†æ–‡æœ¬åšæœ€ç»†ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œâ€æ‹†åˆ†ä¸ºâ€œä¸­åäººæ°‘å…±å’Œå›½,ä¸­åäººæ°‘,ä¸­å,åäºº,äººæ°‘å…±å’Œå›½,äººæ°‘,äºº,æ°‘,å…±å’Œå›½,å…±å’Œ,å’Œ,å›½å›½,å›½æ­Œâ€ï¼Œä¼šç©·å°½å„ç§å¯èƒ½çš„ç»„åˆï¼Œé€‚åˆ Term Queryï¼›</p>

<p>ik_smart: ä¼šåšæœ€ç²—ç²’åº¦çš„æ‹†åˆ†ï¼Œæ¯”å¦‚ä¼šå°†â€œä¸­åäººæ°‘å…±å’Œå›½å›½æ­Œâ€æ‹†åˆ†ä¸ºâ€œä¸­åäººæ°‘å…±å’Œå›½,å›½æ­Œâ€ï¼Œé€‚åˆ Phrase æŸ¥è¯¢ã€‚</p>
</blockquote>

<h3 id="é¡¹ç›®å¼•å…¥ik">é¡¹ç›®å¼•å…¥ik</h3>

<blockquote>
<p>ikä¼¼ä¹å·²ç»å¾ˆä¹…æ²¡æœ‰å°†æ›´æ–°pushåˆ°maven Centraläº†ï¼Œè‡´ä½¿maven Centralä¸Šçš„ä¸æ˜¯æœ€æ–°çš„ã€‚éœ€è¦æœ€æ–°çš„ç‰ˆæœ¬ï¼Œéœ€è¦è‡ªè¡Œç¼–è¯‘ã€‚è¿™ä¸ªæ˜¯å¾ˆå…¥é—¨çš„æ“ä½œäº†ï¼ˆä¸‹è½½æºç ï¼Œæœ¬åœ°<code>mvn install</code>ï¼‰ï¼Œå°±ä¸å±•å¼€äº†ã€‚æ­¤å¤„ä»¥æœ€æ–°çš„7.4.0å±•å¼€ã€‚</p>
</blockquote>

<h4 id="é¡¹ç›®ç»“æ„">é¡¹ç›®ç»“æ„</h4>

<blockquote>
<p>æ³¨æ„ï¼šmvn-cpåŠjar-cpæ–¹å¼çš„é¡¹ç›®ï¼Œåœ¨ik-demo-configç›®å½•æœ‰å·®å¼‚ï¼Œä»¥ä¸‹ç¤ºä¾‹æ˜¯jar-cpçš„ç»“æ„ã€‚å…·ä½“ä»ik-springboot-demoçš„mvn-cpå’Œjar-cpä¸¤ä¸ªåˆ†æ”¯æŸ¥çœ‹ã€‚ï¼ˆmasteråˆ†æ”¯ä½¿ç”¨çš„jar-cpæ–¹å¼ï¼‰</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">.
â”œâ”€â”€ README.md
â”œâ”€â”€ ik-demo-config
â”‚Â Â  â”œâ”€â”€ resources
â”‚Â Â  â”‚Â Â  â””â”€â”€ config
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ analysis-ik
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ IKAnalyzer.cfg.xml
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ extra_main.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ extra_single_word.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ extra_single_word_full.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ extra_single_word_low_freq.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ extra_stopword.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ preposition.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ quantifier.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ stopword.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ suffix.dic
â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ surname.dic
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ application-dev.yml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ application-prod.yml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ application-test.yml
â”‚Â Â  â”‚Â Â      â””â”€â”€ application.yml
â”‚Â Â  â””â”€â”€ target
â”‚Â Â      â””â”€â”€ generated-sources
â”‚Â Â          â””â”€â”€ annotations
â”œâ”€â”€ ik-demo-parent.iml
â”œâ”€â”€ ik-demo-server
â”‚Â Â  â”œâ”€â”€ pom.xml
â”‚Â Â  â””â”€â”€ src
â”‚Â Â      â”œâ”€â”€ main
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ java
â”‚Â Â      â”‚Â Â  â”‚Â Â  â””â”€â”€ abc
â”‚Â Â      â”‚Â Â  â”‚Â Â      â”œâ”€â”€ App.java
â”‚Â Â      â”‚Â Â  â”‚Â Â      â””â”€â”€ kit
â”‚Â Â      â”‚Â Â  â”‚Â Â          â””â”€â”€ Kit.java
â”‚Â Â      â”‚Â Â  â””â”€â”€ resources
â”‚Â Â      â””â”€â”€ <span style="color:#8be9fd;font-style:italic">test</span>
â”‚Â Â          â””â”€â”€ java
â”œâ”€â”€ ik-demo-services
â”‚Â Â  â”œâ”€â”€ pom.xml
â”‚Â Â  â””â”€â”€ src
â”‚Â Â      â”œâ”€â”€ main
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ java
â”‚Â Â      â”‚Â Â  â”‚Â Â  â””â”€â”€ abc
â”‚Â Â      â”‚Â Â  â”‚Â Â      â”œâ”€â”€ config
â”‚Â Â      â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ IKConfig.java
â”‚Â Â      â”‚Â Â  â”‚Â Â      â””â”€â”€ services
â”‚Â Â      â”‚Â Â  â”‚Â Â          â””â”€â”€ IkJob.java
â”‚Â Â      â”‚Â Â  â””â”€â”€ resources
â”‚Â Â      â””â”€â”€ <span style="color:#8be9fd;font-style:italic">test</span>
â”‚Â Â          â””â”€â”€ java
â””â”€â”€ pom.xml</code></pre></div>
<h4 id="è¯¦ç»†é…ç½®å¦‚ä¸‹">è¯¦ç»†é…ç½®å¦‚ä¸‹</h4>

<blockquote>
<p>ä»¥ä¸‹é…ç½®ä»…ä¸ºäº†æè¿°è¿‡ç¨‹ï¼Œéƒ¨åˆ†å†…å®¹å®é™…ä½¿ç”¨ä¸­éœ€è¦è°ƒæ•´ï¼Œå¦‚ç‰ˆæœ¬çš„ç®¡ç†ã€‚</p>
</blockquote>

<ul>
<li><p>parent pom.xml</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#ff79c6">&lt;properties&gt;</span>
  <span style="color:#ff79c6">&lt;elasticsearch.version&gt;</span>7.4.0<span style="color:#ff79c6">&lt;/elasticsearch.version&gt;</span>
  <span style="color:#ff79c6">&lt;java.version&gt;</span>1.8<span style="color:#ff79c6">&lt;/java.version&gt;</span>
  <span style="color:#ff79c6">&lt;maven.compiler.target&gt;</span>1.8<span style="color:#ff79c6">&lt;/maven.compiler.target&gt;</span>
<span style="color:#ff79c6">&lt;/properties&gt;</span>
  
<span style="color:#ff79c6">&lt;dependencyManagement&gt;</span>
  <span style="color:#ff79c6">&lt;dependencies&gt;</span>
      <span style="color:#ff79c6">&lt;dependency&gt;</span>
          <span style="color:#ff79c6">&lt;groupId&gt;</span>org.elasticsearch<span style="color:#ff79c6">&lt;/groupId&gt;</span>
          <span style="color:#ff79c6">&lt;artifactId&gt;</span>elasticsearch-analysis-ik<span style="color:#ff79c6">&lt;/artifactId&gt;</span>
          <span style="color:#ff79c6">&lt;version&gt;</span>${elasticsearch.version}<span style="color:#ff79c6">&lt;/version&gt;</span>
      <span style="color:#ff79c6">&lt;/dependency&gt;</span>
      <span style="color:#ff79c6">&lt;dependency&gt;</span>
          <span style="color:#ff79c6">&lt;groupId&gt;</span>org.example<span style="color:#ff79c6">&lt;/groupId&gt;</span>
          <span style="color:#ff79c6">&lt;artifactId&gt;</span>ik-demo-services<span style="color:#ff79c6">&lt;/artifactId&gt;</span>
          <span style="color:#ff79c6">&lt;version&gt;</span>${project.version}<span style="color:#ff79c6">&lt;/version&gt;</span>
      <span style="color:#ff79c6">&lt;/dependency&gt;</span>
  <span style="color:#ff79c6">&lt;/dependencies&gt;</span>
<span style="color:#ff79c6">&lt;/dependencyManagement&gt;</span></code></pre></div></li>

<li><p>services module pom.xml</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#ff79c6">&lt;dependencies&gt;</span>
  <span style="color:#ff79c6">&lt;dependency&gt;</span>
      <span style="color:#ff79c6">&lt;groupId&gt;</span>org.elasticsearch<span style="color:#ff79c6">&lt;/groupId&gt;</span>
      <span style="color:#ff79c6">&lt;artifactId&gt;</span>elasticsearch-analysis-ik<span style="color:#ff79c6">&lt;/artifactId&gt;</span>
  <span style="color:#ff79c6">&lt;/dependency&gt;</span>
  <span style="color:#ff79c6">&lt;dependency&gt;</span>
      <span style="color:#ff79c6">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#ff79c6">&lt;/groupId&gt;</span>
      <span style="color:#ff79c6">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#ff79c6">&lt;/artifactId&gt;</span>
      <span style="color:#ff79c6">&lt;version&gt;</span>2.4.1<span style="color:#ff79c6">&lt;/version&gt;</span>
  <span style="color:#ff79c6">&lt;/dependency&gt;</span>
<span style="color:#ff79c6">&lt;/dependencies&gt;</span></code></pre></div></li>

<li><p>ç¤ºä¾‹éƒ¨åˆ†æºç ï¼ˆ<a href="https://github.com/qicz/ik-springboot-demo/blob/master/ik-demo-services/src/main/java/abc/services/IkJob.java">ç‚¹å‡»è¿™é‡Œæ˜¯å®Œæ•´å†…å®¹</a>)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">static String text <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;123abc;ï¼›.ã€‚ã€‚ã€‚\\l aåƒ IK Analyzeræ˜¯ä¸€ä¸ªç»“åˆè¯å…¸åˆ†è¯å’Œæ–‡æ³•åˆ†è¯çš„ä¸­æ–‡åˆ†è¯å¼€æºå·¥å…·åŒ…ã€‚å®ƒä½¿ç”¨äº†å…¨æ–°çš„æ­£å‘è¿­ä»£æœ€ç»†ç²’åº¦åˆ‡åˆ†ç®—æ³•ã€‚&#34;</span>;
  
...
  
IKSegmenter segmenter <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> IKSegmenter(<span style="color:#ff79c6">new</span> StringReader(text), configuration);
Lexeme next;
System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">print</span>(<span style="color:#f1fa8c">&#34;éæ™ºèƒ½åˆ†è¯ç»“æœ(ik_max_world)ï¼š&#34;</span>);
StringJoiner stringJoiner <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> StringJoiner(<span style="color:#f1fa8c">&#34;,&#34;</span>);
<span style="color:#ff79c6">while</span>((next<span style="color:#ff79c6">=</span>segmenter.<span style="color:#50fa7b">next</span>())<span style="color:#ff79c6">!=</span><span style="color:#ff79c6">null</span>){
  String lexemeText <span style="color:#ff79c6">=</span> next.<span style="color:#50fa7b">getLexemeText</span>();
  stringJoiner.<span style="color:#50fa7b">add</span>(lexemeText);
}
System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">println</span>(stringJoiner);
System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">println</span>();
System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">println</span>(<span style="color:#f1fa8c">&#34;----------------------------åˆ†å‰²çº¿------------------------------&#34;</span>);
  
<span style="color:#ff79c6">this</span>.<span style="color:#50fa7b">configuration</span>.<span style="color:#50fa7b">setUseSmart</span>(<span style="color:#ff79c6">true</span>);
IKSegmenter smartSegmenter <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> IKSegmenter(<span style="color:#ff79c6">new</span> StringReader(text), configuration);
System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">print</span>(<span style="color:#f1fa8c">&#34;æ™ºèƒ½åˆ†è¯ç»“æœ(ik_smart)ï¼š&#34;</span>);
stringJoiner <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> StringJoiner(<span style="color:#f1fa8c">&#34;,&#34;</span>);
<span style="color:#ff79c6">while</span>((next<span style="color:#ff79c6">=</span>smartSegmenter.<span style="color:#50fa7b">next</span>())<span style="color:#ff79c6">!=</span><span style="color:#ff79c6">null</span>) {
  String lexemeText <span style="color:#ff79c6">=</span> next.<span style="color:#50fa7b">getLexemeText</span>();
  stringJoiner.<span style="color:#50fa7b">add</span>(lexemeText);
}
System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">println</span>(stringJoiner);</code></pre></div></li>
</ul>

<h4 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ERROR Dictionary ik-analyzer: Main Dict not found java.io.FileNotFoundException: /Users/Qicz/.m2/repository/org/elasticsearch/elasticsearch-analysis-ik/7.4.0/config/main.dic <span style="color:#ff79c6">(</span>No such file or directory<span style="color:#ff79c6">)</span>

ERROR Dictionary ik-analyzer: Surname not found java.io.FileNotFoundException: /Users/Qicz/.m2/repository/org/elasticsearch/elasticsearch-analysis-ik/7.4.0/config/surname.dic <span style="color:#ff79c6">(</span>No such file or directory<span style="color:#ff79c6">)</span></code></pre></div>
<p>æ‰¾ä¸åˆ°å¯¹åº”çš„ikçš„è¯å…¸ã€‚å…¶ä»–åšå‹çš„è§£å†³æ–¹æ¡ˆæ˜¯æ”¹å†™ikã€‚æˆ‘çš„è€ƒè™‘æ˜¯å…ˆåˆ†ææºç ï¼Œå†ç¡®å®šæ˜¯ä¸æ˜¯è¦æ”¹å†™ã€‚ä»ikæºç <code>Configuration</code> å…¥æ‰‹ï¼ˆä¸å¾—ä¸è¯´ikçš„æºç å†™çš„æœ‰ç‚¹éšæ„ï¼Œé£æ ¼å„ç§éƒ½æœ‰&hellip;)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">public Configuration(Environment env,Settings settings) {
  <span style="color:#ff79c6">this</span>.<span style="color:#50fa7b">environment</span> <span style="color:#ff79c6">=</span> env;
  <span style="color:#ff79c6">this</span>.<span style="color:#50fa7b">settings</span><span style="color:#ff79c6">=</span>settings;

  <span style="color:#ff79c6">this</span>.<span style="color:#50fa7b">useSmart</span> <span style="color:#ff79c6">=</span> settings.<span style="color:#50fa7b">get</span>(<span style="color:#f1fa8c">&#34;use_smart&#34;</span>, <span style="color:#f1fa8c">&#34;false&#34;</span>).<span style="color:#50fa7b">equals</span>(<span style="color:#f1fa8c">&#34;true&#34;</span>);
  <span style="color:#ff79c6">this</span>.<span style="color:#50fa7b">enableLowercase</span> <span style="color:#ff79c6">=</span> settings.<span style="color:#50fa7b">get</span>(<span style="color:#f1fa8c">&#34;enable_lowercase&#34;</span>, <span style="color:#f1fa8c">&#34;true&#34;</span>).<span style="color:#50fa7b">equals</span>(<span style="color:#f1fa8c">&#34;true&#34;</span>);
  <span style="color:#ff79c6">this</span>.<span style="color:#50fa7b">enableRemoteDict</span> <span style="color:#ff79c6">=</span> settings.<span style="color:#50fa7b">get</span>(<span style="color:#f1fa8c">&#34;enable_remote_dict&#34;</span>, <span style="color:#f1fa8c">&#34;true&#34;</span>).<span style="color:#50fa7b">equals</span>(<span style="color:#f1fa8c">&#34;true&#34;</span>);

  Dictionary.<span style="color:#50fa7b">initial</span>(<span style="color:#ff79c6">this</span>);
}</code></pre></div>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ„é€ <code>Configuration</code>éœ€è¦<code>Environment</code>åŠ<code>Settings</code>ã€‚ä»å­—é¢ç†è§£ï¼Œè¿™äºŒè€…åº”è¯¥å°±æ˜¯ä¸<code>config</code>æœ‰å…³çš„ã€‚å…ˆçœ‹çœ‹<code>Environment</code>çš„æ„é€ </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">public Environment(Settings settings, Path configPath) {
        <span style="color:#ff79c6">this</span>(settings, configPath, PathUtils.<span style="color:#50fa7b">get</span>(System.<span style="color:#50fa7b">getProperty</span>(<span style="color:#f1fa8c">&#34;java.io.tmpdir&#34;</span>), <span style="color:#ff79c6">new</span> String[0]));
    }

    Environment(Settings settings, Path configPath, Path tmpPath) {
        <span style="color:#ff79c6">if</span> (PATH_HOME_SETTING.<span style="color:#50fa7b">exists</span>(settings)) {
            Path homeFile <span style="color:#ff79c6">=</span> PathUtils.<span style="color:#50fa7b">get</span>((String)PATH_HOME_SETTING.<span style="color:#50fa7b">get</span>(settings), <span style="color:#ff79c6">new</span> String[0]).<span style="color:#50fa7b">toAbsolutePath</span>().<span style="color:#50fa7b">normalize</span>();
            <span style="color:#ff79c6">if</span> (configPath <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">null</span>) {
                <span style="color:#ff79c6">this</span>.<span style="color:#50fa7b">configFile</span> <span style="color:#ff79c6">=</span> configPath.<span style="color:#50fa7b">toAbsolutePath</span>().<span style="color:#50fa7b">normalize</span>();
            } <span style="color:#ff79c6">else</span> {
                <span style="color:#ff79c6">this</span>.<span style="color:#50fa7b">configFile</span> <span style="color:#ff79c6">=</span> homeFile.<span style="color:#50fa7b">resolve</span>(<span style="color:#f1fa8c">&#34;config&#34;</span>);
            }
<span style="color:#ff79c6">//</span>... å…¶ä»–å·²çœç•¥          </code></pre></div>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>configFile</code>æºè‡ª<code>Settings</code>æˆ–<code>configPath</code>ï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢çš„æ„é€ ä¸€ä¸ª<code>Configuration</code>çš„ä»£ç </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Environment environment <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Environment(Settings.<span style="color:#50fa7b">builder</span>().<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;path.home&#34;</span>, path).<span style="color:#50fa7b">build</span>(), <span style="color:#ff79c6">null</span>);
Settings settings <span style="color:#ff79c6">=</span> Settings.<span style="color:#50fa7b">builder</span>()
        .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;use_smart&#34;</span>, <span style="color:#ff79c6">false</span>)
        .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;enable_lowercase&#34;</span>, <span style="color:#ff79c6">false</span>)
        .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;enable_remote_dict&#34;</span>, <span style="color:#ff79c6">false</span>)
        .<span style="color:#50fa7b">build</span>();
<span style="color:#ff79c6">return</span> <span style="color:#ff79c6">new</span> Configuration(environment, settings).<span style="color:#50fa7b">setUseSmart</span>(<span style="color:#ff79c6">false</span>);</code></pre></div>
<p>é‚£ä¹ˆæ¥ä¸‹é‡Œçš„é—®é¢˜å°±æ˜¯å¦‚æœç¡®å®šè¿™<code>path</code>äº†ã€‚ä»ikçš„æºç æ¥çœ‹ï¼Œå€ŸåŠ©äº†<code>Path</code>éœ€è¦ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œæä¾›ä¸€ä¸ª<code>æµ</code>(<code>InputStream</code>)éƒ½ä¸å¥½ä½¿ï¼Œå¦‚æœçœŸé‚£æ ·å°±åªèƒ½æ”¹æºç äº†ï¼Œä¸æ˜¯æˆ‘çš„åˆè¡·ï¼Œäºæ˜¯ä»æ„é€ <code>path</code>ç»§ç»­æ·±å…¥ã€‚</p>

<p>ä¸€ä¸ªç»å¯¹çš„<code>path</code>éœ€è¦è€ƒè™‘åœ¨ideï¼ˆideaï¼‰ä¸­è°ƒè¯•åŠå®é™…åº”ç”¨è¿è¡Œï¼ˆjaræ–¹å¼ï¼‰ä¸¤ä¸ªæƒ…å†µï¼Œè€Œä¸ºäº†ä¾¿äºåº”ç”¨çš„éƒ¨ç½²ï¼Œé…ç½®ä¹Ÿå¿…ç„¶ä¼šä¸jarä¸€èµ·æ‰“åŒ…ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹å°±æ— æ³•æ‹¿åˆ°ç»å¯¹çš„<code>path</code>äº†ï¼ˆï¼Ÿï¼ï¼‰ã€‚æ‰€ä»¥éœ€è¦æŠŠç›¸å…³çš„é…ç½®æ‹¿åˆ°jarä¹‹å¤–ï¼Œé‚£ä¹ˆè¿™å°±è‡ªç„¶æƒ³åˆ°äº†ä½¿ç”¨mavençš„æ’ä»¶ï¼Œå°†å…³è”çš„é…ç½®æ–‡ä»¶æ‹·è´åˆ°jarå¯ä»¥è¯»å–çš„åœ°æ–¹ã€‚</p>

<h4 id="ä½¿ç”¨mavenæ’ä»¶">ä½¿ç”¨mavenæ’ä»¶</h4>

<blockquote>
<p>ik-springboot-demoçš„mvn-cpåˆ†æ”¯æœ‰å®Œæ•´æºç </p>
</blockquote>

<p>ä½¿ç”¨mavenæ’ä»¶ï¼Œæœ‰äº†<code>ik-demo-server</code>çš„ä¸‹é¢pom.xmlé…ç½®</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#ff79c6">&lt;build&gt;</span>
    <span style="color:#ff79c6">&lt;plugins&gt;</span>
        <span style="color:#ff79c6">&lt;plugin&gt;</span>
            <span style="color:#ff79c6">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#ff79c6">&lt;/groupId&gt;</span>
            <span style="color:#ff79c6">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#ff79c6">&lt;/artifactId&gt;</span>
            <span style="color:#ff79c6">&lt;configuration&gt;</span>
                <span style="color:#ff79c6">&lt;mainClass&gt;</span>abc.App<span style="color:#ff79c6">&lt;/mainClass&gt;</span>
            <span style="color:#ff79c6">&lt;/configuration&gt;</span>
            <span style="color:#ff79c6">&lt;executions&gt;</span>
                <span style="color:#ff79c6">&lt;execution&gt;</span>
                    <span style="color:#ff79c6">&lt;goals&gt;</span>
                        <span style="color:#ff79c6">&lt;goal&gt;</span>repackage<span style="color:#ff79c6">&lt;/goal&gt;</span>
                    <span style="color:#ff79c6">&lt;/goals&gt;</span>
                <span style="color:#ff79c6">&lt;/execution&gt;</span>
            <span style="color:#ff79c6">&lt;/executions&gt;</span>
        <span style="color:#ff79c6">&lt;/plugin&gt;</span>
        <span style="color:#ff79c6">&lt;plugin&gt;</span> <span style="color:#6272a4">&lt;!-- æ‹·è´iké…ç½®åˆ°${project.build.directory}/configä¸‹ --&gt;</span>
            <span style="color:#ff79c6">&lt;artifactId&gt;</span>maven-resources-plugin<span style="color:#ff79c6">&lt;/artifactId&gt;</span>
            <span style="color:#ff79c6">&lt;version&gt;</span>2.6<span style="color:#ff79c6">&lt;/version&gt;</span>
            <span style="color:#ff79c6">&lt;executions&gt;</span>
                <span style="color:#ff79c6">&lt;execution&gt;</span>
                    <span style="color:#ff79c6">&lt;id&gt;</span>copy-resources<span style="color:#ff79c6">&lt;/id&gt;</span> <span style="color:#6272a4">&lt;!-- here the phase you need --&gt;</span>
                    <span style="color:#ff79c6">&lt;phase&gt;</span>validate<span style="color:#ff79c6">&lt;/phase&gt;</span>
                    <span style="color:#ff79c6">&lt;goals&gt;</span>
                        <span style="color:#ff79c6">&lt;goal&gt;</span>copy-resources<span style="color:#ff79c6">&lt;/goal&gt;</span>
                    <span style="color:#ff79c6">&lt;/goals&gt;</span>
                    <span style="color:#ff79c6">&lt;configuration&gt;</span> <span style="color:#6272a4">&lt;!--copyToçš„ç›®å½•--&gt;</span>
                        <span style="color:#ff79c6">&lt;outputDirectory&gt;</span>${project.build.directory}/config<span style="color:#ff79c6">&lt;/outputDirectory&gt;</span>
                        <span style="color:#ff79c6">&lt;resources&gt;</span>
                            <span style="color:#ff79c6">&lt;resource&gt;</span> <span style="color:#6272a4">&lt;!--è¢«copyçš„ç›®å½•--&gt;</span>
                                <span style="color:#ff79c6">&lt;directory&gt;</span>../ik-demo-config/config<span style="color:#ff79c6">&lt;/directory&gt;</span>
                                <span style="color:#ff79c6">&lt;filtering&gt;</span>true<span style="color:#ff79c6">&lt;/filtering&gt;</span>
                            <span style="color:#ff79c6">&lt;/resource&gt;</span>
                        <span style="color:#ff79c6">&lt;/resources&gt;</span>
                    <span style="color:#ff79c6">&lt;/configuration&gt;</span>
                <span style="color:#ff79c6">&lt;/execution&gt;</span>
            <span style="color:#ff79c6">&lt;/executions&gt;</span>
        <span style="color:#ff79c6">&lt;/plugin&gt;</span>
    <span style="color:#ff79c6">&lt;/plugins&gt;</span>
    <span style="color:#ff79c6">&lt;resources&gt;</span> <span style="color:#6272a4">&lt;!-- æŒ‡å®šSpringBootèµ„æºé…ç½®ä½ç½® --&gt;</span>
        <span style="color:#ff79c6">&lt;resource&gt;</span>
            <span style="color:#ff79c6">&lt;directory&gt;</span>../ik-demo-config/resources<span style="color:#ff79c6">&lt;/directory&gt;</span>
        <span style="color:#ff79c6">&lt;/resource&gt;</span>
        <span style="color:#ff79c6">&lt;resource&gt;</span>
            <span style="color:#ff79c6">&lt;directory&gt;</span>src/main/resources<span style="color:#ff79c6">&lt;/directory&gt;</span>
        <span style="color:#ff79c6">&lt;/resource&gt;</span>
    <span style="color:#ff79c6">&lt;/resources&gt;</span>
<span style="color:#ff79c6">&lt;/build&gt;</span></code></pre></div>
<p>è¿›è¡Œä¸Šé¢çš„é…ç½®ä¹‹åï¼Œå½“è¿›è¡Œ<code>mvn clean package</code>æ—¶åˆ™ä¼šå°†<code>ik-demo-config/config</code>ä¸‹é¢çš„å†…å®¹é…ç½®æ‹·è´åˆ°jaråŒçº§çš„<code>config</code>ç›®å½•ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥äº†ã€‚é‚£ä¹ˆå¯¹åº”çš„<code>path</code>ä¹Ÿå°±çŸ¥é“äº†</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String path <span style="color:#ff79c6">=</span> System.<span style="color:#50fa7b">getProperty</span>(<span style="color:#f1fa8c">&#34;user.dir&#34;</span>)<span style="color:#6272a4">/* + &#34;/config&#34; */</span>;</code></pre></div>
<blockquote>
<p>å› ä¸ºikåšäº†configç›®å½•çš„é…ç½®å¤„ç†ï¼Œæ‰€ä»¥<code>+ &quot;/config&quot;</code>ä¸å¿…æ·»åŠ ã€‚ä¹Ÿå°±æ˜¯<code>String path = System.getProperty(&quot;user.dir&quot;);</code></p>
</blockquote>

<p>ä½†åœ¨ideï¼Œå¦‚ideaä¸­ï¼Œå®æ—¶ç¼–è¯‘çš„classéƒ½åœ¨targetä¸‹ï¼ˆå¹¶æœªè¿›è¡Œ<code>mvn clean package</code>æ“ä½œï¼‰ï¼Œé‚£ä¹ˆåœ¨targetä¸‹å°±æ²¡æœ‰<code>config</code>ç›®å½•ï¼Œé‚£ä¹ˆåœ¨ideé‡Œå®æ—¶è°ƒè¯•å°±æœ‰é—®é¢˜äº†ï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢çš„å…¼å®¹å¤„ç†</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String path <span style="color:#ff79c6">=</span> System.<span style="color:#50fa7b">getProperty</span>(<span style="color:#f1fa8c">&#34;user.dir&#34;</span>);
<span style="color:#6272a4">// ä»…åœ¨ideaä¸­å®æ—¶è°ƒè¯•éœ€è¦ï¼Œä¸configæ‰€åœ¨çš„ç›®å½•å¿…é¡»ä¸€è‡´ï¼Œæ­¤å¤„ä¸ºik-demo-config
</span><span style="color:#6272a4"></span>boolean inIdea <span style="color:#ff79c6">=</span> path.<span style="color:#50fa7b">endsWith</span>(<span style="color:#f1fa8c">&#34;ik-demo-parent&#34;</span>);
<span style="color:#ff79c6">if</span> (inIdea) {
    path <span style="color:#ff79c6">+=</span> <span style="color:#f1fa8c">&#34;/ik-demo-config&#34;</span>;
}</code></pre></div>
<p>æœ‰äº†ä¸Šé¢çš„å‰æå°±å¾—åˆ°äº†å®Œæ•´çš„<code>Configuration</code>æ„é€ (åŒæ—¶å°†å…¶æ³¨å…¥iocï¼Œæ­¤å¤„<code>inIdea</code>çš„å¤„ç†ä¸<code>jar-cp</code>æœ‰ç•¥å¾®å·®å¼‚ï¼‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">@Bean
public Configuration ikConfiguration() {
    String path <span style="color:#ff79c6">=</span> System.<span style="color:#50fa7b">getProperty</span>(<span style="color:#f1fa8c">&#34;user.dir&#34;</span>);
    <span style="color:#6272a4">// ä»…åœ¨ideaä¸­å®æ—¶è°ƒè¯•éœ€è¦ï¼Œä¸configæ‰€åœ¨çš„ç›®å½•å¿…é¡»ä¸€è‡´ï¼Œæ­¤å¤„ä¸ºik-demo-config
</span><span style="color:#6272a4"></span>    boolean inIdea <span style="color:#ff79c6">=</span> path.<span style="color:#50fa7b">endsWith</span>(<span style="color:#f1fa8c">&#34;ik-demo-parent&#34;</span>);
    <span style="color:#ff79c6">if</span> (inIdea) {
        path <span style="color:#ff79c6">+=</span> <span style="color:#f1fa8c">&#34;/ik-demo-config&#34;</span>;
    }
    Environment environment <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Environment(Settings.<span style="color:#50fa7b">builder</span>().<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;path.home&#34;</span>, path).<span style="color:#50fa7b">build</span>(), <span style="color:#ff79c6">null</span>);
    Settings settings <span style="color:#ff79c6">=</span> Settings.<span style="color:#50fa7b">builder</span>()
            .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;use_smart&#34;</span>, <span style="color:#ff79c6">false</span>)
            .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;enable_lowercase&#34;</span>, <span style="color:#ff79c6">false</span>)
            .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;enable_remote_dict&#34;</span>, <span style="color:#ff79c6">false</span>)
            .<span style="color:#50fa7b">build</span>();
    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">new</span> Configuration(environment, settings).<span style="color:#50fa7b">setUseSmart</span>(<span style="color:#ff79c6">false</span>);
}</code></pre></div>
<p>ç»æµ‹è¯•ä¸Šé¢çš„é…ç½®å¯ä»¥å®ç°åˆ†è¯ã€‚</p>

<p>é‚£ä¹ˆé™¤äº†mavenæ’ä»¶ä»¥å¤–ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ä½¿ç”¨javaæ¥ç›´æ¥æ‹·è´å‘¢ï¼Œä¼šä¸ä¼šæ›´ä¾¿æ·å‘¢ï¼Ÿäºæ˜¯æœ‰äº†<code>jar-cp</code>çš„æ–¹å¼</p>

<h4 id="ä½¿ç”¨jar-cpæ–¹å¼-æ¨è">ä½¿ç”¨jar-cpæ–¹å¼ï¼ˆæ¨èï¼‰</h4>

<blockquote>
<p>ik-springboot-demoçš„jar-cpåˆ†æ”¯æœ‰å®Œæ•´æºç </p>
</blockquote>

<p>ä½¿ç”¨<code>jar-cp</code>ï¼Œå®è´¨å°±æ˜¯<code>Java</code>æºç è¿›è¡Œç›¸å…³èµ„æºæ‹·è´çš„å¤„ç†ï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢çš„ä»£ç </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#6272a4">/**
</span><span style="color:#6272a4"> * Kit
</span><span style="color:#6272a4"> *
</span><span style="color:#6272a4"> * @author Qicz
</span><span style="color:#6272a4"> */</span>
public final class Kit {

    <span style="color:#6272a4">/**
</span><span style="color:#6272a4">     * æ‹·è´SpringBooté…ç½®&amp;iké…ç½®
</span><span style="color:#6272a4">     * @param appClass spring boot å¯åŠ¨ç±»
</span><span style="color:#6272a4">     * @throws IOException io exception
</span><span style="color:#6272a4">     */</span>
    public static void copyConfigInJar(Class<span style="color:#ff79c6">&lt;?&gt;</span> appClass) throws IOException {
        ApplicationHome applicationHome <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> ApplicationHome(App.<span style="color:#50fa7b">class</span>);
        File source <span style="color:#ff79c6">=</span> applicationHome.<span style="color:#50fa7b">getSource</span>();
        <span style="color:#ff79c6">if</span> (source <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">null</span>) {
            String absolutePath <span style="color:#ff79c6">=</span> source.<span style="color:#50fa7b">getAbsolutePath</span>();
            boolean aJar <span style="color:#ff79c6">=</span> absolutePath.<span style="color:#50fa7b">endsWith</span>(<span style="color:#f1fa8c">&#34;jar&#34;</span>);
            <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span>aJar) {
                <span style="color:#ff79c6">return</span>;
            }

            final String configPath <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;config/&#34;</span>;
            File config <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> File(System.<span style="color:#50fa7b">getProperty</span>(<span style="color:#f1fa8c">&#34;user.dir&#34;</span>) <span style="color:#ff79c6">+</span> <span style="color:#f1fa8c">&#34;/&#34;</span> <span style="color:#ff79c6">+</span> configPath);
            <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span>config.<span style="color:#50fa7b">exists</span>()) {
                <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span>config.<span style="color:#50fa7b">mkdir</span>()) {
                    <span style="color:#ff79c6">return</span>;
                }
                JarFile jarFile <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> JarFile(source);
                <span style="color:#ff79c6">for</span> (Enumeration<span style="color:#ff79c6">&lt;?</span> extends ZipEntry<span style="color:#ff79c6">&gt;</span> entries <span style="color:#ff79c6">=</span> jarFile.<span style="color:#50fa7b">entries</span>(); entries.<span style="color:#50fa7b">hasMoreElements</span>(); ) {
                    ZipEntry entry <span style="color:#ff79c6">=</span> entries.<span style="color:#50fa7b">nextElement</span>();
                    String entryName <span style="color:#ff79c6">=</span> entry.<span style="color:#50fa7b">getName</span>();
                    <span style="color:#6272a4">// ä»…æ‹·è´configç›®å½•
</span><span style="color:#6272a4"></span>                    <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span>entryName.<span style="color:#50fa7b">contains</span>(configPath)) {
                        <span style="color:#ff79c6">continue</span>;
                    }
                    InputStream jarFileInputStream <span style="color:#ff79c6">=</span> jarFile.<span style="color:#50fa7b">getInputStream</span>(entry);
                    String outPath <span style="color:#ff79c6">=</span> (entryName.<span style="color:#50fa7b">substring</span>(entryName.<span style="color:#50fa7b">indexOf</span>(configPath)));
                    <span style="color:#6272a4">// åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨,ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶è·¯å¾„
</span><span style="color:#6272a4"></span>                    File currentFile <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> File(outPath.<span style="color:#50fa7b">substring</span>(0, outPath.<span style="color:#50fa7b">lastIndexOf</span>(<span style="color:#f1fa8c">&#39;/&#39;</span>)));
                    <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span>currentFile.<span style="color:#50fa7b">exists</span>() <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#ff79c6">!</span>currentFile.<span style="color:#50fa7b">mkdirs</span>()) {
                        <span style="color:#ff79c6">continue</span>;
                    }
                    <span style="color:#6272a4">// åˆ¤æ–­æ–‡ä»¶å…¨è·¯å¾„æ˜¯å¦ä¸ºæ–‡ä»¶å¤¹,å¦‚æœæ˜¯ä¸Šé¢å·²ç»ä¸Šä¼ ,ä¸éœ€è¦è§£å‹
</span><span style="color:#6272a4"></span>                    <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">new</span> File(outPath).<span style="color:#50fa7b">isDirectory</span>()) {
                        <span style="color:#ff79c6">continue</span>;
                    }

                    FileOutputStream out <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> FileOutputStream(outPath);
                    byte[] bytes <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> <span style="color:#8be9fd">byte</span>[1024];
                    int len;
                    <span style="color:#ff79c6">while</span> ((len <span style="color:#ff79c6">=</span> jarFileInputStream.<span style="color:#50fa7b">read</span>(bytes)) <span style="color:#ff79c6">&gt;</span> 0) {
                        out.<span style="color:#50fa7b">write</span>(bytes, 0, len);
                    }
                    jarFileInputStream.<span style="color:#50fa7b">close</span>();
                    out.<span style="color:#50fa7b">close</span>();
                }
            }
        }
    }
}</code></pre></div>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ—¶ï¼Œè¿™ä¸ªå¤„ç†å¿…é¡»è¦åœ¨SpringBootå¯ç”¨èµ·æ¥ä¹‹å‰è¿›è¡Œï¼Œå³å°±æ˜¯</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#6272a4">/**
</span><span style="color:#6272a4"> * App
</span><span style="color:#6272a4"> *
</span><span style="color:#6272a4"> * @author Qicz
</span><span style="color:#6272a4"> */</span>
@SpringBootApplication
public class App {

    public static void main(String[] args) throws IOException {
        Kit.<span style="color:#50fa7b">copyConfigInJar</span>(App.<span style="color:#50fa7b">class</span>);
        SpringApplication.<span style="color:#50fa7b">run</span>(App.<span style="color:#50fa7b">class</span>, args);
    }
}</code></pre></div>
<p>å€Ÿç”¨äº†<code>SpringBoot</code>çš„<code>ApplicationHome</code>æ¥è·å–å½“å‰åº”ç”¨çš„å¯åŠ¨ç±»æ‰€åœ¨çš„è·¯å¾„<code>absolutePath</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ApplicationHome applicationHome <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> ApplicationHome(App.<span style="color:#50fa7b">class</span>);
File source <span style="color:#ff79c6">=</span> applicationHome.<span style="color:#50fa7b">getSource</span>();
<span style="color:#ff79c6">if</span> (source <span style="color:#ff79c6">!=</span> <span style="color:#ff79c6">null</span>) {
    String absolutePath <span style="color:#ff79c6">=</span> source.<span style="color:#50fa7b">getAbsolutePath</span>();
 ...</code></pre></div>
<p>é€šè¿‡æ£€æŸ¥è¿™ä¸ª<code>absolutePath</code>æ˜¯å¦ä»¥<code>jar</code>ç»“å°¾ç¡®å®šæ˜¯å¦ä»¥<code>jar</code>æ–¹å¼è¿è¡Œã€‚å¦‚æœæ˜¯åˆ™å¼€å§‹è¿›è¡Œ<code>jar</code>æ–‡ä»¶çš„è§£æï¼Œå°†å…¶èµ„æºæ‹·è´åˆ°<code>jar</code>çš„åŒçº§ç›®å½•çš„<code>config</code>ä¸­ã€‚</p>

<p>é‡‡ç”¨<code>jar-cp</code>å¯¹åº”çš„ik-demo-serverçš„pom.xmlé…ç½®ä¹Ÿæœ‰ç›¸åº”çš„å·®å¼‚ï¼Œæ— éœ€mavenæ’ä»¶çš„å¤„ç†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#ff79c6">&lt;build&gt;</span>
    <span style="color:#ff79c6">&lt;plugins&gt;</span>
        <span style="color:#ff79c6">&lt;plugin&gt;</span>
            <span style="color:#ff79c6">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#ff79c6">&lt;/groupId&gt;</span>
            <span style="color:#ff79c6">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#ff79c6">&lt;/artifactId&gt;</span>
            <span style="color:#ff79c6">&lt;configuration&gt;</span>
                <span style="color:#ff79c6">&lt;mainClass&gt;</span>abc.App<span style="color:#ff79c6">&lt;/mainClass&gt;</span>
            <span style="color:#ff79c6">&lt;/configuration&gt;</span>
            <span style="color:#ff79c6">&lt;executions&gt;</span>
                <span style="color:#ff79c6">&lt;execution&gt;</span>
                    <span style="color:#ff79c6">&lt;goals&gt;</span>
                        <span style="color:#ff79c6">&lt;goal&gt;</span>repackage<span style="color:#ff79c6">&lt;/goal&gt;</span>
                    <span style="color:#ff79c6">&lt;/goals&gt;</span>
                <span style="color:#ff79c6">&lt;/execution&gt;</span>
            <span style="color:#ff79c6">&lt;/executions&gt;</span>
        <span style="color:#ff79c6">&lt;/plugin&gt;</span>
    <span style="color:#ff79c6">&lt;/plugins&gt;</span>
    <span style="color:#ff79c6">&lt;resources&gt;</span>
        <span style="color:#ff79c6">&lt;resource&gt;</span>
            <span style="color:#ff79c6">&lt;directory&gt;</span>../ik-demo-config/resources<span style="color:#ff79c6">&lt;/directory&gt;</span>
        <span style="color:#ff79c6">&lt;/resource&gt;</span>
        <span style="color:#ff79c6">&lt;resource&gt;</span>
            <span style="color:#ff79c6">&lt;directory&gt;</span>src/main/resources<span style="color:#ff79c6">&lt;/directory&gt;</span>
        <span style="color:#ff79c6">&lt;/resource&gt;</span>
    <span style="color:#ff79c6">&lt;/resources&gt;</span>
<span style="color:#ff79c6">&lt;/build&gt;</span></code></pre></div>
<p>å¯¹åº”çš„<code>Configuration</code>æ„é€ ï¼Œå·®å¼‚åœ¨äº<code>inIdea</code>ä¸­çš„è·¯å¾„é…ç½®</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">@Bean
public Configuration ikConfiguration() {
    String path <span style="color:#ff79c6">=</span> System.<span style="color:#50fa7b">getProperty</span>(<span style="color:#f1fa8c">&#34;user.dir&#34;</span>);
    <span style="color:#6272a4">// ä»…åœ¨ideaä¸­å®æ—¶è°ƒè¯•éœ€è¦ï¼Œä¸configæ‰€åœ¨çš„ç›®å½•å¿…é¡»ä¸€è‡´ï¼Œæ­¤å¤„ä¸ºik-demo-config/resources
</span><span style="color:#6272a4"></span>    boolean inIdea <span style="color:#ff79c6">=</span> path.<span style="color:#50fa7b">endsWith</span>(<span style="color:#f1fa8c">&#34;ik-demo-parent&#34;</span>);
    <span style="color:#ff79c6">if</span> (inIdea) {
        path <span style="color:#ff79c6">+=</span> <span style="color:#f1fa8c">&#34;/ik-demo-config/resources&#34;</span>;
    }
    Environment environment <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Environment(Settings.<span style="color:#50fa7b">builder</span>().<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;path.home&#34;</span>, path).<span style="color:#50fa7b">build</span>(), <span style="color:#ff79c6">null</span>);
    Settings settings <span style="color:#ff79c6">=</span> Settings.<span style="color:#50fa7b">builder</span>()
            .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;use_smart&#34;</span>, <span style="color:#ff79c6">false</span>)
            .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;enable_lowercase&#34;</span>, <span style="color:#ff79c6">false</span>)
            .<span style="color:#50fa7b">put</span>(<span style="color:#f1fa8c">&#34;enable_remote_dict&#34;</span>, <span style="color:#ff79c6">false</span>)
            .<span style="color:#50fa7b">build</span>();
    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">new</span> Configuration(environment, settings).<span style="color:#50fa7b">setUseSmart</span>(<span style="color:#ff79c6">false</span>);
}</code></pre></div>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨jar-cpæ–¹å¼ä¸­ï¼Œå¯¹åº”çš„ik-demo-configä¸­çš„èµ„æºçš„å­˜æ”¾æ–¹å¼æ˜¯å°†SpringBootçš„é…ç½®åŠikçš„é…ç½®éƒ½æ”¾åˆ°ik-demo-config/resourcesï¼ŒåŒæ—¶æ˜¯å°†ik-demo-config/resourcesé…ç½®æˆäº†é¡¹ç›®çš„resourcesï¼Œä¹Ÿå°±æ˜¯packageæ—¶ä¼šå°†resourcesä¸‹é¢çš„SpringBooté…ç½®åŠiké…ç½®éƒ½æ‰“åŒ…è¿›jarï¼Œè¿™ä¹Ÿæ˜¯å¿…ç„¶çš„ï¼Œè¿™æ˜¯è¿›è¡Œjar-cpçš„åŸºç¡€ï¼Œä½¿ç”¨Javaæ‹·è´é—®é¢˜ï¼Œæ€»å¾—æœ‰ä¸œè¥¿ç»™ä½ æ‹·å§ã€‚ğŸ˜ï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯ï¼š</p>

<blockquote>
<p>ä½ æ‹¿åˆ°ä¸€ä¸ªjarï¼Œè‡ªå·±java -jar å¯¹åº”çš„é…ç½®éƒ½æœ‰äº†ã€‚ä¸éœ€è¦åœ¨æ‰‹åŠ¨æ‹·è´ï¼Œä¹Ÿå¯ä»¥é¿å…ä¸å¿…è¦çš„å¤±è¯¯ ã€‚</p>
</blockquote>
</blockquote>

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<ul>
<li><p>ä½¿ç”¨äº†ä¸¤ç§æ–¹å¼æ¥å¤„ç†ikçš„é…ç½®ï¼Œ<code>mvn-cp</code>åŠ<code>jar-cp</code>ï¼Œæ¨è<code>jar-cp</code>ï¼Œä¾¿äºåº”ç”¨çš„éƒ¨ç½²ï¼›</p></li>

<li><p>ä¸¤ç§æ–¹å¼ä¸­å¯¹åº”çš„<code>ik-demo-config</code>çš„ç›®å½•ç»“æ„æœ‰å·®å¼‚</p>

<ul>
<li><code>mvn-cp</code>ï¼Œ<code>mvn package</code>ä»…æ‹·è´ikçš„é…ç½®ï¼ˆå½“ç„¶å¯ä»¥é…ç½®å°†SpringBooté…ç½®ä¹Ÿæ‹·è´ï¼Œä½†æ˜¯å®é™…é¡¹ç›®éƒ¨ç½²ï¼Œå½“ä½ æ˜¯ç”¨<code>jar</code>ç›´æ¥éƒ¨ç½²æ—¶ï¼ŒSpringBootçš„é…ç½®å’Œiké…ç½®éƒ½æ˜¯æ²¡æœ‰çš„ï¼Œæ‰€ä»¥æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼‰</li>
</ul>

<blockquote>
<p>ik-demo-config/resources/application.yml
ik-demo-config/config/analysis-ik</p>
</blockquote>

<ul>
<li><code>jar-cp</code>ï¼Œ<code>mvn package</code>æ—¶ä¼šå°†SpringBooté…ç½®åŠiké…ç½®éƒ½æ‰“åŒ…è¿›jarï¼Œä¸ºåé¢jarè¿è¡Œæ‰§è¡Œ<code>jar-cp</code>æä¾›åŸºç¡€</li>
</ul>

<blockquote>
<p>ik-demo-config/config/analysis-ik&hellip;application.yml</p>
</blockquote></li>

<li><p><code>jar-cp</code>ï¼Œæ¨èæ–¹å¼ã€‚ä¾¿äºåœ¨é¡¹ç›®ç°åœºçš„éƒ¨ç½²ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ‹·è´ç›¸å…³çš„é…ç½®ï¼Œé¿å…ä¸ä¸è¦çš„æ‰‹è¯¯ã€‚</p></li>
</ul>


</article>

<script src="https://utteranc.es/client.js"
    repo="qicz/ThoughtsHUB"
    issue-term="pathname"
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>

<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://izcqi.com/posts/2020/09/21/yi-wang-wu-qian-notes/"><i class="fa fa-chevron-circle-left"></i> ã€Šä¸€å¾€æ— å‰ã€‹è¯»åæ„Ÿ</a>
        </li>
        
        
    </ul>
</section>
    




</main>
    <footer>
        <h6>&copy; 2012 - 2021 Qicz 
            - Qicz&#39;s Thoughts HUB (<a href="https://izcqi.com/"> https://izcqi.com</a>)
            | Theme <a href="https://github.com/qicz/qicz-hugo-theme">qicz-theme</a>
            | This site USES <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a></h6>
    </footer>
</div>

<script async src="https://izcqi.com/js/busuanzi.pure.mini.js"></script>

</body>

</html>

